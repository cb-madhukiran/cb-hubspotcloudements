<!DOCTYPE html>
<html lang="en">
<head>
    <title>HubspotSyncrulesForContacts-Revamped</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>
        var callback = function(){}
    </script>
    <style>
        div.mermaidTooltip {
                    margin-left: 50px;
                    text-align: left;
                    max-width: none;
                }
        .node rect,
        .node circle,
        .node ellipse,
        .node polygon {
                    fill: #ffffff;
                    stroke: rgb(200,200,200);
                    stroke-width: 2px;
                }
        .mermaid .label {
                  max-width: 50px;
                }
        table, th, td {
                    border: 1px solid black;
                }
        table {
                    border-spacing: 5px;
                    border-radius: 5px;
                    margin: auto;
                }
        th, td {
                    padding-left: 15px;
                    padding-right: 15px;
                    border-radius: 5px;
                }
        th {
                    color: blue;
                }
        td {
                    width: 180px;
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                }
        h2 {
                    text-align: center;
                    border: 1px solid black;
                    border-radius: 5px;
                    padding: 1em;
                }
        .container {
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                    font-size: 11px;
                    font-weight: 900;
                }
        body {
                    font-family: 'Arial';
                }
        .edgeLabel {
                    font-size: 9px;
                }
    </style>
</head>
<body>
    <h2>
        HubspotSyncrulesForContacts-Revamped
    </h2>
    <div class="container">
        <div class="mermaid">
            graph TD

                step-000((Trigger))
            step-001(Props)
            step-002(InputParams)
            step-003(setupCBConfig)
            step-004[getChargebeeConfigs]
            step-005{validateGetChargebeeConfigAPIResponse}
            step-006{HasHubSpotStages}
            step-007(getChargebeeConfigError)
            step-027((END))
            step-009(getCustomFieldParams)
            step-010(StageParam)
            step-011[ChargebeeGetCustomFields]
            step-012[getHubspotPipeline]
            step-013{gotCustomFields}
            step-014{validateGetHubspotPipelineAPIResponse}
            step-015(InputParamsForStages)
            step-016(gotChargebeeCustomFieldsError)
            step-027((END))
            step-018(Stages)
            step-019(getHubspotPipelineError)
            step-027((END))
            step-021[getLifeCycleStages]
            step-022[updateChargebeeConfig]
            step-023(Success)
            step-027((END))
            step-025{getStagesAPIResponse}
            step-026(getStagesError)
            step-027((END))

                step-000== continue ==>step-001
            step-001-- success -->step-002
            step-002-- success -->step-003
            step-003-- success -->step-004
            step-004-- success -->step-005
            step-005-- success -->step-006
            step-005-- failure -->step-007
            step-006-- success -->step-009
            step-006-- failure -->step-010
            step-007-. done .->step-027
            step-009-- success -->step-011
            step-010-- success -->step-012
            step-011-- success -->step-013
            step-012-- success -->step-014
            step-013-- success -->step-015
            step-013-- failure -->step-016
            step-014-- success -->step-018
            step-014-- failure -->step-019
            step-015-- success -->step-021
            step-016-. done .->step-027
            step-018-- success -->step-022
            step-019-. done .->step-027
            step-021-- success -->step-023
            step-022-- success -->step-025
            step-023-. done .->step-027
            step-025-- success -->step-009
            step-025-- failure -->step-026
            step-026-. done .->step-027

                style step-027 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-027 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-027 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-027 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-027 stroke-width:3px,stroke-dasharray: 5, 5;

                click step-000 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnRyaWdnZXI8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5UcmlnZ2VyIEVsZW1lbnQ6PC9iPjxicj48YnI+PHByZT4gICB0eXBlIDogbWFudWFsPGJyPiAgYXN5bmMgOiB0cnVlPC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnUHJvcHMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ3R5cGUnOiAnbWFudWFsJyw8YnI+ICAnYXN5bmMnOiB0cnVlLDxicj4gICduYW1lJzogJ3RyaWdnZXInLDxicj4gICdwcm9wZXJ0aWVzJzoge308YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Trigger Element:<br><pre>   type : manual<br>  async : true</pre>"
            click step-001 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlByb3BzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjbG91ZCA9ICdodHRwczovL3N0YWdpbmcuY2xvdWQtZWxlbWVudHMuY29tJzs8YnI+bGV0IHByb3BzICA9IHs8YnI+ICBzYXZlY29uZmlnOiB7PGJyPiAgIHVybDogY2xvdWQrJy9lbGVtZW50cy9hcGktdjIvaHVic3BvdC9zYXZlY29uZmlnJyw8YnI+ICAgaWQ6JzQxMTk0Nyc8YnI+ICB9LDxicj4gICAgZHluYW1pY1RvZ2dsZTogezxicj4gICB1cmw6IGNsb3VkKycvZWxlbWVudHMvYXBpLXYyL2h1YnNwb3Qvc3RhZ2VzdG9nZ2xlJyw8YnI+ICAgaWQ6JzQzNTMzNyc8YnI+ICB9PGJyPn07PGJyPmRvbmUocHJvcHMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0lucHV0UGFyYW1zJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1Byb3BzJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNsb3VkID0gXCdodHRwczovL3N0YWdpbmcuY2xvdWQtZWxlbWVudHMuY29tXCc7XG5sZXQgcHJvcHMgID0ge1xuICBzYXZlY29uZmlnOiB7XG4gICB1cmw6IGNsb3VkK1wnL2VsZW1lbnRzL2FwaS12Mi9odWJzcG90L3NhdmVjb25maWdcJyxcbiAgIGlkOlwnNDExOTQ3XCdcbiAgfSxcbiAgICBkeW5hbWljVG9nZ2xlOiB7XG4gICB1cmw6IGNsb3VkK1wnL2VsZW1lbnRzL2FwaS12Mi9odWJzcG90L3N0YWdlc3RvZ2dsZVwnLFxuICAgaWQ6XCc0MzUzMzdcJ1xuICB9XG59O1xuZG9uZShwcm9wcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let cloud = 'https://staging.cloud-elements.com';<br>let props  = {<br>  saveconfig: {<br>   url: cloud+'/elements/api-v2/hubspot/saveconfig',<br>   id:'411947'<br>  },<br>    dynamicToggle: {<br>   url: cloud+'/elements/api-v2/hubspot/stagestoggle',<br>   id:'435337'<br>  }<br>};<br>done(props);</pre>"
            click step-002 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklucHV0UGFyYW1zPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPjxicj5sZXQgZ2V0UmVxdWV0QXJncyA9IChhcmcpPTxzcGFuPj48L3NwYW4+ezxicj4gICAgbGV0IHRyaWdnZXJBcmd1bWVudCA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5W2FyZ107PGJyPiAgICAgICAgaWYodHJpZ2dlckFyZ3VtZW50ICE9PSB1bmRlZmluZWQpIDxicj4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlckFyZ3VtZW50Ozxicj4gICAgICAgIGVsc2V7PGJyPiAgICAgICAgICAgIHJldHVybiAnc2VsZWN0Jzs8YnI+ICAgICAgICB9PGJyPiAgICB9PGJyPjxicj5sZXQgTm9TdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdOb1N1YnNjcmlwdGlvbicpOzxicj5sZXQgVHJpYWxTdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdUcmlhbFN1YnNjcmlwdGlvbicpOzxicj5sZXQgQWN0aXZlU3Vic2NyaXB0aW9uID0gZ2V0UmVxdWV0QXJncygnQWN0aXZlU3Vic2NyaXB0aW9uJyk7PGJyPmxldCBDYW5jZWxlZFN1YnNjcmlwdGlvbiA9IGdldFJlcXVldEFyZ3MoJ0NhbmNlbGVkU3Vic2NyaXB0aW9uJyk7PGJyPjxicj5sZXQgcGFyYW1zID0gezxicj4gICAgTm9TdWJzY3JpcHRpb24gOiBOb1N1YnNjcmlwdGlvbiw8YnI+ICAgIFRyaWFsU3Vic2NyaXB0aW9uIDogVHJpYWxTdWJzY3JpcHRpb24sPGJyPiAgICBBY3RpdmVTdWJzY3JpcHRpb24gOiBBY3RpdmVTdWJzY3JpcHRpb24sPGJyPiAgICBDYW5jZWxlZFN1YnNjcmlwdGlvbiA6IENhbmNlbGVkU3Vic2NyaXB0aW9uPGJyPn07PGJyPmRvbmUoe3BhcmFtcyA6IHBhcmFtc30pOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3NldHVwQ0JDb25maWcnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnSW5wdXRQYXJhbXMnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdcbmxldCBnZXRSZXF1ZXRBcmdzID0gKGFyZyk9PHNwYW4+Pjwvc3Bhbj57XG4gICAgbGV0IHRyaWdnZXJBcmd1bWVudCA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5W2FyZ107XG4gICAgICAgIGlmKHRyaWdnZXJBcmd1bWVudCAhPT0gdW5kZWZpbmVkKSBcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyQXJndW1lbnQ7XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICByZXR1cm4gXCdzZWxlY3RcJztcbiAgICAgICAgfVxuICAgIH1cblxubGV0IE5vU3Vic2NyaXB0aW9uID0gZ2V0UmVxdWV0QXJncygnTm9TdWJzY3JpcHRpb24nKTtcbmxldCBUcmlhbFN1YnNjcmlwdGlvbiA9IGdldFJlcXVldEFyZ3MoJ1RyaWFsU3Vic2NyaXB0aW9uJyk7XG5sZXQgQWN0aXZlU3Vic2NyaXB0aW9uID0gZ2V0UmVxdWV0QXJncygnQWN0aXZlU3Vic2NyaXB0aW9uJyk7XG5sZXQgQ2FuY2VsZWRTdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdDYW5jZWxlZFN1YnNjcmlwdGlvbicpO1xuXG5sZXQgcGFyYW1zID0ge1xuICAgIE5vU3Vic2NyaXB0aW9uIDogTm9TdWJzY3JpcHRpb24sXG4gICAgVHJpYWxTdWJzY3JpcHRpb24gOiBUcmlhbFN1YnNjcmlwdGlvbixcbiAgICBBY3RpdmVTdWJzY3JpcHRpb24gOiBBY3RpdmVTdWJzY3JpcHRpb24sXG4gICAgQ2FuY2VsZWRTdWJzY3JpcHRpb24gOiBDYW5jZWxlZFN1YnNjcmlwdGlvblxufTtcbmRvbmUoe3BhcmFtcyA6IHBhcmFtc30pOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre><br>let getRequetArgs = (arg)=<span>></span>{<br>    let triggerArgument = trigger.args.request.query[arg];<br>        if(triggerArgument !== undefined) <br>            return triggerArgument;<br>        else{<br>            return 'select';<br>        }<br>    }<br><br>let NoSubscription = getRequetArgs('NoSubscription');<br>let TrialSubscription = getRequetArgs('TrialSubscription');<br>let ActiveSubscription = getRequetArgs('ActiveSubscription');<br>let CanceledSubscription = getRequetArgs('CanceledSubscription');<br><br>let params = {<br>    NoSubscription : NoSubscription,<br>    TrialSubscription : TrialSubscription,<br>    ActiveSubscription : ActiveSubscription,<br>    CanceledSubscription : CanceledSubscription<br>};<br>done({params : params});</pre>"
            click step-003 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldHVwQ0JDb25maWc8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IGFwaUtleSA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5WydjYi1hcGkta2V5J107PGJyPmxldCBzaXRlTmFtZSA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5WydjYi1zaXRlLW5hbWUnXTs8YnI+bGV0IHR5cGUgPSB0cmlnZ2VyLmFyZ3MucmVxdWVzdC5xdWVyeVsnaW50ZWdyYXRpb25OYW1lJ107PGJyPmxldCBzaXRlRG9tYWluID0gdHJpZ2dlci5hcmdzLnJlcXVlc3QucXVlcnlbJ2NiLWRvbWFpbiddOzxicj5sZXQgcGFzc3dvcmQgPSAnJzs8YnI+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6ICdodHRwczovLycrc2l0ZU5hbWUrJy4nK3NpdGVEb21haW4rJy9hcGkvdjIvdGhpcmRfcGFydHlfY29uZmlndXJhdGlvbnMnLDxicj4gIGhlYWRlcnM6ezxicj4gICAgICAgIEF1dGhvcml6YXRpb246ICdCYXNpYyAnICsgQ0UuYjY0KGFwaUtleSArICc6JyArIHBhc3N3b3JkKTxicj4gIH0sPGJyPiAgcXVlcnk6ezxicj4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGU8YnI+ICAgICAgfSw8YnI+ICBhcGlLZXk6IGFwaUtleSw8YnI+ICBwYXNzd29yZDogcGFzc3dvcmQsPGJyPiAgc2l0ZU5hbWU6IHNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46c2l0ZURvbWFpbiw8YnI+ICB0eXBlOiB0eXBlLCAgICA8YnI+fTs8YnI+PGJyPmRvbmUocGFyYW1zKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRDaGFyZ2ViZWVDb25maWdzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3NldHVwQ0JDb25maWcnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgYXBpS2V5ID0gdHJpZ2dlci5hcmdzLnJlcXVlc3QucXVlcnlbJ2NiLWFwaS1rZXknXTtcbmxldCBzaXRlTmFtZSA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5WydjYi1zaXRlLW5hbWUnXTtcbmxldCB0eXBlID0gdHJpZ2dlci5hcmdzLnJlcXVlc3QucXVlcnlbXCdpbnRlZ3JhdGlvbk5hbWVcJ107XG5sZXQgc2l0ZURvbWFpbiA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5WydjYi1kb21haW4nXTtcbmxldCBwYXNzd29yZCA9IFwnXCc7XG5sZXQgcGFyYW1zID0ge1xuICB1cmw6IFwnaHR0cHM6Ly9cJytzaXRlTmFtZStcJy5cJytzaXRlRG9tYWluK1wnL2FwaS92Mi90aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uc1wnLFxuICBoZWFkZXJzOntcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICB9LFxuICBxdWVyeTp7XG4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGVcbiAgICAgIH0sXG4gIGFwaUtleTogYXBpS2V5LFxuICBwYXNzd29yZDogcGFzc3dvcmQsXG4gIHNpdGVOYW1lOiBzaXRlTmFtZSxcbiAgc2l0ZURvbWFpbjpzaXRlRG9tYWluLFxuICB0eXBlOiB0eXBlLCAgICBcbn07XG5cbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let apiKey = trigger.args.request.query['cb-api-key'];<br>let siteName = trigger.args.request.query['cb-site-name'];<br>let type = trigger.args.request.query['integrationName'];<br>let siteDomain = trigger.args.request.query['cb-domain'];<br>let password = '';<br>let params = {<br>  url: 'https://'+siteName+'.'+siteDomain+'/api/v2/third_party_configurations',<br>  headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>  },<br>  query:{<br>        integration_name: type<br>      },<br>  apiKey: apiKey,<br>  password: password,<br>  siteName: siteName,<br>  siteDomain:siteDomain,<br>  type: type,    <br>};<br><br>done(params);</pre>"
            click step-004 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldENoYXJnZWJlZUNvbmZpZ3M8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMwPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5zZXR1cENCQ29uZmlnfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3ZhbGlkYXRlR2V0Q2hhcmdlYmVlQ29uZmlnQVBJUmVzcG9uc2UnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnZ2V0Q2hhcmdlYmVlQ29uZmlncycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0dXBDQkNvbmZpZ30nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.setupCBConfig}</pre>"
            click step-005 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnZhbGlkYXRlR2V0Q2hhcmdlYmVlQ29uZmlnQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmNiX3N0YXR1cz09PSdzdWNjZXNzJyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnSGFzSHViU3BvdFN0YWdlcyc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnZ2V0Q2hhcmdlYmVlQ29uZmlnRXJyb3InPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICd2YWxpZGF0ZUdldENoYXJnZWJlZUNvbmZpZ0FQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnZG9uZShzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.getChargebeeConfigs.cb_status==='success');</pre>"
            click step-006 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0h1YlNwb3RTdGFnZXM8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+Ly9kb25lKHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3MuZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMuaHViU3BvdFN0YWdlcyAhPT11bmRlZmluZWQpOzxicj5kb25lKHRydWUpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldEN1c3RvbUZpZWxkUGFyYW1zJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdTdGFnZVBhcmFtJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzSHViU3BvdFN0YWdlcycsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJy8vZG9uZShzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLmh1YlNwb3RTdGFnZXMgIT09dW5kZWZpbmVkKTtcbmRvbmUodHJ1ZSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>//done(steps.getChargebeeConfigs.data.third_party_configuration.config_json.cloudElements.hubSpotStages !==undefined);<br>done(true);</pre>"
            click step-007 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldENoYXJnZWJlZUNvbmZpZ0Vycm9yPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjYXJkID0gezxicj4gICAgY2FyZHM6IFs8YnI+ICAgICAgICB7PGJyPiAgICAgICAgICAgICdjYXJkJzogezxicj4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnQUNUSU9OJyw8YnI+ICAgICAgICAgICAgICAgICdoZWFkaW5nJzogJ0VSUk9SJyw8YnI+ICAgICAgICAgICAgICAgICdzdWJIZWFkaW5nJzogJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgJytzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmNiX2Vycm9yX2NvZGU8YnI+ICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgJ2lzQ2FyZERvbmUnOiB0cnVlLDxicj4gICAgICAgICAgICAnaWQnOiAnY2hlY2syJzxicj4gICAgICAgIH08YnI+ICAgICAgICBdPGJyPn07PGJyPjxicj5kb25lKHs8YnI+IHN0YXR1c0NvZGU6IDIwMCw8YnI+IHJlc3VsdDogY2FyZDxicj59KTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldENoYXJnZWJlZUNvbmZpZ0Vycm9yJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNhcmQgPSB7XG4gICAgY2FyZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCdjYXJkXCc6IHtcbiAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdBQ1RJT05cJyxcbiAgICAgICAgICAgICAgICBcJ2hlYWRpbmdcJzogXCdFUlJPUlwnLFxuICAgICAgICAgICAgICAgIFwnc3ViSGVhZGluZ1wnOiBcJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgXCcrc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlncy5jYl9lcnJvcl9jb2RlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCdpc0NhcmREb25lXCc6IHRydWUsXG4gICAgICAgICAgICBcJ2lkXCc6IFwnY2hlY2syXCdcbiAgICAgICAgfVxuICAgICAgICBdXG59O1xuXG5kb25lKHtcbiBzdGF0dXNDb2RlOiAyMDAsXG4gcmVzdWx0OiBjYXJkXG59KSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let card = {<br>    cards: [<br>        {<br>            'card': {<br>                'type': 'ACTION',<br>                'heading': 'ERROR',<br>                'subHeading': 'An issue was encountered due to which the sync did not succeed. Please retry sync and if the issue still persists, contact support '+steps.getChargebeeConfigs.cb_error_code<br>            },<br>            'isCardDone': true,<br>            'id': 'check2'<br>        }<br>        ]<br>};<br><br>done({<br> statusCode: 200,<br> result: card<br>})</pre>"
            click step-009 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEN1c3RvbUZpZWxkUGFyYW1zPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBzaXRlTmFtZSA9IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWU7PGJyPmxldCBzaXRlRG9tYWluID0gc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlRG9tYWluOzxicj5sZXQgdHlwZSA9IHN0ZXBzLnNldHVwQ0JDb25maWcudHlwZTs8YnI+bGV0IGFwaUtleSA9IHN0ZXBzLnNldHVwQ0JDb25maWcuYXBpS2V5Ozxicj5sZXQgcGFzc3dvcmQgPSBzdGVwcy5zZXR1cENCQ29uZmlnLnBhc3N3b3JkOzxicj48YnI+bGV0IGdldEN1c3RvbUZpZWxkQXBpID0gezxicj4gIHVybDogJ2h0dHBzOi8vJytzaXRlTmFtZSsnLmludGVncmF0aW9ucy4nK3NpdGVEb21haW4rJy9pbnRlZ3JhdGlvbnMvYXBpL2dldF9jdXN0b21fZmllbGRfbGlzdCcsPGJyPiAgaGVhZGVyczp7PGJyPiAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChhcGlLZXkgKyAnOicgKyBwYXNzd29yZCk8YnI+ICB9LDxicj4gIHF1ZXJ5Ons8YnI+ICAgIHNpdGVfbmFtZTogc2l0ZU5hbWUsPGJyPiAgICBhcGlfa2V5OiBhcGlLZXk8YnI+ICB9LDxicj4gIGFwaUtleTogYXBpS2V5LDxicj4gIHNpdGVEb21haW46IHNpdGVEb21haW4sPGJyPiAgc2l0ZU5hbWU6IHNpdGVOYW1lLDxicj4gIHR5cGU6IHR5cGU8YnI+fTs8YnI+PGJyPmRvbmUoezxicj4gIGdldEN1c3RvbUZpZWxkQXBpOiBnZXRDdXN0b21GaWVsZEFwaTxicj59KTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdDaGFyZ2ViZWVHZXRDdXN0b21GaWVsZHMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnZ2V0Q3VzdG9tRmllbGRQYXJhbXMnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgc2l0ZU5hbWUgPSBzdGVwcy5zZXR1cENCQ29uZmlnLnNpdGVOYW1lO1xubGV0IHNpdGVEb21haW4gPSBzdGVwcy5zZXR1cENCQ29uZmlnLnNpdGVEb21haW47XG5sZXQgdHlwZSA9IHN0ZXBzLnNldHVwQ0JDb25maWcudHlwZTtcbmxldCBhcGlLZXkgPSBzdGVwcy5zZXR1cENCQ29uZmlnLmFwaUtleTtcbmxldCBwYXNzd29yZCA9IHN0ZXBzLnNldHVwQ0JDb25maWcucGFzc3dvcmQ7XG5cbmxldCBnZXRDdXN0b21GaWVsZEFwaSA9IHtcbiAgdXJsOiBcJ2h0dHBzOi8vXCcrc2l0ZU5hbWUrXCcuaW50ZWdyYXRpb25zLlwnK3NpdGVEb21haW4rXCcvaW50ZWdyYXRpb25zL2FwaS9nZXRfY3VzdG9tX2ZpZWxkX2xpc3RcJyxcbiAgaGVhZGVyczp7XG4gICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICB9LFxuICBxdWVyeTp7XG4gICAgc2l0ZV9uYW1lOiBzaXRlTmFtZSxcbiAgICBhcGlfa2V5OiBhcGlLZXlcbiAgfSxcbiAgYXBpS2V5OiBhcGlLZXksXG4gIHNpdGVEb21haW46IHNpdGVEb21haW4sXG4gIHNpdGVOYW1lOiBzaXRlTmFtZSxcbiAgdHlwZTogdHlwZVxufTtcblxuZG9uZSh7XG4gIGdldEN1c3RvbUZpZWxkQXBpOiBnZXRDdXN0b21GaWVsZEFwaVxufSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let siteName = steps.setupCBConfig.siteName;<br>let siteDomain = steps.setupCBConfig.siteDomain;<br>let type = steps.setupCBConfig.type;<br>let apiKey = steps.setupCBConfig.apiKey;<br>let password = steps.setupCBConfig.password;<br><br>let getCustomFieldApi = {<br>  url: 'https://'+siteName+'.integrations.'+siteDomain+'/integrations/api/get_custom_field_list',<br>  headers:{<br>    Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>  },<br>  query:{<br>    site_name: siteName,<br>    api_key: apiKey<br>  },<br>  apiKey: apiKey,<br>  siteDomain: siteDomain,<br>  siteName: siteName,<br>  type: type<br>};<br><br>done({<br>  getCustomFieldApi: getCustomFieldApi<br>});</pre>"
            click step-010 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN0YWdlUGFyYW08L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6ICdodHRwczovL2FwaS5odWJhcGkuY29tL2NybS1waXBlbGluZXMvdjEvcGlwZWxpbmVzL2RlYWxzJyw8YnI+ICBoZWFkZXJzOiB7PGJyPiAgICAnQXV0aG9yaXphdGlvbic6J0JlYXJlciAnKyBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnRoaXJkUGFydHkuYWNjZXNzVG9rZW48YnI+ICB9LDxicj4gIGFwaUtleTogc3RlcHMuc2V0dXBDQkNvbmZpZy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWUsPGJyPiAgc2l0ZURvbWFpbjogc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlRG9tYWluLDxicj4gIHR5cGU6ICdodWJzcG90Jyw8YnI+fTs8YnI+ZG9uZShwYXJhbXMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldEh1YnNwb3RQaXBlbGluZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdTdGFnZVBhcmFtJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IHBhcmFtcyA9IHtcbiAgdXJsOiBcJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vY3JtLXBpcGVsaW5lcy92MS9waXBlbGluZXMvZGVhbHNcJyxcbiAgaGVhZGVyczoge1xuICAgIFwnQXV0aG9yaXphdGlvblwnOlwnQmVhcmVyIFwnKyBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnRoaXJkUGFydHkuYWNjZXNzVG9rZW5cbiAgfSxcbiAgYXBpS2V5OiBzdGVwcy5zZXR1cENCQ29uZmlnLmFwaUtleSxcbiAgc2l0ZU5hbWU6IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZURvbWFpbixcbiAgdHlwZTogXCdodWJzcG90XCcsXG59O1xuZG9uZShwYXJhbXMpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let params = {<br>  url: 'https://api.hubapi.com/crm-pipelines/v1/pipelines/deals',<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfigs.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.setupCBConfig.apiKey,<br>  siteName: steps.setupCBConfig.siteName,<br>  siteDomain: steps.setupCBConfig.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-011 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkNoYXJnZWJlZUdldEN1c3RvbUZpZWxkczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzA8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLmdldEN1c3RvbUZpZWxkUGFyYW1zLmdldEN1c3RvbUZpZWxkQXBpfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dvdEN1c3RvbUZpZWxkcyc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdDaGFyZ2ViZWVHZXRDdXN0b21GaWVsZHMnLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMCcsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLmdldEN1c3RvbUZpZWxkUGFyYW1zLmdldEN1c3RvbUZpZWxkQXBpfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.getCustomFieldParams.getCustomFieldApi}</pre>"
            click step-012 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEh1YnNwb3RQaXBlbGluZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzI8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLlN0YWdlUGFyYW19PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAndmFsaWRhdGVHZXRIdWJzcG90UGlwZWxpbmVBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRIdWJzcG90UGlwZWxpbmUnLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMicsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLlN0YWdlUGFyYW19Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.StageParam}</pre>"
            click step-013 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdvdEN1c3RvbUZpZWxkczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5DaGFyZ2ViZWVHZXRDdXN0b21GaWVsZHMuY2Jfc3RhdHVzID09ICdzdWNjZXNzJyk8YnI+ICBkb25lKHRydWUpOzxicj5lbHNlPGJyPiAgZG9uZShmYWxzZSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnSW5wdXRQYXJhbXNGb3JTdGFnZXMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ2dvdENoYXJnZWJlZUN1c3RvbUZpZWxkc0Vycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ290Q3VzdG9tRmllbGRzJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMuQ2hhcmdlYmVlR2V0Q3VzdG9tRmllbGRzLmNiX3N0YXR1cyA9PSBcJ3N1Y2Nlc3NcJylcbiAgZG9uZSh0cnVlKTtcbmVsc2VcbiAgZG9uZShmYWxzZSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.ChargebeeGetCustomFields.cb_status == 'success')<br>  done(true);<br>else<br>  done(false);</pre>"
            click step-014 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnZhbGlkYXRlR2V0SHVic3BvdFBpcGVsaW5lQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5nZXRIdWJzcG90UGlwZWxpbmUuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdTdGFnZXMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ2dldEh1YnNwb3RQaXBlbGluZUVycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAndmFsaWRhdGVHZXRIdWJzcG90UGlwZWxpbmVBUElSZXNwb25zZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2RvbmUoc3RlcHMuZ2V0SHVic3BvdFBpcGVsaW5lLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.getHubspotPipeline.cb_status==='success');</pre>"
            click step-015 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklucHV0UGFyYW1zRm9yU3RhZ2VzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPjxicj5sZXQgc3luY1J1bGVzQ29udGFjdHMgPSAgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlncy5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb248YnI+ICAgIC5jbG91ZEVsZW1lbnRzLnN5bmNSdWxlc0NvbnRhY3RzOzxicj5sZXQgTm9TdWJzY3JpcHRpb247PGJyPmxldCBUcmlhbFN1YnNjcmlwdGlvbjs8YnI+bGV0IEFjdGl2ZVN1YnNjcmlwdGlvbjs8YnI+bGV0IENhbmNlbGVkU3Vic2NyaXB0aW9uOzxicj5pZiAoc3luY1J1bGVzQ29udGFjdHMgIT09IHVuZGVmaW5lZCkgezxicj4gICAgbGV0IExpZmVjeWNsZVN0YWdlID0gc3luY1J1bGVzQ29udGFjdHMuTGlmZWN5Y2xlU3RhZ2U7PGJyPiAgICBpZiAoTGlmZWN5Y2xlU3RhZ2UgIT09IHVuZGVmaW5lZCkgezxicj4gICAgICAgIE5vU3Vic2NyaXB0aW9uID0gTGlmZWN5Y2xlU3RhZ2UuTm9TdWJzY3JpcHRpb247PGJyPiAgICAgICAgVHJpYWxTdWJzY3JpcHRpb24gPSBMaWZlY3ljbGVTdGFnZS5UcmlhbFN1YnNjcmlwdGlvbjs8YnI+ICAgICAgICBBY3RpdmVTdWJzY3JpcHRpb24gPSBMaWZlY3ljbGVTdGFnZS5BY3RpdmVTdWJzY3JpcHRpb247PGJyPiAgICAgICAgQ2FuY2VsZWRTdWJzY3JpcHRpb24gPSBMaWZlY3ljbGVTdGFnZS5DYW5jZWxlZFN1YnNjcmlwdGlvbjs8YnI+ICAgIH08YnI+fTxicj48YnI+ICBpZiAoTm9TdWJzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkgezxicj4gICAgTm9TdWJzY3JpcHRpb24gPSAnc2VsZWN0Jzs8YnI+ICB9PGJyPiAgaWYgKFRyaWFsU3Vic2NyaXB0aW9uID09PSB1bmRlZmluZWQpIHs8YnI+ICAgIFRyaWFsU3Vic2NyaXB0aW9uID0gJ3NlbGVjdCc7PGJyPiAgfTxicj4gIGlmIChBY3RpdmVTdWJzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkgezxicj4gICAgQWN0aXZlU3Vic2NyaXB0aW9uID0gJ3NlbGVjdCc7PGJyPiAgfTxicj4gIGlmIChDYW5jZWxlZFN1YnNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7PGJyPiAgICBDYW5jZWxlZFN1YnNjcmlwdGlvbiA9ICdzZWxlY3QnOzxicj4gIH08YnI+PGJyPmxldCBwYXJhbXMgPSB7PGJyPiAgICBOb1N1YnNjcmlwdGlvbiA6IE5vU3Vic2NyaXB0aW9uLDxicj4gICAgVHJpYWxTdWJzY3JpcHRpb24gOiBUcmlhbFN1YnNjcmlwdGlvbiw8YnI+ICAgIEFjdGl2ZVN1YnNjcmlwdGlvbiA6IEFjdGl2ZVN1YnNjcmlwdGlvbiw8YnI+ICAgIENhbmNlbGVkU3Vic2NyaXB0aW9uIDogQ2FuY2VsZWRTdWJzY3JpcHRpb248YnI+fTxicj5kb25lKHtwYXJhbXMgOiBwYXJhbXN9KTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldExpZmVDeWNsZVN0YWdlcyc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdJbnB1dFBhcmFtc0ZvclN0YWdlcycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ1xubGV0IHN5bmNSdWxlc0NvbnRhY3RzID0gIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3MuZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uXG4gICAgLmNsb3VkRWxlbWVudHMuc3luY1J1bGVzQ29udGFjdHM7XG5sZXQgTm9TdWJzY3JpcHRpb247XG5sZXQgVHJpYWxTdWJzY3JpcHRpb247XG5sZXQgQWN0aXZlU3Vic2NyaXB0aW9uO1xubGV0IENhbmNlbGVkU3Vic2NyaXB0aW9uO1xuaWYgKHN5bmNSdWxlc0NvbnRhY3RzICE9PSB1bmRlZmluZWQpIHtcbiAgICBsZXQgTGlmZWN5Y2xlU3RhZ2UgPSBzeW5jUnVsZXNDb250YWN0cy5MaWZlY3ljbGVTdGFnZTtcbiAgICBpZiAoTGlmZWN5Y2xlU3RhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBOb1N1YnNjcmlwdGlvbiA9IExpZmVjeWNsZVN0YWdlLk5vU3Vic2NyaXB0aW9uO1xuICAgICAgICBUcmlhbFN1YnNjcmlwdGlvbiA9IExpZmVjeWNsZVN0YWdlLlRyaWFsU3Vic2NyaXB0aW9uO1xuICAgICAgICBBY3RpdmVTdWJzY3JpcHRpb24gPSBMaWZlY3ljbGVTdGFnZS5BY3RpdmVTdWJzY3JpcHRpb247XG4gICAgICAgIENhbmNlbGVkU3Vic2NyaXB0aW9uID0gTGlmZWN5Y2xlU3RhZ2UuQ2FuY2VsZWRTdWJzY3JpcHRpb247XG4gICAgfVxufVxuXG4gIGlmIChOb1N1YnNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgTm9TdWJzY3JpcHRpb24gPSBcJ3NlbGVjdFwnO1xuICB9XG4gIGlmIChUcmlhbFN1YnNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgVHJpYWxTdWJzY3JpcHRpb24gPSBcJ3NlbGVjdFwnO1xuICB9XG4gIGlmIChBY3RpdmVTdWJzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIEFjdGl2ZVN1YnNjcmlwdGlvbiA9IFwnc2VsZWN0XCc7XG4gIH1cbiAgaWYgKENhbmNlbGVkU3Vic2NyaXB0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBDYW5jZWxlZFN1YnNjcmlwdGlvbiA9IFwnc2VsZWN0XCc7XG4gIH1cblxubGV0IHBhcmFtcyA9IHtcbiAgICBOb1N1YnNjcmlwdGlvbiA6IE5vU3Vic2NyaXB0aW9uLFxuICAgIFRyaWFsU3Vic2NyaXB0aW9uIDogVHJpYWxTdWJzY3JpcHRpb24sXG4gICAgQWN0aXZlU3Vic2NyaXB0aW9uIDogQWN0aXZlU3Vic2NyaXB0aW9uLFxuICAgIENhbmNlbGVkU3Vic2NyaXB0aW9uIDogQ2FuY2VsZWRTdWJzY3JpcHRpb25cbn1cbmRvbmUoe3BhcmFtcyA6IHBhcmFtc30pJzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre><br>let syncRulesContacts =  steps.getChargebeeConfigs.data.third_party_configuration.config_json<br>    .cloudElements.syncRulesContacts;<br>let NoSubscription;<br>let TrialSubscription;<br>let ActiveSubscription;<br>let CanceledSubscription;<br>if (syncRulesContacts !== undefined) {<br>    let LifecycleStage = syncRulesContacts.LifecycleStage;<br>    if (LifecycleStage !== undefined) {<br>        NoSubscription = LifecycleStage.NoSubscription;<br>        TrialSubscription = LifecycleStage.TrialSubscription;<br>        ActiveSubscription = LifecycleStage.ActiveSubscription;<br>        CanceledSubscription = LifecycleStage.CanceledSubscription;<br>    }<br>}<br><br>  if (NoSubscription === undefined) {<br>    NoSubscription = 'select';<br>  }<br>  if (TrialSubscription === undefined) {<br>    TrialSubscription = 'select';<br>  }<br>  if (ActiveSubscription === undefined) {<br>    ActiveSubscription = 'select';<br>  }<br>  if (CanceledSubscription === undefined) {<br>    CanceledSubscription = 'select';<br>  }<br><br>let params = {<br>    NoSubscription : NoSubscription,<br>    TrialSubscription : TrialSubscription,<br>    ActiveSubscription : ActiveSubscription,<br>    CanceledSubscription : CanceledSubscription<br>}<br>done({params : params})</pre>"
            click step-016 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdvdENoYXJnZWJlZUN1c3RvbUZpZWxkc0Vycm9yPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjYXJkID0gezxicj4gICAgY2FyZHM6IFs8YnI+ICAgICAgICB7PGJyPiAgICAgICAgICAgICdjYXJkJzogezxicj4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnQUNUSU9OJyw8YnI+ICAgICAgICAgICAgICAgICdoZWFkaW5nJzogJ0VSUk9SJyw8YnI+ICAgICAgICAgICAgICAgICdzdWJIZWFkaW5nJzogJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgJytzdGVwcy5DaGFyZ2ViZWVHZXRDdXN0b21GaWVsZHMuY2JfZXJyb3JfY29kZTxicj4gICAgICAgICAgICB9LDxicj4gICAgICAgICAgICAnaXNDYXJkRG9uZSc6IHRydWUsPGJyPiAgICAgICAgICAgICdpZCc6ICdjaGVjazInPGJyPiAgICAgICAgfTxicj4gICAgICAgIF08YnI+fTs8YnI+PGJyPmRvbmUoezxicj4gc3RhdHVzQ29kZTogMjAwLDxicj4gcmVzdWx0OiBjYXJkPGJyPn0pOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dvdENoYXJnZWJlZUN1c3RvbUZpZWxkc0Vycm9yJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNhcmQgPSB7XG4gICAgY2FyZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCdjYXJkXCc6IHtcbiAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdBQ1RJT05cJyxcbiAgICAgICAgICAgICAgICBcJ2hlYWRpbmdcJzogXCdFUlJPUlwnLFxuICAgICAgICAgICAgICAgIFwnc3ViSGVhZGluZ1wnOiBcJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgXCcrc3RlcHMuQ2hhcmdlYmVlR2V0Q3VzdG9tRmllbGRzLmNiX2Vycm9yX2NvZGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcJ2lzQ2FyZERvbmVcJzogdHJ1ZSxcbiAgICAgICAgICAgIFwnaWRcJzogXCdjaGVjazJcJ1xuICAgICAgICB9XG4gICAgICAgIF1cbn07XG5cbmRvbmUoe1xuIHN0YXR1c0NvZGU6IDIwMCxcbiByZXN1bHQ6IGNhcmRcbn0pOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let card = {<br>    cards: [<br>        {<br>            'card': {<br>                'type': 'ACTION',<br>                'heading': 'ERROR',<br>                'subHeading': 'An issue was encountered due to which the sync did not succeed. Please retry sync and if the issue still persists, contact support '+steps.ChargebeeGetCustomFields.cb_error_code<br>            },<br>            'isCardDone': true,<br>            'id': 'check2'<br>        }<br>        ]<br>};<br><br>done({<br> statusCode: 200,<br> result: card<br>});</pre>"
            click step-018 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN0YWdlczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5sZXQgcmVzdWx0ID0gc3RlcHMuZ2V0SHVic3BvdFBpcGVsaW5lLmRhdGEucmVzdWx0czs8YnI+bGV0IGNvbmZpZ0pzb24gPSBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbjs8YnI+PGJyPmxldCBzdGFnZU9wdGlvbnMgPSB7fTs8YnI+PGJyPmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IHJlc3VsdC5sZW5ndGg7IGkrKykgezxicj4gICAgaWYgKHJlc3VsdFtpXS5waXBlbGluZUlkID09PSAnZGVmYXVsdCcpIHs8YnI+ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8c3Bhbj48PC9zcGFuPiByZXN1bHRbaV0uc3RhZ2VzLmxlbmd0aDsgaisrKSB7PGJyPiAgICAgICAgICAgIHN0YWdlT3B0aW9uc1tyZXN1bHRbaV0uc3RhZ2VzW2pdLnN0YWdlSWRdID0gcmVzdWx0W2ldLnN0YWdlc1tqXS5sYWJlbDs8YnI+ICAgICAgICB9PGJyPiAgICB9PGJyPn08YnI+Y29uZmlnSnNvbi5jbG91ZEVsZW1lbnRzLmh1YlNwb3RTdGFnZXMgPSB7PGJyPiAgICBzdGFnZU9wdGlvbnM6IHN0YWdlT3B0aW9uczxicj59Ozxicj48YnI+bGV0IGRhdGEgPSB7PGJyPiAgICB1cmw6ICdodHRwczovLycgKyBzdGVwcy5zZXR1cENCQ29uZmlnLnNpdGVOYW1lICsgJy5pbnRlZ3JhdGlvbnMuJyArIHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZURvbWFpbiArICcvaW50ZWdyYXRpb25zL3VwZGF0ZV90cF9pbnRlZ19jb25mJyw8YnI+ICAgIGhlYWRlcnM6IHs8YnI+ICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLDxicj4gICAgICAgICdjYWNoZS1jb250cm9sJzogJ25vLWNhY2hlJzxicj4gICAgfSw8YnI+ICAgIGJvZHk6IHs8YnI+ICAgICAgICBzaXRlX25hbWU6IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWUsPGJyPiAgICAgICAgYXBpX2tleTogc3RlcHMuc2V0dXBDQkNvbmZpZy5hcGlLZXksPGJyPiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogc3RlcHMuc2V0dXBDQkNvbmZpZy50eXBlLDxicj4gICAgICAgIGNvbmZpZ19qc29uOiBjb25maWdKc29uPGJyPiAgICB9LDxicj4gICAgIGFwaUtleTogc3RlcHMuc2V0dXBDQkNvbmZpZy5hcGlLZXksPGJyPiAgICAgc2l0ZU5hbWU6IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWUsPGJyPiAgICAgc2l0ZURvbWFpbjogc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlRG9tYWluLDxicj4gICAgIHR5cGU6ICdodWJzcG90Jyw8YnI+ICAgICBxdWVyeTp7fTxicj59Ozxicj48YnI+ZG9uZShkYXRhKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICd1cGRhdGVDaGFyZ2ViZWVDb25maWcnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnU3RhZ2VzJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IHJlc3VsdCA9IHN0ZXBzLmdldEh1YnNwb3RQaXBlbGluZS5kYXRhLnJlc3VsdHM7XG5sZXQgY29uZmlnSnNvbiA9IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3MuZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uO1xuXG5sZXQgc3RhZ2VPcHRpb25zID0ge307XG5cbmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXN1bHRbaV0ucGlwZWxpbmVJZCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDxzcGFuPjw8L3NwYW4+IHJlc3VsdFtpXS5zdGFnZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHN0YWdlT3B0aW9uc1tyZXN1bHRbaV0uc3RhZ2VzW2pdLnN0YWdlSWRdID0gcmVzdWx0W2ldLnN0YWdlc1tqXS5sYWJlbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbmZpZ0pzb24uY2xvdWRFbGVtZW50cy5odWJTcG90U3RhZ2VzID0ge1xuICAgIHN0YWdlT3B0aW9uczogc3RhZ2VPcHRpb25zXG59O1xuXG5sZXQgZGF0YSA9IHtcbiAgICB1cmw6IFwnaHR0cHM6Ly9cJyArIHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZU5hbWUgKyBcJy5pbnRlZ3JhdGlvbnMuXCcgKyBzdGVwcy5zZXR1cENCQ29uZmlnLnNpdGVEb21haW4gKyBcJy9pbnRlZ3JhdGlvbnMvdXBkYXRlX3RwX2ludGVnX2NvbmZcJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwnQ29udGVudC1UeXBlXCc6IFwnYXBwbGljYXRpb24vanNvblwnLFxuICAgICAgICBcJ2NhY2hlLWNvbnRyb2xcJzogXCduby1jYWNoZVwnXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICAgIHNpdGVfbmFtZTogc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlTmFtZSxcbiAgICAgICAgYXBpX2tleTogc3RlcHMuc2V0dXBDQkNvbmZpZy5hcGlLZXksXG4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHN0ZXBzLnNldHVwQ0JDb25maWcudHlwZSxcbiAgICAgICAgY29uZmlnX2pzb246IGNvbmZpZ0pzb25cbiAgICB9LFxuICAgICBhcGlLZXk6IHN0ZXBzLnNldHVwQ0JDb25maWcuYXBpS2V5LFxuICAgICBzaXRlTmFtZTogc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlTmFtZSxcbiAgICAgc2l0ZURvbWFpbjogc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlRG9tYWluLFxuICAgICB0eXBlOiBcJ2h1YnNwb3RcJyxcbiAgICAgcXVlcnk6e31cbn07XG5cbmRvbmUoZGF0YSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let result = steps.getHubspotPipeline.data.results;<br>let configJson = steps.getChargebeeConfigs.data.third_party_configuration.config_json;<br><br>let stageOptions = {};<br><br>for (var i = 0; i <span><</span> result.length; i++) {<br>    if (result[i].pipelineId === 'default') {<br>        for (var j = 0; j <span><</span> result[i].stages.length; j++) {<br>            stageOptions[result[i].stages[j].stageId] = result[i].stages[j].label;<br>        }<br>    }<br>}<br>configJson.cloudElements.hubSpotStages = {<br>    stageOptions: stageOptions<br>};<br><br>let data = {<br>    url: 'https://' + steps.setupCBConfig.siteName + '.integrations.' + steps.setupCBConfig.siteDomain + '/integrations/update_tp_integ_conf',<br>    headers: {<br>        'Content-Type': 'application/json',<br>        'cache-control': 'no-cache'<br>    },<br>    body: {<br>        site_name: steps.setupCBConfig.siteName,<br>        api_key: steps.setupCBConfig.apiKey,<br>        integration_name: steps.setupCBConfig.type,<br>        config_json: configJson<br>    },<br>     apiKey: steps.setupCBConfig.apiKey,<br>     siteName: steps.setupCBConfig.siteName,<br>     siteDomain: steps.setupCBConfig.siteDomain,<br>     type: 'hubspot',<br>     query:{}<br>};<br><br>done(data);</pre>"
            click step-019 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEh1YnNwb3RQaXBlbGluZUVycm9yPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjYXJkID0gezxicj4gICAgY2FyZHM6IFs8YnI+ICAgICAgICB7PGJyPiAgICAgICAgICAgICdjYXJkJzogezxicj4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnQUNUSU9OJyw8YnI+ICAgICAgICAgICAgICAgICdoZWFkaW5nJzogJ0VSUk9SJyw8YnI+ICAgICAgICAgICAgICAgICdzdWJIZWFkaW5nJzogJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgJytzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmNiX2Vycm9yX2NvZGU8YnI+ICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgJ2lzQ2FyZERvbmUnOiB0cnVlLDxicj4gICAgICAgICAgICAnaWQnOiAnY2hlY2syJzxicj4gICAgICAgIH08YnI+ICAgICAgICBdPGJyPn07PGJyPjxicj5kb25lKHs8YnI+IHN0YXR1c0NvZGU6IDIwMCw8YnI+IHJlc3VsdDogY2FyZDxicj59KTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldEh1YnNwb3RQaXBlbGluZUVycm9yJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNhcmQgPSB7XG4gICAgY2FyZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCdjYXJkXCc6IHtcbiAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdBQ1RJT05cJyxcbiAgICAgICAgICAgICAgICBcJ2hlYWRpbmdcJzogXCdFUlJPUlwnLFxuICAgICAgICAgICAgICAgIFwnc3ViSGVhZGluZ1wnOiBcJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgXCcrc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlncy5jYl9lcnJvcl9jb2RlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCdpc0NhcmREb25lXCc6IHRydWUsXG4gICAgICAgICAgICBcJ2lkXCc6IFwnY2hlY2syXCdcbiAgICAgICAgfVxuICAgICAgICBdXG59O1xuXG5kb25lKHtcbiBzdGF0dXNDb2RlOiAyMDAsXG4gcmVzdWx0OiBjYXJkXG59KSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let card = {<br>    cards: [<br>        {<br>            'card': {<br>                'type': 'ACTION',<br>                'heading': 'ERROR',<br>                'subHeading': 'An issue was encountered due to which the sync did not succeed. Please retry sync and if the issue still persists, contact support '+steps.getChargebeeConfigs.cb_error_code<br>            },<br>            'isCardDone': true,<br>            'id': 'check2'<br>        }<br>        ]<br>};<br><br>done({<br> statusCode: 200,<br> result: card<br>})</pre>"
            click step-021 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldExpZmVDeWNsZVN0YWdlczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzQ3NTg8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLklucHV0UGFyYW1zRm9yU3RhZ2VzLnBhcmFtc308L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdTdWNjZXNzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldExpZmVDeWNsZVN0YWdlcycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzM0NzU4Jyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuSW5wdXRQYXJhbXNGb3JTdGFnZXMucGFyYW1zfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 34758<br>       args : ${steps.InputParamsForStages.params}</pre>"
            click step-022 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZUNoYXJnZWJlZUNvbmZpZzwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzE8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLlN0YWdlc308L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRTdGFnZXNBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICd1cGRhdGVDaGFyZ2ViZWVDb25maWcnLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMScsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLlN0YWdlc30nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (formula):<br><pre>  formulaId : 31331<br>       args : ${steps.Stages}</pre>"
            click step-023 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN1Y2Nlc3M8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+Y29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOzxicj5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLnNldHVwQ0JDb25maWcuc2l0ZURvbWFpbjs8YnI+bGV0IGludGVncmF0aW9uTmFtZSA9IHN0ZXBzLnNldHVwQ0JDb25maWcudHlwZTs8YnI+bGV0IHN5bmNSdWxlc0NvbnRhY3RzID08YnI+ICBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbjxicj4gICAgLmNsb3VkRWxlbWVudHMuc3luY1J1bGVzQ29udGFjdHM7PGJyPjxicj5sZXQgQ3VzdG9tZXJzVG9TeW5jID0gJ0FsbF9DdXN0b21lcnMnOzxicj5sZXQgSHViU3BvdENvbnRhY3ROb01hdGNoID0gJ0NyZWF0ZV9jb250YWN0Jzs8YnI+bGV0IEh1YlNwb3RDb250YWN0TWF0Y2ggPSAnVXBkYXRlX2VtcHR5X0h1YnNwb3RfZmllbGRzJzs8YnI+bGV0IEh1YnNwb3RTdGFnZVRvZ2dsZSA9ICdmYWxzZSc7PGJyPmxldCBNYXBwZWRGaWVsZENoYXJnZWJlZSA9ICdlbWFpbCc7PGJyPmxldCBNYXBwZWRGaWVsZEh1YnNwb3QgPSAnZW1haWwnOzxicj48YnI+aWYgKHN5bmNSdWxlc0NvbnRhY3RzICE9PSB1bmRlZmluZWQpIHs8YnI+ICBDdXN0b21lcnNUb1N5bmMgPSBzeW5jUnVsZXNDb250YWN0cy5DdXN0b21lcnNUb1N5bmM7PGJyPiAgSHViU3BvdENvbnRhY3ROb01hdGNoID0gc3luY1J1bGVzQ29udGFjdHMuSHViU3BvdENvbnRhY3ROb01hdGNoOzxicj4gIEh1YlNwb3RDb250YWN0TWF0Y2ggPSBzeW5jUnVsZXNDb250YWN0cy5IdWJTcG90Q29udGFjdE1hdGNoOzxicj4gIEh1YnNwb3RTdGFnZVRvZ2dsZSA9IHN5bmNSdWxlc0NvbnRhY3RzLkh1YnNwb3RTdGFnZVRvZ2dsZTs8YnI+ICBNYXBwZWRGaWVsZENoYXJnZWJlZSA9PGJyPiAgICBzeW5jUnVsZXNDb250YWN0cy5NYXBwZWRGaWVsZENoYXJnZWJlZSAhPT0gdW5kZWZpbmVkPGJyPiAgICAgID8gc3luY1J1bGVzQ29udGFjdHMuTWFwcGVkRmllbGRDaGFyZ2ViZWU8YnI+ICAgICAgOiAnZW1haWwnOzxicj4gIE1hcHBlZEZpZWxkSHVic3BvdCA9PGJyPiAgICBzeW5jUnVsZXNDb250YWN0cy5NYXBwZWRGaWVsZEh1YnNwb3QgIT09IHVuZGVmaW5lZDxicj4gICAgICA/IHN5bmNSdWxlc0NvbnRhY3RzLk1hcHBlZEZpZWxkSHVic3BvdDxicj4gICAgICA6ICdlbWFpbCc7PGJyPn08YnI+PGJyPmxldCBDdXN0b21GaWVsZHMgPTxicj4gIEpTT04ucGFyc2Uoc3RlcHMuQ2hhcmdlYmVlR2V0Q3VzdG9tRmllbGRzLmRhdGEucmVzcG9uc2UpIHx8IG51bGw7PGJyPjxicj5sZXQgQ3VzdG9tRmllbGRzX2N1c3RvbWVyID0gbnVsbDs8YnI+aWYgKEN1c3RvbUZpZWxkcyAhPT0gbnVsbCkgezxicj4gIEN1c3RvbUZpZWxkc19jdXN0b21lciA9IEN1c3RvbUZpZWxkcy5jdXN0b21lcl9jdXN0b21fZmllbGRzOzxicj59PGJyPjxicj5sZXQgQ2hhcmdlYmVlTWFwcGluZ1ZhbHVlcyA9IHs8YnI+ICBlbWFpbDogJ0VtYWlsJyw8YnI+ICBwaG9uZTogJ1Bob25lJyw8YnI+ICBjb21wYW55OiAnQ29tcGFueScsPGJyPn07PGJyPjxicj5DaGFyZ2ViZWVNYXBwaW5nVmFsdWVzID0gT2JqZWN0LmFzc2lnbig8YnI+ICBDaGFyZ2ViZWVNYXBwaW5nVmFsdWVzLDxicj4gIEN1c3RvbUZpZWxkc19jdXN0b21lcjxicj4pOzxicj48YnI+PGJyPmxldCBjYXJkOzxicj48YnI+bGV0IGR5bmFtaWNSZXF1ZXN0ID0gIHs8YnI+ICB0eXBlOiAnT05fQ0hBTkdFX0ZFVENIX0lOUFVUJyw8YnI+ICBhcGlFbmRQb2ludDogezxicj4gICAgYXBpVXJsOiBzdGVwcy5Qcm9wcy5keW5hbWljVG9nZ2xlLnVybCw8YnI+ICAgIHR5cGU6ICdHRVQnLDxicj4gICAgaGVhZGVyczogezxicj4gICAgICAnRWxlbWVudHMtRm9ybXVsYS1JbnN0YW5jZS1JZCc6IHN0ZXBzLlByb3BzLmR5bmFtaWNUb2dnbGUuaWQsPGJyPiAgICB9LDxicj4gICAgaW5wdXQ6IHs8YnI+ICAgICAgaWQ6ICdjaGFyZ2ViZWUnLDxicj4gICAgICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLDxicj4gICAgICBpbnRlZ3JhdGlvbk5hbWU6IGludGVncmF0aW9uTmFtZSw8YnI+ICAgIH0sPGJyPiAgfSw8YnI+fTs8YnI+PGJyPmxldCBzdGFnZXMgPSAgc3RlcHMuZ2V0TGlmZUN5Y2xlU3RhZ2VzLnN0YWdlczs8YnI+PGJyPmNhcmQgPSB7PGJyPiAgY2FyZHM6IFs8YnI+ICAgIHs8YnI+ICAgICAgY2FyZDogezxicj4gICAgICAgIHR5cGU6ICdFTVBUWV9CQUNLR1JPVU5EJyw8YnI+ICAgICAgICBoZWFkaW5nOiAnU3luYyBSdWxlcyBmb3IgQ29udGFjdHMnLDxicj4gICAgICAgIGNvbnRlbnRzOiBbPGJyPiAgICAgICAgICAnQ29uZmlndXJlIGhvdyBjdXN0b21lciBkYXRhIGlzIHN5bmNlZCBmcm9tIENoYXJnZWJlZSB0byBIdWJTcG90LiBTZXQgcnVsZXMgdG8gbWFuYWdlICdDb250YWN0cycgaW4gSHViU3BvdCBmcm9tIENoYXJnZWJlZS4gPHNwYW4+PDwvc3Bhbj5hIGhyZWY9J2h0dHBzOi8vd3d3LmNoYXJnZWJlZS5jb20vZG9jcy9odWJzcG90Lmh0bWwnIHRhcmdldD0nYmxhbmsnPHNwYW4+Pjwvc3Bhbj5MZWFybiBtb3JlPHNwYW4+PDwvc3Bhbj4vYTxzcGFuPj48L3NwYW4+Jyw8YnI+ICAgICAgICBdLDxicj4gICAgICB9LDxicj4gICAgICBpc0NhcmREb25lOiB0cnVlLDxicj4gICAgICBpZDogJ2NoZWNrMicsPGJyPiAgICB9LDxicj4gICAgezxicj4gICAgICBjYXJkOiB7PGJyPiAgICAgICAgdHlwZTogJ0RZTkFNSUNfSU5QVVQnLDxicj4gICAgICAgIHBhcmFtczogWzxicj4gICAgICAgICAgezxicj4gICAgICAgICAgICBkaXNwTmFtZTogJ0Nob29zZSBjdXN0b21lcnMgeW91J2QgbGlrZSB0byBzeW5jJyw8YnI+ICAgICAgICAgICAgcmVxOiAndHJ1ZScsPGJyPiAgICAgICAgICAgIHR5cGU6ICdEUk9QRE9XTicsPGJyPiAgICAgICAgICAgIGlkOiAnQ3VzdG9tZXJzVG9TeW5jJyw8YnI+ICAgICAgICAgICAgYWxsb3dlZFZhbHVlczogezxicj4gICAgICAgICAgICAgIEFsbF9DdXN0b21lcnM6ICdBbGwgQ3VzdG9tZXJzJyw8YnI+ICAgICAgICAgICAgICBDdXN0b21lcnNfd2l0aF9BY3RpdmVfc3Vic2NyaXB0aW9uczo8YnI+ICAgICAgICAgICAgICAgICdDdXN0b21lcnMgd2l0aCBBY3RpdmUgc3Vic2NyaXB0aW9ucycsPGJyPiAgICAgICAgICAgIH0sPGJyPiAgICAgICAgICAgIGRlZmF1bHRWYWw6IEN1c3RvbWVyc1RvU3luYyw8YnI+ICAgICAgICAgIH0sPGJyPiAgICAgICAgICB7PGJyPiAgICAgICAgICAgIGRpc3BOYW1lOjxicj4gICAgICAgICAgICAgICdDaG9vc2Ugd2hhdCBoYXBwZW5zIHdoZW4gYSBjdXN0b21lciBpbiBDaGFyZ2ViZWUgZG9lcyBub3QgaGF2ZSBhIG1hdGNoaW5nIGNvbnRhY3QgaW4gSHViU3BvdCcsPGJyPiAgICAgICAgICAgIHJlcTogJ3RydWUnLDxicj4gICAgICAgICAgICB0eXBlOiAnRFJPUERPV04nLDxicj4gICAgICAgICAgICBpZDogJ0h1YlNwb3RDb250YWN0Tm9NYXRjaCcsPGJyPiAgICAgICAgICAgIGRlc2M6PGJyPiAgICAgICAgICAgICAgJ0NoYXJnZWJlZSB3aWxsIG1hdGNoIGN1c3RvbWVycyB3aXRoIGNvbnRhY3RzIGluIEh1YlNwb3QgdXNpbmcgdGhlIEVtYWlsIElEIGZpZWxkLiBXaGVuIG5vIG1hdGNoaW5nIGNvbnRhY3RzIGFyZSBmb3VuZCwgeW91IGNhbiBjaG9vc2UgdG8gY3JlYXRlIGEgY29udGFjdCBpbiBIdWJTcG90IG9yIGRvIG5vdGhpbmcnLDxicj4gICAgICAgICAgICBhbGxvd2VkVmFsdWVzOiB7PGJyPiAgICAgICAgICAgICAgQ3JlYXRlX2NvbnRhY3Q6ICdDcmVhdGUgY29udGFjdCcsPGJyPiAgICAgICAgICAgICAgRG9fbm90aGluZzogJ0RvIG5vdGhpbmcnLDxicj4gICAgICAgICAgICB9LDxicj4gICAgICAgICAgICBkZWZhdWx0VmFsOiBIdWJTcG90Q29udGFjdE5vTWF0Y2gsPGJyPiAgICAgICAgICB9LDxicj4gICAgICAgICAgezxicj4gICAgICAgICAgICBkaXNwTmFtZTo8YnI+ICAgICAgICAgICAgICAnQ2hvb3NlIHdoYXQgaGFwcGVucyB3aGVuIGEgY3VzdG9tZXIgaW4gQ2hhcmdlYmVlIGhhcyBhIG1hdGNoaW5nIGNvbnRhY3QgaW4gSHViU3BvdC48c3Bhbj48PC9zcGFuPmEgaHJlZj0naHR0cHM6Ly93d3cuY2hhcmdlYmVlLmNvbS9kb2NzL2h1YnNwb3QuaHRtbCcgdGFyZ2V0PSdibGFuayc8c3Bhbj4+PC9zcGFuPkxlYXJuIG1vcmU8c3Bhbj48PC9zcGFuPi9hPHNwYW4+Pjwvc3Bhbj4nLDxicj4gICAgICAgICAgICByZXE6ICd0cnVlJyw8YnI+ICAgICAgICAgICAgdHlwZTogJ0RST1BET1dOJyw8YnI+ICAgICAgICAgICAgaWQ6ICdIdWJTcG90Q29udGFjdE1hdGNoJyw8YnI+ICAgICAgICAgICAgZGVzYzo8YnI+ICAgICAgICAgICAgICAnWW91IGNhbiBjaG9vc2UgdG8gdXBkYXRlIGVtcHR5IGZpZWxkcyBvciBvdmVycmlkZSBleGlzdGluZyBmaWVsZHMgaW4gSHViU3BvdCB3aXRoIGN1c3RvbWVyIGRldGFpbHMgZnJvbSBDaGFyZ2ViZWUuICcsPGJyPiAgICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IHs8YnI+ICAgICAgICAgICAgICBVcGRhdGVfZW1wdHlfSHVic3BvdF9maWVsZHM6ICdVcGRhdGUgZW1wdHkgSHViU3BvdCBmaWVsZHMnLDxicj4gICAgICAgICAgICAgIE92ZXJyaWRlX3RoZV9maWVsZHM6ICdPdmVycmlkZSB0aGUgZmllbGRzJyw8YnI+ICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgZGVmYXVsdFZhbDogSHViU3BvdENvbnRhY3RNYXRjaCw8YnI+ICAgICAgICAgIH0sPGJyPiAgICAgICAgICB7PGJyPiAgICAgICAgICAgIGRpc3BOYW1lOiAnU3luYyBhbmQgVXBkYXRlIExpZmVjeWNsZSBzdGFnZXMgaW4gSHVic3BvdCcsPGJyPiAgICAgICAgICAgIGRlc2M6PGJyPiAgICAgICAgICAgICAgJ1lvdSBjYW4gbWFwIHN1YnNjcmlwdGlvbiBzdGF0dXMgb2YgeW91ciBDaGFyZ2ViZWUgY3VzdG9tZXJzIHRvIHRoZSBkaWZmZXJlbnQgbGlmZWN5Y2xlIHN0YWdlcyBvZiBhIGNvbnRhY3QgaW4gSHVic3BvdCcsPGJyPiAgICAgICAgICAgIHR5cGU6ICdUT0dHTEUnLDxicj4gICAgICAgICAgICBpZDogJ0h1YnNwb3RTdGFnZVRvZ2dsZScsPGJyPiAgICAgICAgICAgIGRlZmF1bHRWYWw6IEh1YnNwb3RTdGFnZVRvZ2dsZSw8YnI+ICAgICAgICAgICAgaXNEeW5hbWljOiAndHJ1ZScsPGJyPiAgICAgICAgICAgIHJlcXVlc3Q6IGR5bmFtaWNSZXF1ZXN0PGJyPiAgICAgICAgICB9LDxicj4gICAgICAgIF0sPGJyPiAgICAgIH0sPGJyPiAgICAgIGlkOiAnY2hlY2sxJyw8YnI+ICAgICAgaXNDYXJkRG9uZTogdHJ1ZSw8YnI+ICAgIH0sPGJyPiAgICB7PGJyPiAgICAgIGNhcmQ6IHs8YnI+ICAgICAgICB0eXBlOiAnTUFQUElORycsPGJyPiAgICAgICAgaGVhZGluZzogJ01hcCBDdXN0b21lcnMgZnJvbSBDaGFyZ2ViZWUgdG8gSHVic3BvdCcsPGJyPiAgICAgICAgY29udGVudHM6PGJyPiAgICAgICAgICAnPHNwYW4+PDwvc3Bhbj5iPHNwYW4+Pjwvc3Bhbj4gQ2hvb3NlIGEgdW5pcXVlIGZpZWxkIHRvIGlkZW50aWZ5IGFuZCBtYXAgY3VzdG9tZXJzIGZyb20gQ2hhcmdlYmVlIHRvICdjb250YWN0cycgaW4gSHVic3BvdCA8c3Bhbj48PC9zcGFuPi9iPHNwYW4+Pjwvc3Bhbj4nLDxicj4gICAgICAgIGxlZnRDb21wb25lbnQ6IHs8YnI+ICAgICAgICAgIGlkOiAnTWFwcGVkRmllbGRDaGFyZ2ViZWUnLDxicj4gICAgICAgICAgdGl0bGU6ICdDaGFyZ2ViZWUgRmllbGRzJyw8YnI+ICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IENoYXJnZWJlZU1hcHBpbmdWYWx1ZXMsPGJyPiAgICAgICAgICBkZWZhdWx0VmFsdWU6IE1hcHBlZEZpZWxkQ2hhcmdlYmVlLDxicj4gICAgICAgIH0sPGJyPiAgICAgICAgcmlnaHRDb21wb25lbnQ6IHs8YnI+ICAgICAgICAgIGlkOiAnTWFwcGVkRmllbGRIdWJzcG90Jyw8YnI+ICAgICAgICAgIHRpdGxlOiAnSHVic3BvdCBGaWVsZHMnLDxicj4gICAgICAgICAgYWxsb3dlZFZhbHVlczogezxicj4gICAgICAgICAgICBlbWFpbDogJ0VtYWlsJyw8YnI+ICAgICAgICAgICAgcGhvbmU6ICdQaG9uZScsPGJyPiAgICAgICAgICAgIG1vYmlsZXBob25lOiAnTW9iaWxlIFBob25lIE51bWJlcicsPGJyPiAgICAgICAgICAgIGNvbXBhbnk6ICdDb21wYW55Jyw8YnI+ICAgICAgICAgICAgd29ya19lbWFpbDogJ1dvcmsgRW1haWwnLDxicj4gICAgICAgICAgICB0d2l0dGVyaGFuZGxlOiAnVHdpdHRlciBVc2VybmFtZScsPGJyPiAgICAgICAgICB9LDxicj4gICAgICAgICAgZGVmYXVsdFZhbHVlOiBNYXBwZWRGaWVsZEh1YnNwb3QsPGJyPiAgICAgICAgfSw8YnI+ICAgICAgfSw8YnI+ICAgICAgaWQ6ICdjaGVjazMnLDxicj4gICAgICBpc0NhcmREb25lOiAndHJ1ZScsPGJyPiAgICB9LDxicj4gIF0sPGJyPiAgcHJvY2VlZDogezxicj4gICAgaWQ6ICdwcm9jZWVkJyw8YnI+ICAgIGRpc3BsYXk6ICdQcm9jZWVkJyw8YnI+ICAgIGljb246ICdBUlJPVycsPGJyPiAgICBidXR0b25Mb29rOiAnRklMTEVEJyw8YnI+ICAgIHR5cGU6ICdESVJFQ1RfTElOSycsPGJyPiAgICByZXF1ZXN0OiB7PGJyPiAgICAgIHR5cGU6ICdPTl9DTElDS19TRU5EX0lOUFVUJyw8YnI+ICAgICAgYXBpRW5kUG9pbnQ6IHs8YnI+ICAgICAgICBhcGlVcmw6IHN0ZXBzLlByb3BzLnNhdmVjb25maWcudXJsLDxicj4gICAgICAgIHR5cGU6ICdHRVQnLDxicj4gICAgICAgIGhlYWRlcnM6IHs8YnI+ICAgICAgICAgICdFbGVtZW50cy1Gb3JtdWxhLUluc3RhbmNlLUlkJzogc3RlcHMuUHJvcHMuc2F2ZWNvbmZpZy5pZCw8YnI+ICAgICAgICB9LDxicj4gICAgICAgIGlucHV0OiB7PGJyPiAgICAgICAgICBpZDogJ2NoYXJnZWJlZScsPGJyPiAgICAgICAgICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLDxicj4gICAgICAgICAgaW50ZWdyYXRpb25OYW1lOiBpbnRlZ3JhdGlvbk5hbWUsPGJyPiAgICAgICAgfSw8YnI+ICAgICAgfSw8YnI+ICAgIH0sPGJyPiAgfSw8YnI+fTs8YnI+PGJyPmlmKEh1YnNwb3RTdGFnZVRvZ2dsZSA9PT0gJ3RydWUnKXs8YnI+ICAgIC8vIHN0YWdlcy5mb3JFYWNoKChlbGVtZW50KT08c3Bhbj4+PC9zcGFuPntlbGVtZW50LmlzRGlzYWJsZWQgPSB0cnVlfSkgLy8gaWYgaXNEaXNhYmxlZCBpcyB3b3JraW5nIHN3YXAgaXQ8YnI+ICAgIGxldCBuZXdQYXJhbXMgPSBfLmNvbmNhdChjYXJkLmNhcmRzWzFdLmNhcmQucGFyYW1zLCBzdGFnZXMpOzxicj4gICAgY2FyZC5jYXJkc1sxXS5jYXJkLnBhcmFtcyA9IG5ld1BhcmFtczs8YnI+fTxicj48YnI+ZG9uZShjYXJkKTs8YnI+PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnU3VjY2VzcycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2NvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmxldCBzaXRlRG9tYWluID0gc3RlcHMuc2V0dXBDQkNvbmZpZy5zaXRlRG9tYWluO1xubGV0IGludGVncmF0aW9uTmFtZSA9IHN0ZXBzLnNldHVwQ0JDb25maWcudHlwZTtcbmxldCBzeW5jUnVsZXNDb250YWN0cyA9XG4gIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3MuZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uXG4gICAgLmNsb3VkRWxlbWVudHMuc3luY1J1bGVzQ29udGFjdHM7XG5cbmxldCBDdXN0b21lcnNUb1N5bmMgPSBcJ0FsbF9DdXN0b21lcnNcJztcbmxldCBIdWJTcG90Q29udGFjdE5vTWF0Y2ggPSBcJ0NyZWF0ZV9jb250YWN0XCc7XG5sZXQgSHViU3BvdENvbnRhY3RNYXRjaCA9IFwnVXBkYXRlX2VtcHR5X0h1YnNwb3RfZmllbGRzXCc7XG5sZXQgSHVic3BvdFN0YWdlVG9nZ2xlID0gXCdmYWxzZVwnO1xubGV0IE1hcHBlZEZpZWxkQ2hhcmdlYmVlID0gXCdlbWFpbFwnO1xubGV0IE1hcHBlZEZpZWxkSHVic3BvdCA9IFwnZW1haWxcJztcblxuaWYgKHN5bmNSdWxlc0NvbnRhY3RzICE9PSB1bmRlZmluZWQpIHtcbiAgQ3VzdG9tZXJzVG9TeW5jID0gc3luY1J1bGVzQ29udGFjdHMuQ3VzdG9tZXJzVG9TeW5jO1xuICBIdWJTcG90Q29udGFjdE5vTWF0Y2ggPSBzeW5jUnVsZXNDb250YWN0cy5IdWJTcG90Q29udGFjdE5vTWF0Y2g7XG4gIEh1YlNwb3RDb250YWN0TWF0Y2ggPSBzeW5jUnVsZXNDb250YWN0cy5IdWJTcG90Q29udGFjdE1hdGNoO1xuICBIdWJzcG90U3RhZ2VUb2dnbGUgPSBzeW5jUnVsZXNDb250YWN0cy5IdWJzcG90U3RhZ2VUb2dnbGU7XG4gIE1hcHBlZEZpZWxkQ2hhcmdlYmVlID1cbiAgICBzeW5jUnVsZXNDb250YWN0cy5NYXBwZWRGaWVsZENoYXJnZWJlZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IHN5bmNSdWxlc0NvbnRhY3RzLk1hcHBlZEZpZWxkQ2hhcmdlYmVlXG4gICAgICA6IFwnZW1haWxcJztcbiAgTWFwcGVkRmllbGRIdWJzcG90ID1cbiAgICBzeW5jUnVsZXNDb250YWN0cy5NYXBwZWRGaWVsZEh1YnNwb3QgIT09IHVuZGVmaW5lZFxuICAgICAgPyBzeW5jUnVsZXNDb250YWN0cy5NYXBwZWRGaWVsZEh1YnNwb3RcbiAgICAgIDogXCdlbWFpbFwnO1xufVxuXG5sZXQgQ3VzdG9tRmllbGRzID1cbiAgSlNPTi5wYXJzZShzdGVwcy5DaGFyZ2ViZWVHZXRDdXN0b21GaWVsZHMuZGF0YS5yZXNwb25zZSkgfHwgbnVsbDtcblxubGV0IEN1c3RvbUZpZWxkc19jdXN0b21lciA9IG51bGw7XG5pZiAoQ3VzdG9tRmllbGRzICE9PSBudWxsKSB7XG4gIEN1c3RvbUZpZWxkc19jdXN0b21lciA9IEN1c3RvbUZpZWxkcy5jdXN0b21lcl9jdXN0b21fZmllbGRzO1xufVxuXG5sZXQgQ2hhcmdlYmVlTWFwcGluZ1ZhbHVlcyA9IHtcbiAgZW1haWw6IFwnRW1haWxcJyxcbiAgcGhvbmU6IFwnUGhvbmVcJyxcbiAgY29tcGFueTogXCdDb21wYW55XCcsXG59O1xuXG5DaGFyZ2ViZWVNYXBwaW5nVmFsdWVzID0gT2JqZWN0LmFzc2lnbihcbiAgQ2hhcmdlYmVlTWFwcGluZ1ZhbHVlcyxcbiAgQ3VzdG9tRmllbGRzX2N1c3RvbWVyXG4pO1xuXG5cbmxldCBjYXJkO1xuXG5sZXQgZHluYW1pY1JlcXVlc3QgPSAge1xuICB0eXBlOiBcJ09OX0NIQU5HRV9GRVRDSF9JTlBVVFwnLFxuICBhcGlFbmRQb2ludDoge1xuICAgIGFwaVVybDogc3RlcHMuUHJvcHMuZHluYW1pY1RvZ2dsZS51cmwsXG4gICAgdHlwZTogXCdHRVRcJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcJ0VsZW1lbnRzLUZvcm11bGEtSW5zdGFuY2UtSWRcJzogc3RlcHMuUHJvcHMuZHluYW1pY1RvZ2dsZS5pZCxcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBpZDogXCdjaGFyZ2ViZWVcJyxcbiAgICAgIHNpdGVEb21haW46IHNpdGVEb21haW4sXG4gICAgICBpbnRlZ3JhdGlvbk5hbWU6IGludGVncmF0aW9uTmFtZSxcbiAgICB9LFxuICB9LFxufTtcblxubGV0IHN0YWdlcyA9ICBzdGVwcy5nZXRMaWZlQ3ljbGVTdGFnZXMuc3RhZ2VzO1xuXG5jYXJkID0ge1xuICBjYXJkczogW1xuICAgIHtcbiAgICAgIGNhcmQ6IHtcbiAgICAgICAgdHlwZTogXCdFTVBUWV9CQUNLR1JPVU5EXCcsXG4gICAgICAgIGhlYWRpbmc6IFwnU3luYyBSdWxlcyBmb3IgQ29udGFjdHNcJyxcbiAgICAgICAgY29udGVudHM6IFtcbiAgICAgICAgICBcJ0NvbmZpZ3VyZSBob3cgY3VzdG9tZXIgZGF0YSBpcyBzeW5jZWQgZnJvbSBDaGFyZ2ViZWUgdG8gSHViU3BvdC4gU2V0IHJ1bGVzIHRvIG1hbmFnZSAnQ29udGFjdHMnIGluIEh1YlNwb3QgZnJvbSBDaGFyZ2ViZWUuIDxzcGFuPjw8L3NwYW4+YSBocmVmPSdodHRwczovL3d3dy5jaGFyZ2ViZWUuY29tL2RvY3MvaHVic3BvdC5odG1sJyB0YXJnZXQ9J2JsYW5rJzxzcGFuPj48L3NwYW4+TGVhcm4gbW9yZTxzcGFuPjw8L3NwYW4+L2E8c3Bhbj4+PC9zcGFuPlwnLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIGlzQ2FyZERvbmU6IHRydWUsXG4gICAgICBpZDogXCdjaGVjazJcJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhcmQ6IHtcbiAgICAgICAgdHlwZTogXCdEWU5BTUlDX0lOUFVUXCcsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpc3BOYW1lOiBcJ0Nob29zZSBjdXN0b21lcnMgeW91J2QgbGlrZSB0byBzeW5jXCcsXG4gICAgICAgICAgICByZXE6IFwndHJ1ZVwnLFxuICAgICAgICAgICAgdHlwZTogXCdEUk9QRE9XTlwnLFxuICAgICAgICAgICAgaWQ6IFwnQ3VzdG9tZXJzVG9TeW5jXCcsXG4gICAgICAgICAgICBhbGxvd2VkVmFsdWVzOiB7XG4gICAgICAgICAgICAgIEFsbF9DdXN0b21lcnM6IFwnQWxsIEN1c3RvbWVyc1wnLFxuICAgICAgICAgICAgICBDdXN0b21lcnNfd2l0aF9BY3RpdmVfc3Vic2NyaXB0aW9uczpcbiAgICAgICAgICAgICAgICBcJ0N1c3RvbWVycyB3aXRoIEFjdGl2ZSBzdWJzY3JpcHRpb25zXCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmYXVsdFZhbDogQ3VzdG9tZXJzVG9TeW5jLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlzcE5hbWU6XG4gICAgICAgICAgICAgIFwnQ2hvb3NlIHdoYXQgaGFwcGVucyB3aGVuIGEgY3VzdG9tZXIgaW4gQ2hhcmdlYmVlIGRvZXMgbm90IGhhdmUgYSBtYXRjaGluZyBjb250YWN0IGluIEh1YlNwb3RcJyxcbiAgICAgICAgICAgIHJlcTogXCd0cnVlXCcsXG4gICAgICAgICAgICB0eXBlOiBcJ0RST1BET1dOXCcsXG4gICAgICAgICAgICBpZDogXCdIdWJTcG90Q29udGFjdE5vTWF0Y2hcJyxcbiAgICAgICAgICAgIGRlc2M6XG4gICAgICAgICAgICAgIFwnQ2hhcmdlYmVlIHdpbGwgbWF0Y2ggY3VzdG9tZXJzIHdpdGggY29udGFjdHMgaW4gSHViU3BvdCB1c2luZyB0aGUgRW1haWwgSUQgZmllbGQuIFdoZW4gbm8gbWF0Y2hpbmcgY29udGFjdHMgYXJlIGZvdW5kLCB5b3UgY2FuIGNob29zZSB0byBjcmVhdGUgYSBjb250YWN0IGluIEh1YlNwb3Qgb3IgZG8gbm90aGluZ1wnLFxuICAgICAgICAgICAgYWxsb3dlZFZhbHVlczoge1xuICAgICAgICAgICAgICBDcmVhdGVfY29udGFjdDogXCdDcmVhdGUgY29udGFjdFwnLFxuICAgICAgICAgICAgICBEb19ub3RoaW5nOiBcJ0RvIG5vdGhpbmdcJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0VmFsOiBIdWJTcG90Q29udGFjdE5vTWF0Y2gsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNwTmFtZTpcbiAgICAgICAgICAgICAgXCdDaG9vc2Ugd2hhdCBoYXBwZW5zIHdoZW4gYSBjdXN0b21lciBpbiBDaGFyZ2ViZWUgaGFzIGEgbWF0Y2hpbmcgY29udGFjdCBpbiBIdWJTcG90LjxzcGFuPjw8L3NwYW4+YSBocmVmPSdodHRwczovL3d3dy5jaGFyZ2ViZWUuY29tL2RvY3MvaHVic3BvdC5odG1sJyB0YXJnZXQ9J2JsYW5rJzxzcGFuPj48L3NwYW4+TGVhcm4gbW9yZTxzcGFuPjw8L3NwYW4+L2E8c3Bhbj4+PC9zcGFuPlwnLFxuICAgICAgICAgICAgcmVxOiBcJ3RydWVcJyxcbiAgICAgICAgICAgIHR5cGU6IFwnRFJPUERPV05cJyxcbiAgICAgICAgICAgIGlkOiBcJ0h1YlNwb3RDb250YWN0TWF0Y2hcJyxcbiAgICAgICAgICAgIGRlc2M6XG4gICAgICAgICAgICAgIFwnWW91IGNhbiBjaG9vc2UgdG8gdXBkYXRlIGVtcHR5IGZpZWxkcyBvciBvdmVycmlkZSBleGlzdGluZyBmaWVsZHMgaW4gSHViU3BvdCB3aXRoIGN1c3RvbWVyIGRldGFpbHMgZnJvbSBDaGFyZ2ViZWUuIFwnLFxuICAgICAgICAgICAgYWxsb3dlZFZhbHVlczoge1xuICAgICAgICAgICAgICBVcGRhdGVfZW1wdHlfSHVic3BvdF9maWVsZHM6IFwnVXBkYXRlIGVtcHR5IEh1YlNwb3QgZmllbGRzXCcsXG4gICAgICAgICAgICAgIE92ZXJyaWRlX3RoZV9maWVsZHM6IFwnT3ZlcnJpZGUgdGhlIGZpZWxkc1wnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWw6IEh1YlNwb3RDb250YWN0TWF0Y2gsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNwTmFtZTogXCdTeW5jIGFuZCBVcGRhdGUgTGlmZWN5Y2xlIHN0YWdlcyBpbiBIdWJzcG90XCcsXG4gICAgICAgICAgICBkZXNjOlxuICAgICAgICAgICAgICBcJ1lvdSBjYW4gbWFwIHN1YnNjcmlwdGlvbiBzdGF0dXMgb2YgeW91ciBDaGFyZ2ViZWUgY3VzdG9tZXJzIHRvIHRoZSBkaWZmZXJlbnQgbGlmZWN5Y2xlIHN0YWdlcyBvZiBhIGNvbnRhY3QgaW4gSHVic3BvdFwnLFxuICAgICAgICAgICAgdHlwZTogXCdUT0dHTEVcJyxcbiAgICAgICAgICAgIGlkOiBcJ0h1YnNwb3RTdGFnZVRvZ2dsZVwnLFxuICAgICAgICAgICAgZGVmYXVsdFZhbDogSHVic3BvdFN0YWdlVG9nZ2xlLFxuICAgICAgICAgICAgaXNEeW5hbWljOiBcJ3RydWVcJyxcbiAgICAgICAgICAgIHJlcXVlc3Q6IGR5bmFtaWNSZXF1ZXN0XG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBpZDogXCdjaGVjazFcJyxcbiAgICAgIGlzQ2FyZERvbmU6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXJkOiB7XG4gICAgICAgIHR5cGU6IFwnTUFQUElOR1wnLFxuICAgICAgICBoZWFkaW5nOiBcJ01hcCBDdXN0b21lcnMgZnJvbSBDaGFyZ2ViZWUgdG8gSHVic3BvdFwnLFxuICAgICAgICBjb250ZW50czpcbiAgICAgICAgICBcJzxzcGFuPjw8L3NwYW4+YjxzcGFuPj48L3NwYW4+IENob29zZSBhIHVuaXF1ZSBmaWVsZCB0byBpZGVudGlmeSBhbmQgbWFwIGN1c3RvbWVycyBmcm9tIENoYXJnZWJlZSB0byAnY29udGFjdHMnIGluIEh1YnNwb3QgPHNwYW4+PDwvc3Bhbj4vYjxzcGFuPj48L3NwYW4+XCcsXG4gICAgICAgIGxlZnRDb21wb25lbnQ6IHtcbiAgICAgICAgICBpZDogXCdNYXBwZWRGaWVsZENoYXJnZWJlZVwnLFxuICAgICAgICAgIHRpdGxlOiBcJ0NoYXJnZWJlZSBGaWVsZHNcJyxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBDaGFyZ2ViZWVNYXBwaW5nVmFsdWVzLFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogTWFwcGVkRmllbGRDaGFyZ2ViZWUsXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0Q29tcG9uZW50OiB7XG4gICAgICAgICAgaWQ6IFwnTWFwcGVkRmllbGRIdWJzcG90XCcsXG4gICAgICAgICAgdGl0bGU6IFwnSHVic3BvdCBGaWVsZHNcJyxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiB7XG4gICAgICAgICAgICBlbWFpbDogXCdFbWFpbFwnLFxuICAgICAgICAgICAgcGhvbmU6IFwnUGhvbmVcJyxcbiAgICAgICAgICAgIG1vYmlsZXBob25lOiBcJ01vYmlsZSBQaG9uZSBOdW1iZXJcJyxcbiAgICAgICAgICAgIGNvbXBhbnk6IFwnQ29tcGFueVwnLFxuICAgICAgICAgICAgd29ya19lbWFpbDogXCdXb3JrIEVtYWlsXCcsXG4gICAgICAgICAgICB0d2l0dGVyaGFuZGxlOiBcJ1R3aXR0ZXIgVXNlcm5hbWVcJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogTWFwcGVkRmllbGRIdWJzcG90LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGlkOiBcJ2NoZWNrM1wnLFxuICAgICAgaXNDYXJkRG9uZTogXCd0cnVlXCcsXG4gICAgfSxcbiAgXSxcbiAgcHJvY2VlZDoge1xuICAgIGlkOiBcJ3Byb2NlZWRcJyxcbiAgICBkaXNwbGF5OiBcJ1Byb2NlZWRcJyxcbiAgICBpY29uOiBcJ0FSUk9XXCcsXG4gICAgYnV0dG9uTG9vazogXCdGSUxMRURcJyxcbiAgICB0eXBlOiBcJ0RJUkVDVF9MSU5LXCcsXG4gICAgcmVxdWVzdDoge1xuICAgICAgdHlwZTogXCdPTl9DTElDS19TRU5EX0lOUFVUXCcsXG4gICAgICBhcGlFbmRQb2ludDoge1xuICAgICAgICBhcGlVcmw6IHN0ZXBzLlByb3BzLnNhdmVjb25maWcudXJsLFxuICAgICAgICB0eXBlOiBcJ0dFVFwnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCdFbGVtZW50cy1Gb3JtdWxhLUluc3RhbmNlLUlkXCc6IHN0ZXBzLlByb3BzLnNhdmVjb25maWcuaWQsXG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgaWQ6IFwnY2hhcmdlYmVlXCcsXG4gICAgICAgICAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbixcbiAgICAgICAgICBpbnRlZ3JhdGlvbk5hbWU6IGludGVncmF0aW9uTmFtZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn07XG5cbmlmKEh1YnNwb3RTdGFnZVRvZ2dsZSA9PT0gXCd0cnVlXCcpe1xuICAgIC8vIHN0YWdlcy5mb3JFYWNoKChlbGVtZW50KT08c3Bhbj4+PC9zcGFuPntlbGVtZW50LmlzRGlzYWJsZWQgPSB0cnVlfSkgLy8gaWYgaXNEaXNhYmxlZCBpcyB3b3JraW5nIHN3YXAgaXRcbiAgICBsZXQgbmV3UGFyYW1zID0gXy5jb25jYXQoY2FyZC5jYXJkc1sxXS5jYXJkLnBhcmFtcywgc3RhZ2VzKTtcbiAgICBjYXJkLmNhcmRzWzFdLmNhcmQucGFyYW1zID0gbmV3UGFyYW1zO1xufVxuXG5kb25lKGNhcmQpO1xuJzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>const _ = require('lodash');<br>let siteDomain = steps.setupCBConfig.siteDomain;<br>let integrationName = steps.setupCBConfig.type;<br>let syncRulesContacts =<br>  steps.getChargebeeConfigs.data.third_party_configuration.config_json<br>    .cloudElements.syncRulesContacts;<br><br>let CustomersToSync = 'All_Customers';<br>let HubSpotContactNoMatch = 'Create_contact';<br>let HubSpotContactMatch = 'Update_empty_Hubspot_fields';<br>let HubspotStageToggle = 'false';<br>let MappedFieldChargebee = 'email';<br>let MappedFieldHubspot = 'email';<br><br>if (syncRulesContacts !== undefined) {<br>  CustomersToSync = syncRulesContacts.CustomersToSync;<br>  HubSpotContactNoMatch = syncRulesContacts.HubSpotContactNoMatch;<br>  HubSpotContactMatch = syncRulesContacts.HubSpotContactMatch;<br>  HubspotStageToggle = syncRulesContacts.HubspotStageToggle;<br>  MappedFieldChargebee =<br>    syncRulesContacts.MappedFieldChargebee !== undefined<br>      ? syncRulesContacts.MappedFieldChargebee<br>      : 'email';<br>  MappedFieldHubspot =<br>    syncRulesContacts.MappedFieldHubspot !== undefined<br>      ? syncRulesContacts.MappedFieldHubspot<br>      : 'email';<br>}<br><br>let CustomFields =<br>  JSON.parse(steps.ChargebeeGetCustomFields.data.response) || null;<br><br>let CustomFields_customer = null;<br>if (CustomFields !== null) {<br>  CustomFields_customer = CustomFields.customer_custom_fields;<br>}<br><br>let ChargebeeMappingValues = {<br>  email: 'Email',<br>  phone: 'Phone',<br>  company: 'Company',<br>};<br><br>ChargebeeMappingValues = Object.assign(<br>  ChargebeeMappingValues,<br>  CustomFields_customer<br>);<br><br><br>let card;<br><br>let dynamicRequest =  {<br>  type: 'ON_CHANGE_FETCH_INPUT',<br>  apiEndPoint: {<br>    apiUrl: steps.Props.dynamicToggle.url,<br>    type: 'GET',<br>    headers: {<br>      'Elements-Formula-Instance-Id': steps.Props.dynamicToggle.id,<br>    },<br>    input: {<br>      id: 'chargebee',<br>      siteDomain: siteDomain,<br>      integrationName: integrationName,<br>    },<br>  },<br>};<br><br>let stages =  steps.getLifeCycleStages.stages;<br><br>card = {<br>  cards: [<br>    {<br>      card: {<br>        type: 'EMPTY_BACKGROUND',<br>        heading: 'Sync Rules for Contacts',<br>        contents: [<br>          'Configure how customer data is synced from Chargebee to HubSpot. Set rules to manage 'Contacts' in HubSpot from Chargebee. <span><</span>a href='https://www.chargebee.com/docs/hubspot.html' target='blank'<span>></span>Learn more<span><</span>/a<span>></span>',<br>        ],<br>      },<br>      isCardDone: true,<br>      id: 'check2',<br>    },<br>    {<br>      card: {<br>        type: 'DYNAMIC_INPUT',<br>        params: [<br>          {<br>            dispName: 'Choose customers you'd like to sync',<br>            req: 'true',<br>            type: 'DROPDOWN',<br>            id: 'CustomersToSync',<br>            allowedValues: {<br>              All_Customers: 'All Customers',<br>              Customers_with_Active_subscriptions:<br>                'Customers with Active subscriptions',<br>            },<br>            defaultVal: CustomersToSync,<br>          },<br>          {<br>            dispName:<br>              'Choose what happens when a customer in Chargebee does not have a matching contact in HubSpot',<br>            req: 'true',<br>            type: 'DROPDOWN',<br>            id: 'HubSpotContactNoMatch',<br>            desc:<br>              'Chargebee will match customers with contacts in HubSpot using the Email ID field. When no matching contacts are found, you can choose to create a contact in HubSpot or do nothing',<br>            allowedValues: {<br>              Create_contact: 'Create contact',<br>              Do_nothing: 'Do nothing',<br>            },<br>            defaultVal: HubSpotContactNoMatch,<br>          },<br>          {<br>            dispName:<br>              'Choose what happens when a customer in Chargebee has a matching contact in HubSpot.<span><</span>a href='https://www.chargebee.com/docs/hubspot.html' target='blank'<span>></span>Learn more<span><</span>/a<span>></span>',<br>            req: 'true',<br>            type: 'DROPDOWN',<br>            id: 'HubSpotContactMatch',<br>            desc:<br>              'You can choose to update empty fields or override existing fields in HubSpot with customer details from Chargebee. ',<br>            allowedValues: {<br>              Update_empty_Hubspot_fields: 'Update empty HubSpot fields',<br>              Override_the_fields: 'Override the fields',<br>            },<br>            defaultVal: HubSpotContactMatch,<br>          },<br>          {<br>            dispName: 'Sync and Update Lifecycle stages in Hubspot',<br>            desc:<br>              'You can map subscription status of your Chargebee customers to the different lifecycle stages of a contact in Hubspot',<br>            type: 'TOGGLE',<br>            id: 'HubspotStageToggle',<br>            defaultVal: HubspotStageToggle,<br>            isDynamic: 'true',<br>            request: dynamicRequest<br>          },<br>        ],<br>      },<br>      id: 'check1',<br>      isCardDone: true,<br>    },<br>    {<br>      card: {<br>        type: 'MAPPING',<br>        heading: 'Map Customers from Chargebee to Hubspot',<br>        contents:<br>          '<span><</span>b<span>></span> Choose a unique field to identify and map customers from Chargebee to 'contacts' in Hubspot <span><</span>/b<span>></span>',<br>        leftComponent: {<br>          id: 'MappedFieldChargebee',<br>          title: 'Chargebee Fields',<br>          allowedValues: ChargebeeMappingValues,<br>          defaultValue: MappedFieldChargebee,<br>        },<br>        rightComponent: {<br>          id: 'MappedFieldHubspot',<br>          title: 'Hubspot Fields',<br>          allowedValues: {<br>            email: 'Email',<br>            phone: 'Phone',<br>            mobilephone: 'Mobile Phone Number',<br>            company: 'Company',<br>            work_email: 'Work Email',<br>            twitterhandle: 'Twitter Username',<br>          },<br>          defaultValue: MappedFieldHubspot,<br>        },<br>      },<br>      id: 'check3',<br>      isCardDone: 'true',<br>    },<br>  ],<br>  proceed: {<br>    id: 'proceed',<br>    display: 'Proceed',<br>    icon: 'ARROW',<br>    buttonLook: 'FILLED',<br>    type: 'DIRECT_LINK',<br>    request: {<br>      type: 'ON_CLICK_SEND_INPUT',<br>      apiEndPoint: {<br>        apiUrl: steps.Props.saveconfig.url,<br>        type: 'GET',<br>        headers: {<br>          'Elements-Formula-Instance-Id': steps.Props.saveconfig.id,<br>        },<br>        input: {<br>          id: 'chargebee',<br>          siteDomain: siteDomain,<br>          integrationName: integrationName,<br>        },<br>      },<br>    },<br>  },<br>};<br><br>if(HubspotStageToggle === 'true'){<br>    // stages.forEach((element)=<span>></span>{element.isDisabled = true}) // if isDisabled is working swap it<br>    let newParams = _.concat(card.cards[1].card.params, stages);<br>    card.cards[1].card.params = newParams;<br>}<br><br>done(card);<br></pre>"
            click step-025 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN0YWdlc0FQSVJlc3BvbnNlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmRvbmUoc3RlcHMudXBkYXRlQ2hhcmdlYmVlQ29uZmlnLmNiX3N0YXR1cz09PSdzdWNjZXNzJyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0Q3VzdG9tRmllbGRQYXJhbXMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ2dldFN0YWdlc0Vycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ2V0U3RhZ2VzQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLnVwZGF0ZUNoYXJnZWJlZUNvbmZpZy5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>done(steps.updateChargebeeConfig.cb_status==='success');</pre>"
            click step-026 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN0YWdlc0Vycm9yPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjYXJkID0gezxicj4gICAgY2FyZHM6IFs8YnI+ICAgICAgICB7PGJyPiAgICAgICAgICAgICdjYXJkJzogezxicj4gICAgICAgICAgICAgICAgJ3R5cGUnOiAnQUNUSU9OJyw8YnI+ICAgICAgICAgICAgICAgICdoZWFkaW5nJzogJ0VSUk9SJyw8YnI+ICAgICAgICAgICAgICAgICdzdWJIZWFkaW5nJzogJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgJytzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWdzLmNiX2Vycm9yX2NvZGU8YnI+ICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgJ2lzQ2FyZERvbmUnOiB0cnVlLDxicj4gICAgICAgICAgICAnaWQnOiAnY2hlY2syJzxicj4gICAgICAgIH08YnI+ICAgICAgICBdPGJyPn07PGJyPjxicj5kb25lKHs8YnI+IHN0YXR1c0NvZGU6IDIwMCw8YnI+IHJlc3VsdDogY2FyZDxicj59KTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldFN0YWdlc0Vycm9yJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNhcmQgPSB7XG4gICAgY2FyZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCdjYXJkXCc6IHtcbiAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdBQ1RJT05cJyxcbiAgICAgICAgICAgICAgICBcJ2hlYWRpbmdcJzogXCdFUlJPUlwnLFxuICAgICAgICAgICAgICAgIFwnc3ViSGVhZGluZ1wnOiBcJ0FuIGlzc3VlIHdhcyBlbmNvdW50ZXJlZCBkdWUgdG8gd2hpY2ggdGhlIHN5bmMgZGlkIG5vdCBzdWNjZWVkLiBQbGVhc2UgcmV0cnkgc3luYyBhbmQgaWYgdGhlIGlzc3VlIHN0aWxsIHBlcnNpc3RzLCBjb250YWN0IHN1cHBvcnQgXCcrc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlncy5jYl9lcnJvcl9jb2RlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCdpc0NhcmREb25lXCc6IHRydWUsXG4gICAgICAgICAgICBcJ2lkXCc6IFwnY2hlY2syXCdcbiAgICAgICAgfVxuICAgICAgICBdXG59O1xuXG5kb25lKHtcbiBzdGF0dXNDb2RlOiAyMDAsXG4gcmVzdWx0OiBjYXJkXG59KSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let card = {<br>    cards: [<br>        {<br>            'card': {<br>                'type': 'ACTION',<br>                'heading': 'ERROR',<br>                'subHeading': 'An issue was encountered due to which the sync did not succeed. Please retry sync and if the issue still persists, contact support '+steps.getChargebeeConfigs.cb_error_code<br>            },<br>            'isCardDone': true,<br>            'id': 'check2'<br>        }<br>        ]<br>};<br><br>done({<br> statusCode: 200,<br> result: card<br>})</pre>"

        </div>
    </div>
    <h2>
        Formula Configuration
    </h2>
    <div class="container">
        <h3>Basic</h3><table><tr><th>key</th><th>value</th></tr><tr><td>Name</td><td>HubspotSyncrulesForContacts-Revamped</td></tr><tr><td>Single Threaded?</td><td>false</td></tr><tr><td>Active?</td><td>true</td></tr><tr><td>Number of Steps</td><td>25</td></tr><tr><td>Number of Triggers</td><td>1</td></tr></table>
    <br/><h3>Elements</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table>
    <br/><h3>Values</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table><br/>
    </div>
    <div class="key">
        <h2>
            Key
        </h2>
        <table>
            <tr>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
            </tr>

            <tr>
                <td>Filter Steps</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A{Step Name}
                    </div>
                </td>
                <td>Trigger/End</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        B((Actual))
                        C((Generated))
                        style C stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Request Step</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A>GET]
                        style A stroke:#0f6ab4;
                    </div>
                    <div class="mermaid">
                        graph TD
                        B>POST]
                        style B stroke:#10a54a;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PATCH]
                        style C stroke:#D38042;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PUT]
                        style C stroke:#C5862B;
                    </div>
                    <div class="mermaid">
                        graph TD
                        D>DELETE]
                        style D stroke:#a41e22;
                    </div>
                </td>
            </tr>
            <tr>
                <td>Script</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(Step Name)
                    </div>
                </td>
                <td>Loop</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(-Step Name-)
                    </div>
                </td>
                <td>Other(TYPE)</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D[Step Name]
                    </div>
                </td>
            </tr>
            <tr>
                <td>Pass/Fail Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL-->BL
                    </div>
                </td>
                <td>Generated Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL((B))
                        AL-.->BL
                        style BL stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Continue Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL==>BL
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>
</body>
</html>