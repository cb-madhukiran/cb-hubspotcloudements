<!DOCTYPE html>
<html lang="en">
<head>
    <title>HubSpotFullSyncDeals</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>
        var callback = function(){}
    </script>
    <style>
        div.mermaidTooltip {
                    margin-left: 50px;
                    text-align: left;
                    max-width: none;
                }
        .node rect,
        .node circle,
        .node ellipse,
        .node polygon {
                    fill: #ffffff;
                    stroke: rgb(200,200,200);
                    stroke-width: 2px;
                }
        .mermaid .label {
                  max-width: 50px;
                }
        table, th, td {
                    border: 1px solid black;
                }
        table {
                    border-spacing: 5px;
                    border-radius: 5px;
                    margin: auto;
                }
        th, td {
                    padding-left: 15px;
                    padding-right: 15px;
                    border-radius: 5px;
                }
        th {
                    color: blue;
                }
        td {
                    width: 180px;
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                }
        h2 {
                    text-align: center;
                    border: 1px solid black;
                    border-radius: 5px;
                    padding: 1em;
                }
        .container {
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                    font-size: 11px;
                    font-weight: 900;
                }
        body {
                    font-family: 'Arial';
                }
        .edgeLabel {
                    font-size: 9px;
                }
    </style>
</head>
<body>
    <h2>
        HubSpotFullSyncDeals
    </h2>
    <div class="container">
        <div class="mermaid">
            graph TD

                step-000((Trigger))
            step-001(InputParams)
            step-002(SyncLog)
            step-003[getChargebeeConfiguration]
            step-004{validateGetChargebeeConfigAPIResponse}
            step-005(prepareCBCustomFields)
            step-006(setSyncDetails)
            step-007[getCBCustomFields]
            step-008[getSyncDetails]
            step-009{validateGetCustomFieldAPIResponse}
            step-010{getSyncDetailsAPIResponse}
            step-011(UpdateCustomFieldInfo)
            step-012(prepareError)
            step-013(HardStop)
            step-021((END))
            step-015(CustomersParam)
            step-016[UpdateSyncError]
            step-021((END))
            step-018{DoContinue}
            step-019(TPParam)
            step-020(SyncDone)
            step-021((END))
            step-022[getTPData]
            step-023{getTpDataAPIResponse}
            step-024(UpdateTPList)
            step-025{HaveTPOffset}
            step-026[getHubspotPipeline]
            step-027{getHubspotPipelineAPIResponse}
            step-028(SubParam)
            step-029{IsValid}
            step-030[getAllSubscriptions]
            step-031{getAllSubscriptionsAPIResponse}
            step-032(-LoopOverSubscriptions-)
            step-033(DealInfo)
            step-034{HasNoSubOffset}
            step-035(CBInfo)
            step-036[getCustomerEntityMapping]
            step-037{getCustomerEntityMappingAPIResponse}
            step-038{HasAContactExist}
            step-039(setCurrentHubspotContact)
            step-040(UpdateSubscriptionError)
            step-041[getCurrentHubspotcontact]
            step-042[updateThirdPartyError]
            step-043{HasAContactExistInHubSpot}
            step-044{getUpdateThirdPartyAPIResponse}
            step-045(setupSubscriptionEntity)
            step-046[getSubscriptionEntity]
            step-047{getSubscriptionEntityAPIResponse}
            step-048{HasADealInEntityMapping}
            step-049(setupHubspotDeal)
            step-050{DoLookupforDealInHubSpot}
            step-051[getDealById]
            step-052(setupDealsByContact)
            step-053(setInvoiceForDeal)
            step-054{getDealByIdAPIResponse}
            step-055[getDealsByContact]
            step-056[getInvoiceForDeal]
            step-057(UpdateDealInfoFromEM)
            step-058{getDealsByContactAPIResponse}
            step-059{getInvoiceForDealAPIResponse}
            step-060{HasAValidDealInHubSpot}
            step-061{DoLookupforDealByCompany}
            step-062{DoGetPlan}
            step-063[GetInvoiceForDeal]
            step-064(setupDealsByCompany)
            step-065{HasADealForLookup}
            step-066(setPlanById)
            step-067(UpdateCBInfo)
            step-068[getDealsByCompany]
            step-069(setLookUpDeal)
            step-070{NoOpenDealOption}
            step-071[getPlanById]
            step-072{IsDealCreate}
            step-073{getDealsByCompanyAPIResponse}
            step-074[getLookUpDeal]
            step-075{getPlanByIdAPIResponse}
            step-076(PrepareDealCreate)
            step-077(PrepareDealUpdate)
            step-078(UpdateDealInfo)
            step-079{getLookUpDealAPIResponse}
            step-080[createDealInHubspot]
            step-081[updateDealInHubspot]
            step-082{getcreateDealInHubspotAPIResponse}
            step-083{getupdateDealInHubspotAPIResponse}
            step-084(DealThirdpartyCreateParam)
            step-085(DealCreateError)
            step-086(DealThirdPartyCreateParam)
            step-087(setDealThirdPartyCreateParam)
            step-088[updateThirdPartyError6]
            step-089[updateThirdPartyDeal]
            step-090{updateThirdPartyErrorAPIResponse6}
            step-091{getupdateThirdPartyDealAPIResponse}
            step-092(setSyncDetails)
            step-093(setSyncDetails)
            step-094(setSyncDetails)
            step-095(setSyncDetails)
            step-096(setSyncDetails)
            step-097(setSyncDetails)
            step-098(setSyncDetails)
            step-099(setSyncDetails)
            step-100(setSyncDetails)
            step-101(setSyncDetails)
            step-102(setSyncDetails)
            step-103(setSyncDetails)
            step-104(setSyncDetails)
            step-105(setSyncDetails)
            step-106(setSyncDetails)
            step-107(setSyncDetails)

                step-000== continue ==>step-001
            step-001-- success -->step-002
            step-002-- success -->step-003
            step-003-- success -->step-004
            step-004-- success -->step-005
            step-004-- failure -->step-092
            step-005-- success -->step-007
            step-006-- success -->step-008
            step-007-- success -->step-009
            step-008-- success -->step-010
            step-009-- success -->step-011
            step-009-- failure -->step-093
            step-010-- success -->step-012
            step-010-- failure -->step-013
            step-011-- success -->step-015
            step-012-- success -->step-016
            step-013-. done .->step-021
            step-015-- success -->step-018
            step-016-. done .->step-021
            step-018-- success -->step-019
            step-018-- failure -->step-020
            step-019-- success -->step-022
            step-020-. done .->step-021
            step-022-- success -->step-023
            step-023-- success -->step-024
            step-023-- failure -->step-094
            step-024-- success -->step-025
            step-025-- success -->step-019
            step-025-- failure -->step-026
            step-026-- success -->step-027
            step-027-- success -->step-028
            step-027-- failure -->step-095
            step-028-- success -->step-029
            step-029-- success -->step-030
            step-029-- failure -->step-020
            step-030-- success -->step-031
            step-031-- success -->step-032
            step-031-- failure -->step-096
            step-032-- success -->step-033
            step-032-- failure -->step-034
            step-033-- success -->step-035
            step-034-- success -->step-020
            step-034-- failure -->step-028
            step-035-- success -->step-036
            step-036-- success -->step-037
            step-037-- success -->step-038
            step-037-- failure -->step-097
            step-038-- success -->step-039
            step-038-- failure -->step-040
            step-039-- success -->step-041
            step-040-- success -->step-042
            step-041-- success -->step-043
            step-042-- success -->step-044
            step-043-- success -->step-045
            step-043-- failure -->step-040
            step-044-- success -->step-032
            step-044-- failure -->step-098
            step-045-- success -->step-046
            step-046-- success -->step-047
            step-047-- success -->step-048
            step-047-- failure -->step-099
            step-048-- success -->step-049
            step-048-- failure -->step-050
            step-049-- success -->step-051
            step-050-- success -->step-052
            step-050-- failure -->step-053
            step-051-- success -->step-054
            step-052-- success -->step-055
            step-053-- success -->step-056
            step-054-- success -->step-057
            step-054-- failure -->step-100
            step-055-- success -->step-058
            step-056-- success -->step-059
            step-057-- success -->step-060
            step-058-- success -->step-061
            step-058-- failure -->step-101
            step-059-- success -->step-062
            step-059-- failure -->step-102
            step-060-- success -->step-063
            step-060-- failure -->step-050
            step-061-- success -->step-064
            step-061-- failure -->step-065
            step-062-- success -->step-066
            step-062-- failure -->step-067
            step-063-- success -->step-062
            step-064-- success -->step-068
            step-065-- success -->step-069
            step-065-- failure -->step-070
            step-066-- success -->step-071
            step-067-- success -->step-072
            step-068-- success -->step-073
            step-069-- success -->step-074
            step-070-- success -->step-053
            step-070-- failure -->step-032
            step-071-- success -->step-075
            step-072-- success -->step-076
            step-072-- failure -->step-077
            step-073-- success -->step-078
            step-073-- failure -->step-103
            step-074-- success -->step-079
            step-075-- success -->step-067
            step-075-- failure -->step-104
            step-076-- success -->step-080
            step-077-- success -->step-081
            step-078-- success -->step-065
            step-079-- success -->step-063
            step-079-- failure -->step-105
            step-080-- success -->step-082
            step-081-- success -->step-083
            step-082-- success -->step-084
            step-082-- failure -->step-085
            step-083-- success -->step-086
            step-083-- failure -->step-085
            step-084-- success -->step-087
            step-085-- success -->step-088
            step-086-- success -->step-087
            step-087-- success -->step-089
            step-088-- success -->step-090
            step-089-- success -->step-091
            step-090-- success -->step-032
            step-090-- failure -->step-106
            step-091-- success -->step-032
            step-091-- failure -->step-107

                style step-006 fill:#dda7f9;
            style step-021 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-021 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-021 stroke-width:3px,stroke-dasharray: 5, 5;
            style step-092 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-093 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-094 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-095 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-096 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-097 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-098 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-099 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-100 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-101 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-102 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-103 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-104 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-105 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-106 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;
            style step-107 fill:#dda7f9,stroke-width:3px,stroke-dasharray: 5, 5;

                click step-000 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnRyaWdnZXI8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5UcmlnZ2VyIEVsZW1lbnQ6PC9iPjxicj48YnI+PHByZT4gICB0eXBlIDogbWFudWFsPGJyPiAgYXN5bmMgOiB0cnVlPC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnSW5wdXRQYXJhbXMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ3R5cGUnOiAnbWFudWFsJyw8YnI+ICAnYXN5bmMnOiB0cnVlLDxicj4gICduYW1lJzogJ3RyaWdnZXInLDxicj4gICdwcm9wZXJ0aWVzJzoge308YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Trigger Element:<br><pre>   type : manual<br>  async : true</pre>"
            click step-001 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklucHV0UGFyYW1zPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBhcGlLZXkgPSB0cmlnZ2VyLmFyZ3NbJ2NiLWFwaS1rZXknXTs8YnI+bGV0IHNpdGVOYW1lID0gdHJpZ2dlci5hcmdzWydjYi1zaXRlLW5hbWUnXTs8YnI+bGV0IHR5cGUgPSB0cmlnZ2VyLmFyZ3MudHlwZTs8YnI+bGV0IHNpdGVEb21haW4gPSB0cmlnZ2VyLmFyZ3NbJ2NiLWRvbWFpbiddOzxicj48YnI+bGV0IHBhc3N3b3JkID0gJyc7PGJyPmxldCBkYXRhID0gezxicj4gICBpbnB1dDogezxicj4gICAgICAgIGFwaUtleTogYXBpS2V5LDxicj4gICAgICAgIHNpdGVOYW1lOiBzaXRlTmFtZSw8YnI+ICAgICAgICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLDxicj4gICAgICAgIHR5cGU6IHR5cGUsPGJyPiAgICB9LDxicj4gICAgY29uZmlnOiB7PGJyPiAgICAgICAgdXJsOiAnaHR0cHM6Ly8nICsgc2l0ZU5hbWUgKyAnLicgKyBzaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfY29uZmlndXJhdGlvbnMnLDxicj4gICAgICAgIHN5bmNVcmw6ICdodHRwczovLycgKyBzaXRlTmFtZSArICcuJyArIHNpdGVEb21haW4gKyAnL2FwaS92Mi90aGlyZF9wYXJ0eV9zeW5jX2RldGFpbHMvcmV0cmlldmVfbGF0ZXN0X3N5bmMnLDxicj4gICAgICAgIGN1c3RvbUZpZWxkVXJsOiAnaHR0cHM6Ly8nICsgc2l0ZU5hbWUgKyAnLicgKyBzaXRlRG9tYWluICsgJy9hcGkvdjIvY3VzdG9tX2ZpZWxkX2NvbmZpZ3MnLDxicj4gICAgICAgIGF1dGg6IHs8YnI+ICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBDRS5iNjQoYXBpS2V5ICsgJzonICsgcGFzc3dvcmQpPGJyPiAgICAgICAgfSw8YnI+ICAgICAgICBxdWVyeTogezxicj4gICAgICAgICAgICBpbnRlZ3JhdGlvbl9uYW1lOiB0eXBlPGJyPiAgICAgICAgfTxicj4gICAgfSw8YnI+ICAgIHVwZGF0ZTogezxicj4gICAgICAgIHVybDogJ2h0dHBzOi8vJyArIHNpdGVOYW1lICsgJy5pbnRlZ3JhdGlvbnMuJyArIHNpdGVEb21haW4gKyAnL2ludGVncmF0aW9ucy91cGRhdGVfdHBfaW50ZWdfY29uZicsPGJyPiAgICAgICAgaGVhZGVyczogezxicj4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLDxicj4gICAgICAgICAgICAnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZSc8YnI+ICAgICAgICB9LDxicj4gICAgICAgIGJvZHk6IHs8YnI+ICAgICAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZSw8YnI+ICAgICAgICAgICAgc2l0ZV9uYW1lOiBzaXRlTmFtZSw8YnI+ICAgICAgICAgICAgYXBpX2tleTogYXBpS2V5PGJyPiAgICAgICAgfTxicj4gICAgfSw8YnI+ICAgIHVybDogJ2h0dHBzOi8vJyArIHNpdGVOYW1lICsgJy4nICsgc2l0ZURvbWFpbiArICcvYXBpL3YyL3RoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb25zJyw8YnI+ICAgIGFwaUtleTogYXBpS2V5LDxicj4gICAgc2l0ZU5hbWU6IHNpdGVOYW1lLDxicj4gICAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbiw8YnI+ICAgIHR5cGU6IHR5cGUsPGJyPiAgICBoZWFkZXJzOns8YnI+ICAgICAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChhcGlLZXkgKyAnOicgKyBwYXNzd29yZCk8YnI+ICAgICAgfSw8YnI+ICAgICAgcXVlcnk6ezxicj4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGU8YnI+ICAgICAgfTxicj59Ozxicj48YnI+ZG9uZShkYXRhKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdTeW5jTG9nJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0lucHV0UGFyYW1zJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGFwaUtleSA9IHRyaWdnZXIuYXJnc1snY2ItYXBpLWtleSddO1xubGV0IHNpdGVOYW1lID0gdHJpZ2dlci5hcmdzWydjYi1zaXRlLW5hbWUnXTtcbmxldCB0eXBlID0gdHJpZ2dlci5hcmdzLnR5cGU7XG5sZXQgc2l0ZURvbWFpbiA9IHRyaWdnZXIuYXJnc1snY2ItZG9tYWluJ107XG5cbmxldCBwYXNzd29yZCA9IFwnXCc7XG5sZXQgZGF0YSA9IHtcbiAgIGlucHV0OiB7XG4gICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICBzaXRlTmFtZTogc2l0ZU5hbWUsXG4gICAgICAgIHNpdGVEb21haW46IHNpdGVEb21haW4sXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgICAgdXJsOiBcJ2h0dHBzOi8vXCcgKyBzaXRlTmFtZSArIFwnLlwnICsgc2l0ZURvbWFpbiArIFwnL2FwaS92Mi90aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uc1wnLFxuICAgICAgICBzeW5jVXJsOiBcJ2h0dHBzOi8vXCcgKyBzaXRlTmFtZSArIFwnLlwnICsgc2l0ZURvbWFpbiArIFwnL2FwaS92Mi90aGlyZF9wYXJ0eV9zeW5jX2RldGFpbHMvcmV0cmlldmVfbGF0ZXN0X3N5bmNcJyxcbiAgICAgICAgY3VzdG9tRmllbGRVcmw6IFwnaHR0cHM6Ly9cJyArIHNpdGVOYW1lICsgXCcuXCcgKyBzaXRlRG9tYWluICsgXCcvYXBpL3YyL2N1c3RvbV9maWVsZF9jb25maWdzXCcsXG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwnQmFzaWMgXCcgKyBDRS5iNjQoYXBpS2V5ICsgXCc6XCcgKyBwYXNzd29yZClcbiAgICAgICAgfSxcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlOiB7XG4gICAgICAgIHVybDogXCdodHRwczovL1wnICsgc2l0ZU5hbWUgKyBcJy5pbnRlZ3JhdGlvbnMuXCcgKyBzaXRlRG9tYWluICsgXCcvaW50ZWdyYXRpb25zL3VwZGF0ZV90cF9pbnRlZ19jb25mXCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwnQ29udGVudC1UeXBlXCc6IFwnYXBwbGljYXRpb24vanNvblwnLFxuICAgICAgICAgICAgXCdjYWNoZS1jb250cm9sXCc6IFwnbm8tY2FjaGVcJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBpbnRlZ3JhdGlvbl9uYW1lOiB0eXBlLFxuICAgICAgICAgICAgc2l0ZV9uYW1lOiBzaXRlTmFtZSxcbiAgICAgICAgICAgIGFwaV9rZXk6IGFwaUtleVxuICAgICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwnaHR0cHM6Ly9cJyArIHNpdGVOYW1lICsgXCcuXCcgKyBzaXRlRG9tYWluICsgXCcvYXBpL3YyL3RoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb25zXCcsXG4gICAgYXBpS2V5OiBhcGlLZXksXG4gICAgc2l0ZU5hbWU6IHNpdGVOYW1lLFxuICAgIHNpdGVEb21haW46IHNpdGVEb21haW4sXG4gICAgdHlwZTogdHlwZSxcbiAgICBoZWFkZXJzOntcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OntcbiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZVxuICAgICAgfVxufTtcblxuZG9uZShkYXRhKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let apiKey = trigger.args['cb-api-key'];<br>let siteName = trigger.args['cb-site-name'];<br>let type = trigger.args.type;<br>let siteDomain = trigger.args['cb-domain'];<br><br>let password = '';<br>let data = {<br>   input: {<br>        apiKey: apiKey,<br>        siteName: siteName,<br>        siteDomain: siteDomain,<br>        type: type,<br>    },<br>    config: {<br>        url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_configurations',<br>        syncUrl: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_sync_details/retrieve_latest_sync',<br>        customFieldUrl: 'https://' + siteName + '.' + siteDomain + '/api/v2/custom_field_configs',<br>        auth: {<br>            Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>        },<br>        query: {<br>            integration_name: type<br>        }<br>    },<br>    update: {<br>        url: 'https://' + siteName + '.integrations.' + siteDomain + '/integrations/update_tp_integ_conf',<br>        headers: {<br>            'Content-Type': 'application/json',<br>            'cache-control': 'no-cache'<br>        },<br>        body: {<br>            integration_name: type,<br>            site_name: siteName,<br>            api_key: apiKey<br>        }<br>    },<br>    url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_configurations',<br>    apiKey: apiKey,<br>    siteName: siteName,<br>    siteDomain: siteDomain,<br>    type: type,<br>    headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query:{<br>        integration_name: type<br>      }<br>};<br><br>done(data);</pre>"
            click step-002 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN5bmNMb2c8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IGRhdGEgPSB7PGJyPiAgY3VzdG9tZWZpZWxkczogWzxicj4gICAgICAgICAgICB7PGJyPiAgICAgICAgICAgICAgICBsYWJlbDogJ1N1YnNjcmlwdGlvbicsPGJyPiAgICAgICAgICAgICAgICBrZXk6ICdzdWJjc3QnLDxicj4gICAgICAgICAgICAgICAgZmllbGRzOiBbPGJyPiAgICAgICAgICAgICAgICAgICAgWydjdXJyZW5jeV9jb2RlJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgIFsncGxhbl9xdWFudGl0eScsICdudW1iZXInLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncGxhbl91bml0X3ByaWNlJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydwbGFuX2Ftb3VudCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnYmlsbGluZ19wZXJpb2QnLCAnbnVtYmVyJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2JpbGxpbmdfcGVyaW9kX3VuaXQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3BsYW5fZnJlZV9xdWFudGl0eScsICdudW1iZXInLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnc3RhcnRfZGF0ZScsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWyd0cmlhbF9zdGFydCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWyd0cmlhbF9lbmQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3VycmVudF90ZXJtX3N0YXJ0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2N1cnJlbnRfdGVybV9lbmQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzdGFydGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2FjdGl2YXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydnaWZ0X2lkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydvdmVycmlkZV9yZWxhdGlvbnNoaXAnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3BhdXNlX2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncmVzdW1lX2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY2FuY2VsbGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2NhbmNlbF9yZWFzb24nLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2FmZmlsaWF0ZV90b2tlbicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9mcm9tX2lwJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydyZXNvdXJjZV92ZXJzaW9uJywgJ251bWJlcicsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWyd1cGRhdGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2hhc19zY2hlZHVsZWRfY2hhbmdlcycsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncGF5bWVudF9zb3VyY2VfaWQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2V4Y2hhbmdlX3JhdGUnLCAnbnVtYmVyJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2Jhc2VfY3VycmVuY3lfY29kZScsICdzdHJpbmcnLCAndGV4dCddPGJyPiAgICAgICAgICAgICAgICBdPGJyPiAgICAgICAgICAgIH0sPGJyPiAgICAgICAgICAgIHs8YnI+ICAgICAgICAgICAgICAgIGxhYmVsOiAnQ3VzdG9tZXInLDxicj4gICAgICAgICAgICAgICAga2V5OiAnY3VzdGNzdCcsPGJyPiAgICAgICAgICAgICAgICBmaWVsZHM6IFs8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3ZhdF9udW1iZXInLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3ZhdF9udW1iZXJfdmFsaWRhdGVkX3RpbWUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsndmF0X251bWJlcl9zdGF0dXMnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2FsbG93X2RpcmVjdF9kZWJpdCcsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnaXNfbG9jYXRpb25fdmFsaWQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWRfYXQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9mcm9tX2lwJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWyd0YXhhYmlsaXR5JywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydlbnRpdHlfY29kZScsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnZXhlbXB0X251bWJlcicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncmVzb3VyY2VfdmVyc2lvbicsICdudW1iZXInLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsndXBkYXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydsb2NhbGUnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2NvbnNvbGlkYXRlZF9pbnZvaWNpbmcnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2JpbGxpbmdfZGF0ZV9tb2RlJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydiaWxsaW5nX2RheV9vZl93ZWVrJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydiaWxsaW5nX2RheV9vZl93ZWVrX21vZGUnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3BpaV9jbGVhcmVkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydmcmF1ZF9mbGFnJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydwcmltYXJ5X3BheW1lbnRfc291cmNlX2lkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydiYWNrdXBfcGF5bWVudF9zb3VyY2VfaWQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3Byb21vdGlvbmFsX2NyZWRpdHMnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3VuYmlsbGVkX2NoYXJnZXMnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3JlZnVuZGFibGVfY3JlZGl0cycsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnZXhjZXNzX3BheW1lbnRzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydkZWxldGVkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydyZWdpc3RlcmVkX2Zvcl9nc3QnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2J1c2luZXNzX2N1c3RvbWVyX3dpdGhvdXRfdmF0X251bWJlcicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3VzdG9tZXJfdHlwZScsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY2xpZW50X3Byb2ZpbGVfaWQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgIF08YnI+ICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgezxicj4gICAgICAgICAgICAgICAgbGFiZWw6ICdPcmRlcicsPGJyPiAgICAgICAgICAgICAgICBrZXk6ICdvcmRlcmNzdCcsPGJyPiAgICAgICAgICAgICAgICBmaWVsZHM6IFs8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2RvY3VtZW50X251bWJlcicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnaW52b2ljZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY2FuY2VsbGF0aW9uX3JlYXNvbicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncGF5bWVudF9zdGF0dXMnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ29yZGVyX3R5cGUnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlX3R5cGUnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3JlZmVyZW5jZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnZnVsZmlsbG1lbnRfc3RhdHVzJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzaGlwcGluZ19kYXRlJywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3RyYWNraW5nX2lkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydiYXRjaF9pZCcsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9ieScsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnc2hpcG1lbnRfY2FycmllcicsICdzdHJpbmcnLCAndGV4dCddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnaW52b2ljZV9yb3VuZF9vZmZfYW1vdW50JywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWyd0YXgnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2Ftb3VudF9hZGp1c3RlZCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncmVmdW5kYWJsZV9jcmVkaXRzX2lzc3VlZCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncmVmdW5kYWJsZV9jcmVkaXRzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydyb3VuZGluZ19hZGp1c3RlbWVudCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsncGFpZF9vbicsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzaGlwcGluZ19jdXRfb2ZmX2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzdGF0dXNfdXBkYXRlX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2RlbGl2ZXJlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzaGlwcGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3Jlc291cmNlX3ZlcnNpb24nLCAnbnVtYmVyJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3VwZGF0ZWRfYXQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLDxicj4gICAgICAgICAgICAgICAgICAgIFsnY2FuY2VsbGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2Rpc2NvdW50JywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydzdWJfdG90YWwnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ3RvdGFsJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydkZWxldGVkJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydjdXJyZW5jeV9jb2RlJywgJ3N0cmluZycsICd0ZXh0J10sPGJyPiAgICAgICAgICAgICAgICAgICAgWydpc19naWZ0ZWQnLCAnc3RyaW5nJywgJ3RleHQnXSw8YnI+ICAgICAgICAgICAgICAgICAgICBbJ2dpZnRfaWQnLCAnc3RyaW5nJywgJ3RleHQnXTxicj4gICAgICAgICAgICAgICAgXTxicj4gICAgICAgICAgICB9LDxicj4gICAgICAgIF0sPGJyPiAgZWxpc3Q6W10sPGJyPiAgZW1hcDp7fSw8YnI+ICBzbGlzdDpbXSw8YnI+ICBzbWFwOnt9LDxicj4gICBzeW5jQ291bnQ6ezxicj4gICAgZUNvdW50OjAsPGJyPiAgICBzQ291bnQ6MDxicj4gIH08YnI+fTs8YnI+ZG9uZShkYXRhKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1N5bmNMb2cnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgZGF0YSA9IHtcbiAgY3VzdG9tZWZpZWxkczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcJ1N1YnNjcmlwdGlvblwnLFxuICAgICAgICAgICAgICAgIGtleTogXCdzdWJjc3RcJyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgWydjdXJyZW5jeV9jb2RlJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgICBbJ3BsYW5fcXVhbnRpdHknLCAnbnVtYmVyJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwbGFuX3VuaXRfcHJpY2UnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWydwbGFuX2Ftb3VudCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2JpbGxpbmdfcGVyaW9kJywgJ251bWJlcicsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYmlsbGluZ19wZXJpb2RfdW5pdCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BsYW5fZnJlZV9xdWFudGl0eScsICdudW1iZXInLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3N0YXJ0X2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ3RyaWFsX3N0YXJ0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0cmlhbF9lbmQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2N1cnJlbnRfdGVybV9zdGFydCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3VycmVudF90ZXJtX2VuZCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnc3RhcnRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnYWN0aXZhdGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWydnaWZ0X2lkJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3ZlcnJpZGVfcmVsYXRpb25zaGlwJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGF1c2VfZGF0ZScsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVzdW1lX2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NhbmNlbGxlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnY2FuY2VsX3JlYXNvbicsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FmZmlsaWF0ZV90b2tlbicsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWRfZnJvbV9pcCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3Jlc291cmNlX3ZlcnNpb24nLCAnbnVtYmVyJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1cGRhdGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWydoYXNfc2NoZWR1bGVkX2NoYW5nZXMnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydwYXltZW50X3NvdXJjZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2V4Y2hhbmdlX3JhdGUnLCAnbnVtYmVyJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydiYXNlX2N1cnJlbmN5X2NvZGUnLCAnc3RyaW5nJywgJ3RleHQnXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwnQ3VzdG9tZXJcJyxcbiAgICAgICAgICAgICAgICBrZXk6IFwnY3VzdGNzdFwnLFxuICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICBbJ3ZhdF9udW1iZXInLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2YXRfbnVtYmVyX3ZhbGlkYXRlZF90aW1lJywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2YXRfbnVtYmVyX3N0YXR1cycsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2FsbG93X2RpcmVjdF9kZWJpdCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2lzX2xvY2F0aW9uX3ZhbGlkJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9mcm9tX2lwJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsndGF4YWJpbGl0eScsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2VudGl0eV9jb2RlJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZXhlbXB0X251bWJlcicsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3Jlc291cmNlX3ZlcnNpb24nLCAnbnVtYmVyJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1cGRhdGVkX2F0JywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsb2NhbGUnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjb25zb2xpZGF0ZWRfaW52b2ljaW5nJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYmlsbGluZ19kYXRlX21vZGUnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydiaWxsaW5nX2RheV9vZl93ZWVrJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnYmlsbGluZ19kYXlfb2Zfd2Vla19tb2RlJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncGlpX2NsZWFyZWQnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmcmF1ZF9mbGFnJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncHJpbWFyeV9wYXltZW50X3NvdXJjZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2JhY2t1cF9wYXltZW50X3NvdXJjZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3Byb21vdGlvbmFsX2NyZWRpdHMnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWyd1bmJpbGxlZF9jaGFyZ2VzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVmdW5kYWJsZV9jcmVkaXRzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZXhjZXNzX3BheW1lbnRzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZGVsZXRlZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3JlZ2lzdGVyZWRfZm9yX2dzdCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2J1c2luZXNzX2N1c3RvbWVyX3dpdGhvdXRfdmF0X251bWJlcicsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2N1c3RvbWVyX3R5cGUnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjbGllbnRfcHJvZmlsZV9pZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IFwnT3JkZXJcJyxcbiAgICAgICAgICAgICAgICBrZXk6IFwnb3JkZXJjc3RcJyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgWydkb2N1bWVudF9udW1iZXInLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbnZvaWNlX2lkJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY2FuY2VsbGF0aW9uX3JlYXNvbicsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3BheW1lbnRfc3RhdHVzJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnb3JkZXJfdHlwZScsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3ByaWNlX3R5cGUnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWZlcmVuY2VfaWQnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydmdWxmaWxsbWVudF9zdGF0dXMnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzaGlwcGluZ19kYXRlJywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0cmFja2luZ19pZCcsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ2JhdGNoX2lkJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnY3JlYXRlZF9ieScsICdzdHJpbmcnLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3NoaXBtZW50X2NhcnJpZXInLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydpbnZvaWNlX3JvdW5kX29mZl9hbW91bnQnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0YXgnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWydhbW91bnRfYWRqdXN0ZWQnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWydyZWZ1bmRhYmxlX2NyZWRpdHNfaXNzdWVkJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVmdW5kYWJsZV9jcmVkaXRzJywgJ251bWJlcicsICd0ZXh0JywgJ2N1cnJlbmN5J10sXG4gICAgICAgICAgICAgICAgICAgIFsncm91bmRpbmdfYWRqdXN0ZW1lbnQnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWydwYWlkX29uJywgJ2RhdGV0aW1lJywgJ2RhdGUnXSxcbiAgICAgICAgICAgICAgICAgICAgWydzaGlwcGluZ19jdXRfb2ZmX2RhdGUnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NyZWF0ZWRfYXQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ3N0YXR1c191cGRhdGVfYXQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RlbGl2ZXJlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnc2hpcHBlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsncmVzb3VyY2VfdmVyc2lvbicsICdudW1iZXInLCAndGV4dCddLFxuICAgICAgICAgICAgICAgICAgICBbJ3VwZGF0ZWRfYXQnLCAnZGF0ZXRpbWUnLCAnZGF0ZSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2NhbmNlbGxlZF9hdCcsICdkYXRldGltZScsICdkYXRlJ10sXG4gICAgICAgICAgICAgICAgICAgIFsnZGlzY291bnQnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWydzdWJfdG90YWwnLCAnbnVtYmVyJywgJ3RleHQnLCAnY3VycmVuY3knXSxcbiAgICAgICAgICAgICAgICAgICAgWyd0b3RhbCcsICdudW1iZXInLCAndGV4dCcsICdjdXJyZW5jeSddLFxuICAgICAgICAgICAgICAgICAgICBbJ2RlbGV0ZWQnLCAnc3RyaW5nJywgJ3RleHQnXSxcbiAgICAgICAgICAgICAgICAgICAgWydjdXJyZW5jeV9jb2RlJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnaXNfZ2lmdGVkJywgJ3N0cmluZycsICd0ZXh0J10sXG4gICAgICAgICAgICAgICAgICAgIFsnZ2lmdF9pZCcsICdzdHJpbmcnLCAndGV4dCddXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgZWxpc3Q6W10sXG4gIGVtYXA6e30sXG4gIHNsaXN0OltdLFxuICBzbWFwOnt9LFxuICAgc3luY0NvdW50OntcbiAgICBlQ291bnQ6MCxcbiAgICBzQ291bnQ6MFxuICB9XG59O1xuZG9uZShkYXRhKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let data = {<br>  customefields: [<br>            {<br>                label: 'Subscription',<br>                key: 'subcst',<br>                fields: [<br>                    ['currency_code', 'string', 'text'],<br>                     ['plan_quantity', 'number', 'text'],<br>                    ['plan_unit_price', 'number', 'text', 'currency'],<br>                    ['plan_amount', 'number', 'text', 'currency'],<br>                    ['billing_period', 'number', 'text'],<br>                    ['billing_period_unit', 'string', 'text'],<br>                    ['plan_free_quantity', 'number', 'text'],<br>                    ['start_date', 'datetime', 'date'],<br>                    ['trial_start', 'datetime', 'date'],<br>                    ['trial_end', 'datetime', 'date'],<br>                    ['current_term_start', 'datetime', 'date'],<br>                    ['current_term_end', 'datetime', 'date'],<br>                    ['created_at', 'datetime', 'date'],<br>                    ['started_at', 'datetime', 'date'],<br>                    ['activated_at', 'datetime', 'date'],<br>                    ['gift_id', 'string', 'text'],<br>                    ['override_relationship', 'string', 'text'],<br>                    ['pause_date', 'datetime', 'date'],<br>                    ['resume_date', 'datetime', 'date'],<br>                    ['cancelled_at', 'datetime', 'date'],<br>                    ['cancel_reason', 'string', 'text'],<br>                    ['affiliate_token', 'string', 'text'],<br>                    ['created_from_ip', 'string', 'text'],<br>                    ['resource_version', 'number', 'text'],<br>                    ['updated_at', 'datetime', 'date'],<br>                    ['has_scheduled_changes', 'string', 'text'],<br>                    ['payment_source_id', 'string', 'text'],<br>                    ['exchange_rate', 'number', 'text'],<br>                    ['base_currency_code', 'string', 'text']<br>                ]<br>            },<br>            {<br>                label: 'Customer',<br>                key: 'custcst',<br>                fields: [<br>                    ['vat_number', 'string', 'text'],<br>                    ['vat_number_validated_time', 'datetime', 'date'],<br>                    ['vat_number_status', 'string', 'text'],<br>                    ['allow_direct_debit', 'string', 'text'],<br>                    ['is_location_valid', 'string', 'text'],<br>                    ['created_at', 'datetime', 'date'],<br>                    ['created_from_ip', 'string', 'text'],<br>                    ['taxability', 'string', 'text'],<br>                    ['entity_code', 'string', 'text'],<br>                    ['exempt_number', 'string', 'text'],<br>                    ['resource_version', 'number', 'text'],<br>                    ['updated_at', 'datetime', 'date'],<br>                    ['locale', 'string', 'text'],<br>                    ['consolidated_invoicing', 'string', 'text'],<br>                    ['billing_date_mode', 'string', 'text'],<br>                    ['billing_day_of_week', 'string', 'text'],<br>                    ['billing_day_of_week_mode', 'string', 'text'],<br>                    ['pii_cleared', 'string', 'text'],<br>                    ['fraud_flag', 'string', 'text'],<br>                    ['primary_payment_source_id', 'string', 'text'],<br>                    ['backup_payment_source_id', 'string', 'text'],<br>                    ['promotional_credits', 'number', 'text', 'currency'],<br>                    ['unbilled_charges', 'number', 'text', 'currency'],<br>                    ['refundable_credits', 'number', 'text', 'currency'],<br>                    ['excess_payments', 'number', 'text', 'currency'],<br>                    ['deleted', 'string', 'text'],<br>                    ['registered_for_gst', 'string', 'text'],<br>                    ['business_customer_without_vat_number', 'string', 'text'],<br>                    ['customer_type', 'string', 'text'],<br>                    ['client_profile_id', 'string', 'text'],<br>                ]<br>            },<br>            {<br>                label: 'Order',<br>                key: 'ordercst',<br>                fields: [<br>                    ['document_number', 'string', 'text'],<br>                    ['invoice_id', 'string', 'text'],<br>                    ['cancellation_reason', 'string', 'text'],<br>                    ['payment_status', 'string', 'text'],<br>                    ['order_type', 'string', 'text'],<br>                    ['price_type', 'string', 'text'],<br>                    ['reference_id', 'string', 'text'],<br>                    ['fulfillment_status', 'string', 'text'],<br>                    ['shipping_date', 'datetime', 'date'],<br>                    ['tracking_id', 'string', 'text'],<br>                    ['batch_id', 'string', 'text'],<br>                    ['created_by', 'string', 'text'],<br>                    ['shipment_carrier', 'string', 'text'],<br>                    ['invoice_round_off_amount', 'number', 'text', 'currency'],<br>                    ['tax', 'number', 'text', 'currency'],<br>                    ['amount_adjusted', 'number', 'text', 'currency'],<br>                    ['refundable_credits_issued', 'number', 'text', 'currency'],<br>                    ['refundable_credits', 'number', 'text', 'currency'],<br>                    ['rounding_adjustement', 'number', 'text', 'currency'],<br>                    ['paid_on', 'datetime', 'date'],<br>                    ['shipping_cut_off_date', 'datetime', 'date'],<br>                    ['created_at', 'datetime', 'date'],<br>                    ['status_update_at', 'datetime', 'date'],<br>                    ['delivered_at', 'datetime', 'date'],<br>                    ['shipped_at', 'datetime', 'date'],<br>                    ['resource_version', 'number', 'text'],<br>                    ['updated_at', 'datetime', 'date'],<br>                    ['cancelled_at', 'datetime', 'date'],<br>                    ['discount', 'number', 'text', 'currency'],<br>                    ['sub_total', 'number', 'text', 'currency'],<br>                    ['total', 'number', 'text', 'currency'],<br>                    ['deleted', 'string', 'text'],<br>                    ['currency_code', 'string', 'text'],<br>                    ['is_gifted', 'string', 'text'],<br>                    ['gift_id', 'string', 'text']<br>                ]<br>            },<br>        ],<br>  elist:[],<br>  emap:{},<br>  slist:[],<br>  smap:{},<br>   syncCount:{<br>    eCount:0,<br>    sCount:0<br>  }<br>};<br>done(data);</pre>"
            click step-003 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb248L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMwPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5JbnB1dFBhcmFtc308L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICd2YWxpZGF0ZUdldENoYXJnZWJlZUNvbmZpZ0FQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24nLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMCcsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLklucHV0UGFyYW1zfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.InputParams}</pre>"
            click step-004 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnZhbGlkYXRlR2V0Q2hhcmdlYmVlQ29uZmlnQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmNiX3N0YXR1cz09PSdzdWNjZXNzJyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAncHJlcGFyZUNCQ3VzdG9tRmllbGRzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ3ZhbGlkYXRlR2V0Q2hhcmdlYmVlQ29uZmlnQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uY2Jfc3RhdHVzPT09XCdzdWNjZXNzXCcpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done(steps.getChargebeeConfiguration.cb_status==='success');</pre>"
            click step-005 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnByZXBhcmVDQkN1c3RvbUZpZWxkczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT48YnI+bGV0IGFwaUtleSA9IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTs8YnI+bGV0IHNpdGVOYW1lID0gc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7PGJyPmxldCB0eXBlID0gc3RlcHMuSW5wdXRQYXJhbXMudHlwZTs8YnI+bGV0IHNpdGVEb21haW4gPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluOzxicj5sZXQgcGFzc3dvcmQgPSAnJzs8YnI+PGJyPmxldCBwYXJhbXMgPSB7PGJyPiAgICBhcGlLZXk6IGFwaUtleSw8YnI+ICAgIHNpdGVOYW1lOiBzaXRlTmFtZSw8YnI+ICAgIHNpdGVEb21haW46c2l0ZURvbWFpbiw8YnI+ICAgIHR5cGU6IHR5cGUsPGJyPiAgICAgIHVybDogJ2h0dHBzOi8vJyArIHNpdGVOYW1lICsgJy4nICsgc2l0ZURvbWFpbiArICcvYXBpL3YyL2N1c3RvbV9maWVsZF9jb25maWdzJyw8YnI+ICAgICAgaGVhZGVyczp7PGJyPiAgICAgICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBDRS5iNjQoYXBpS2V5ICsgJzonICsgcGFzc3dvcmQpPGJyPiAgICAgIH0sPGJyPiAgICAgIHF1ZXJ5Ons8YnI+ICAgICAgICBpbnRlZ3JhdGlvbl9uYW1lOiAnaHVic3BvdCc8YnI+ICAgICAgfTxicj4gIDxicj59Ozxicj48YnI+ZG9uZShwYXJhbXMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldENCQ3VzdG9tRmllbGRzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3ByZXBhcmVDQkN1c3RvbUZpZWxkcycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ1xubGV0IGFwaUtleSA9IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTtcbmxldCBzaXRlTmFtZSA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lO1xubGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlO1xubGV0IHNpdGVEb21haW4gPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluO1xubGV0IHBhc3N3b3JkID0gXCdcJztcblxubGV0IHBhcmFtcyA9IHtcbiAgICBhcGlLZXk6IGFwaUtleSxcbiAgICBzaXRlTmFtZTogc2l0ZU5hbWUsXG4gICAgc2l0ZURvbWFpbjpzaXRlRG9tYWluLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgICB1cmw6IFwnaHR0cHM6Ly9cJyArIHNpdGVOYW1lICsgXCcuXCcgKyBzaXRlRG9tYWluICsgXCcvYXBpL3YyL2N1c3RvbV9maWVsZF9jb25maWdzXCcsXG4gICAgICBoZWFkZXJzOntcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OntcbiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogXCdodWJzcG90XCdcbiAgICAgIH1cbiAgXG59O1xuXG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre><br>let apiKey = steps.InputParams.apiKey;<br>let siteName = steps.InputParams.siteName;<br>let type = steps.InputParams.type;<br>let siteDomain = steps.InputParams.siteDomain;<br>let password = '';<br><br>let params = {<br>    apiKey: apiKey,<br>    siteName: siteName,<br>    siteDomain:siteDomain,<br>    type: type,<br>      url: 'https://' + siteName + '.' + siteDomain + '/api/v2/custom_field_configs',<br>      headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query:{<br>        integration_name: 'hubspot'<br>      }<br>  <br>};<br><br>done(params);</pre>"
            click step-006 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldFN5bmNEZXRhaWxzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBhcGlLZXkgPSBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXk7PGJyPmxldCBzaXRlTmFtZSA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lOzxicj5sZXQgdHlwZSA9IHN0ZXBzLklucHV0UGFyYW1zLnR5cGU7PGJyPmxldCBzaXRlRG9tYWluID0gc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbjs8YnI+PGJyPmxldCBwYXNzd29yZCA9ICcnOzxicj5sZXQgZGF0YSA9IHs8YnI+ICAgIHVybDogJ2h0dHBzOi8vJyArIHNpdGVOYW1lICsgJy4nICsgc2l0ZURvbWFpbiArICcvYXBpL3YyL3RoaXJkX3BhcnR5X3N5bmNfZGV0YWlscy9yZXRyaWV2ZV9sYXRlc3Rfc3luYycsPGJyPiAgICBhcGlLZXk6IGFwaUtleSw8YnI+ICAgIHNpdGVOYW1lOiBzaXRlTmFtZSw8YnI+ICAgIHNpdGVEb21haW46IHNpdGVEb21haW4sPGJyPiAgICB0eXBlOiB0eXBlLDxicj4gICAgaGVhZGVyczp7PGJyPiAgICAgICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBDRS5iNjQoYXBpS2V5ICsgJzonICsgcGFzc3dvcmQpPGJyPiAgICAgIH0sPGJyPiAgICAgIHF1ZXJ5OiB7PGJyPiAgICAgICAgICAgICd0aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uW2ludGVncmF0aW9uX25hbWVdJzogdHlwZTxicj4gICAgICAgIH0sPGJyPn07PGJyPjxicj5kb25lKGRhdGEpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldFN5bmNEZXRhaWxzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3NldFN5bmNEZXRhaWxzJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGFwaUtleSA9IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTtcbmxldCBzaXRlTmFtZSA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lO1xubGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlO1xubGV0IHNpdGVEb21haW4gPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluO1xuXG5sZXQgcGFzc3dvcmQgPSBcJ1wnO1xubGV0IGRhdGEgPSB7XG4gICAgdXJsOiBcJ2h0dHBzOi8vXCcgKyBzaXRlTmFtZSArIFwnLlwnICsgc2l0ZURvbWFpbiArIFwnL2FwaS92Mi90aGlyZF9wYXJ0eV9zeW5jX2RldGFpbHMvcmV0cmlldmVfbGF0ZXN0X3N5bmNcJyxcbiAgICBhcGlLZXk6IGFwaUtleSxcbiAgICBzaXRlTmFtZTogc2l0ZU5hbWUsXG4gICAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbixcbiAgICB0eXBlOiB0eXBlLFxuICAgIGhlYWRlcnM6e1xuICAgICAgICBBdXRob3JpemF0aW9uOiBcJ0Jhc2ljIFwnICsgQ0UuYjY0KGFwaUtleSArIFwnOlwnICsgcGFzc3dvcmQpXG4gICAgICB9LFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICd0aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uW2ludGVncmF0aW9uX25hbWVdJzogdHlwZVxuICAgICAgICB9LFxufTtcblxuZG9uZShkYXRhKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let apiKey = steps.InputParams.apiKey;<br>let siteName = steps.InputParams.siteName;<br>let type = steps.InputParams.type;<br>let siteDomain = steps.InputParams.siteDomain;<br><br>let password = '';<br>let data = {<br>    url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_sync_details/retrieve_latest_sync',<br>    apiKey: apiKey,<br>    siteName: siteName,<br>    siteDomain: siteDomain,<br>    type: type,<br>    headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query: {<br>            'third_party_configuration[integration_name]': type<br>        },<br>};<br><br>done(data);</pre>"
            click step-007 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldENCQ3VzdG9tRmllbGRzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMDxicj4gICAgICAgYXJncyA6ICR7c3RlcHMucHJlcGFyZUNCQ3VzdG9tRmllbGRzfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3ZhbGlkYXRlR2V0Q3VzdG9tRmllbGRBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRDQkN1c3RvbUZpZWxkcycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMucHJlcGFyZUNCQ3VzdG9tRmllbGRzfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.prepareCBCustomFields}</pre>"
            click step-008 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN5bmNEZXRhaWxzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTQ0Mjxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0U3luY0RldGFpbHN9PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0U3luY0RldGFpbHNBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRTeW5jRGV0YWlscycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxNDQyJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0U3luY0RldGFpbHN9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31442<br>       args : ${steps.setSyncDetails}</pre>"
            click step-009 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnZhbGlkYXRlR2V0Q3VzdG9tRmllbGRBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5nZXRDQkN1c3RvbUZpZWxkcy5jYl9zdGF0dXM9PT0nc3VjY2VzcycpIHs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRDQkN1c3RvbUZpZWxkcy5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnVXBkYXRlQ3VzdG9tRmllbGRJbmZvJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ3ZhbGlkYXRlR2V0Q3VzdG9tRmllbGRBUElSZXNwb25zZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLmdldENCQ3VzdG9tRmllbGRzLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSB7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0Q0JDdXN0b21GaWVsZHMuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.getCBCustomFields.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getCBCustomFields.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-010 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN5bmNEZXRhaWxzQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5nZXRTeW5jRGV0YWlscy5jYl9zdGF0dXM9PT0nc3VjY2VzcycpPC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAncHJlcGFyZUVycm9yJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdIYXJkU3RvcCc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldFN5bmNEZXRhaWxzQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLmdldFN5bmNEZXRhaWxzLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done(steps.getSyncDetails.cb_status==='success')</pre>"
            click step-011 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZUN1c3RvbUZpZWxkSW5mbzwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5sZXQgY3VzdG9tZWZpZWxkcyA9IHN0ZXBzLlN5bmNMb2cuY3VzdG9tZWZpZWxkczs8YnI+bGV0IGxpc3QgPSBzdGVwcy5nZXRDQkN1c3RvbUZpZWxkcy5kYXRhOzxicj5pZihsaXN0IT09dW5kZWZpbmVkICYmIGxpc3QubGlzdCE9PXVuZGVmaW5lZCAmJiBsaXN0Lmxpc3QubGVuZ3RoPHNwYW4+Pjwvc3Bhbj4wKSB7PGJyPiAgbGlzdCA9IGxpc3QubGlzdDs8YnI+fTxicj5pZihsaXN0IT09dW5kZWZpbmVkKXs8YnI+ICBsZXQgbGlzdE1hcCA9IHt9Ozxicj4gIGZvcih2YXIgaT0wO2k8c3Bhbj48PC9zcGFuPmxpc3QubGVuZ3RoO2krKyl7PGJyPiAgICBsZXQgb2JqID0gbGlzdFtpXTs8YnI+ICAgIGlmKG9iai5jdXN0b21fZmllbGRfY29uZmlnICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICAgaWYob2JqLmN1c3RvbV9maWVsZF9jb25maWcuZW50aXR5X3R5cGUgPT09ICdjdXN0b21lcicpIHs8YnI+ICAgICAgICBsaXN0TWFwWydjdXN0Y3N0Xycrb2JqLmN1c3RvbV9maWVsZF9jb25maWcuYXBpX25hbWVdID0gb2JqLmN1c3RvbV9maWVsZF9jb25maWc7PGJyPiAgICAgIH1lbHNlIGlmKG9iai5jdXN0b21fZmllbGRfY29uZmlnLmVudGl0eV90eXBlID09PSAnc3Vic2NyaXB0aW9uJykgezxicj4gICAgICAgIGxpc3RNYXBbJ3N1YmNzdF8nK29iai5jdXN0b21fZmllbGRfY29uZmlnLmFwaV9uYW1lXSA9IG9iai5jdXN0b21fZmllbGRfY29uZmlnOzxicj4gICAgICB9PGJyPiAgICB9PGJyPiAgICA8YnI+ICB9PGJyPiAgICBsZXQgc3luY1J1bGVzRmllbGRzID0gc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZXNGaWVsZHM7PGJyPiAgaWYgKHN5bmNSdWxlc0ZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7PGJyPiAgICBzeW5jUnVsZXNGaWVsZHMgPSB7PGJyPiAgICAgICdjb21wYW55Jzogezxicj48YnI+ICAgICAgfSw8YnI+ICAgICAgJ2NvbnRhY3QnOiB7PGJyPjxicj4gICAgICB9LDxicj4gICAgICAnZGVhbCc6IHs8YnI+ICAgICAgfSw8YnI+ICAgICAgJ3N5bmMnOiAnZmFsc2UnPGJyPiAgICB9Ozxicj48YnI+ICB9IGVsc2Ugezxicj4gICAgaWYgKHN5bmNSdWxlc0ZpZWxkcy5jb21wYW55ID09PSB1bmRlZmluZWQgfHwgc3luY1J1bGVzRmllbGRzLmNvbXBhbnkgPT09ICcnKSB7PGJyPiAgICAgIHN5bmNSdWxlc0ZpZWxkcy5jb21wYW55ID0ge307PGJyPiAgICB9PGJyPiAgICBpZiAoc3luY1J1bGVzRmllbGRzLmNvbnRhY3QgPT09IHVuZGVmaW5lZCB8fCBzeW5jUnVsZXNGaWVsZHMuY29udGFjdCA9PT0gJycpIHs8YnI+ICAgICAgc3luY1J1bGVzRmllbGRzLmNvbnRhY3QgPSB7fTs8YnI+ICAgIH08YnI+ICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuZGVhbCA9PT0gdW5kZWZpbmVkIHx8IHN5bmNSdWxlc0ZpZWxkcy5kZWFsID09PSAnJykgezxicj4gICAgICBzeW5jUnVsZXNGaWVsZHMuZGVhbCA9IHt9Ozxicj4gICAgfTxicj4gIH08YnI+ICA8YnI+ICBsZXQgY29udGFjdEtleXMgPSBPYmplY3Qua2V5cyhzeW5jUnVsZXNGaWVsZHMuY29udGFjdCk7PGJyPiAgbGV0IHN1YktleXMgPSBPYmplY3Qua2V5cyhzeW5jUnVsZXNGaWVsZHMuZGVhbCk7PGJyPiAgbGV0IGNLZXlzID1bXTs8YnI+ICBsZXQgY01hcCA9IHt9Ozxicj4gIGZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IGNvbnRhY3RLZXlzLmxlbmd0aDsgaSsrKSB7PGJyPiAgICBpZihjb250YWN0S2V5c1tpXS5zdGFydHNXaXRoKCdjdXN0Y3N0X2NmXycpIHx8IGNvbnRhY3RLZXlzW2ldLnN0YXJ0c1dpdGgoJ3N1YmNzdF9jZl8nKSApIHs8YnI+ICAgICAgaWYoY01hcFtjb250YWN0S2V5c1tpXV0gPT09IHVuZGVmaW5lZCl7PGJyPiAgICAgICAgY0tleXMucHVzaChjb250YWN0S2V5c1tpXSk7PGJyPiAgICAgICAgY01hcFtjb250YWN0S2V5c1tpXV0gPWNvbnRhY3RLZXlzW2ldOzxicj4gICAgICB9PGJyPiAgICB9PGJyPiAgfTxicj4gIGZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IHN1YktleXMubGVuZ3RoOyBpKyspIHs8YnI+ICAgIGlmKHN1YktleXNbaV0uc3RhcnRzV2l0aCgnY3VzdGNzdF9jZl8nKSB8fCBzdWJLZXlzW2ldLnN0YXJ0c1dpdGgoJ3N1YmNzdF9jZl8nKSApIHs8YnI+ICAgICAgaWYoY01hcFtzdWJLZXlzW2ldXSA9PT0gdW5kZWZpbmVkKXs8YnI+ICAgICAgICBjS2V5cy5wdXNoKHN1YktleXNbaV0pOzxicj4gICAgICAgIGNNYXBbc3ViS2V5c1tpXV0gPXN1YktleXNbaV07PGJyPiAgICAgIH08YnI+ICAgIH08YnI+ICB9PGJyPiAgPGJyPiAgICBmb3IgKHZhciBpID0gMDsgaSA8c3Bhbj48PC9zcGFuPiBjS2V5cy5sZW5ndGg7IGkrKykgezxicj4gICAgICBpZihsaXN0TWFwW2NLZXlzW2ldXSAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgICAgICAgIGxldCB0eXBlID0gbGlzdE1hcFtjS2V5c1tpXV0uZmllbGRfZGF0YXR5cGU7PGJyPiAgICAgICAgIGxldCBrZXluYW1lID0gbGlzdE1hcFtjS2V5c1tpXV0uYXBpX25hbWU7PGJyPiAgICAgICAgIGlmKGxpc3RNYXBbY0tleXNbaV1dLmVudGl0eV90eXBlID09PSAnY3VzdG9tZXInKSB7PGJyPiAgICAgICAgICA8YnI+ICAgICAgICAgICBpZih0eXBlID09PSdkYXRlJyB8fCB0eXBlID09PSd0aW1lc3RhbXAnKSB7PGJyPiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzFdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnZGF0ZXRpbWUnLCAnZGF0ZSddKTs8YnI+ICAgICAgICAgICB9ZWxzZSBpZih0eXBlID09PSdsb25nJyl7PGJyPiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzFdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnbnVtYmVyJywgJ3RleHQnXSk7PGJyPiAgICAgICAgICAgfWVsc2Ugezxicj4gICAgICAgICAgICAgY3VzdG9tZWZpZWxkc1sxXS5maWVsZHMucHVzaChba2V5bmFtZSwgJ3N0cmluZycsICd0ZXh0J10pOzxicj4gICAgICAgICAgIH08YnI+ICAgICAgICAgICA8YnI+ICAgICAgICAgfWVsc2UgaWYobGlzdE1hcFtjS2V5c1tpXV0uZW50aXR5X3R5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7PGJyPiAgICAgICAgICAgIGlmKHR5cGUgPT09J2RhdGUnIHx8IHR5cGUgPT09J3RpbWVzdGFtcCcpIHs8YnI+ICAgICAgICAgICAgIGN1c3RvbWVmaWVsZHNbMF0uZmllbGRzLnB1c2goW2tleW5hbWUsICdkYXRldGltZScsICdkYXRlJ10pOzxicj4gICAgICAgICAgIH1lbHNlIGlmKHR5cGUgPT09J2xvbmcnKXs8YnI+ICAgICAgICAgICAgIGN1c3RvbWVmaWVsZHNbMF0uZmllbGRzLnB1c2goW2tleW5hbWUsICdudW1iZXInLCAndGV4dCddKTs8YnI+ICAgICAgICAgICB9ZWxzZSB7PGJyPiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzBdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnc3RyaW5nJywgJ3RleHQnXSk7PGJyPiAgICAgICAgICAgfTxicj4gICAgICAgICB9PGJyPiAgICAgIH08YnI+ICAgIH08YnI+ICA8YnI+ICA8YnI+c3RlcHMuU3luY0xvZy5jdXN0b21lZmllbGRzPSBjdXN0b21lZmllbGRzOzxicj4gIDxicj59PGJyPmRvbmUoc3RlcHMuU3luY0xvZy5jdXN0b21lZmllbGRzKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdDdXN0b21lcnNQYXJhbSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdVcGRhdGVDdXN0b21GaWVsZEluZm8nLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgY3VzdG9tZWZpZWxkcyA9IHN0ZXBzLlN5bmNMb2cuY3VzdG9tZWZpZWxkcztcbmxldCBsaXN0ID0gc3RlcHMuZ2V0Q0JDdXN0b21GaWVsZHMuZGF0YTtcbmlmKGxpc3QhPT11bmRlZmluZWQgJiYgbGlzdC5saXN0IT09dW5kZWZpbmVkICYmIGxpc3QubGlzdC5sZW5ndGg8c3Bhbj4+PC9zcGFuPjApIHtcbiAgbGlzdCA9IGxpc3QubGlzdDtcbn1cbmlmKGxpc3QhPT11bmRlZmluZWQpe1xuICBsZXQgbGlzdE1hcCA9IHt9O1xuICBmb3IodmFyIGk9MDtpPHNwYW4+PDwvc3Bhbj5saXN0Lmxlbmd0aDtpKyspe1xuICAgIGxldCBvYmogPSBsaXN0W2ldO1xuICAgIGlmKG9iai5jdXN0b21fZmllbGRfY29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmKG9iai5jdXN0b21fZmllbGRfY29uZmlnLmVudGl0eV90eXBlID09PSBcJ2N1c3RvbWVyXCcpIHtcbiAgICAgICAgbGlzdE1hcFtcJ2N1c3Rjc3RfXCcrb2JqLmN1c3RvbV9maWVsZF9jb25maWcuYXBpX25hbWVdID0gb2JqLmN1c3RvbV9maWVsZF9jb25maWc7XG4gICAgICB9ZWxzZSBpZihvYmouY3VzdG9tX2ZpZWxkX2NvbmZpZy5lbnRpdHlfdHlwZSA9PT0gXCdzdWJzY3JpcHRpb25cJykge1xuICAgICAgICBsaXN0TWFwW1wnc3ViY3N0X1wnK29iai5jdXN0b21fZmllbGRfY29uZmlnLmFwaV9uYW1lXSA9IG9iai5jdXN0b21fZmllbGRfY29uZmlnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfVxuICAgIGxldCBzeW5jUnVsZXNGaWVsZHMgPSBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnN5bmNSdWxlc0ZpZWxkcztcbiAgaWYgKHN5bmNSdWxlc0ZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3luY1J1bGVzRmllbGRzID0ge1xuICAgICAgXCdjb21wYW55XCc6IHtcblxuICAgICAgfSxcbiAgICAgIFwnY29udGFjdFwnOiB7XG5cbiAgICAgIH0sXG4gICAgICBcJ2RlYWxcJzoge1xuICAgICAgfSxcbiAgICAgIFwnc3luY1wnOiBcJ2ZhbHNlXCdcbiAgICB9O1xuXG4gIH0gZWxzZSB7XG4gICAgaWYgKHN5bmNSdWxlc0ZpZWxkcy5jb21wYW55ID09PSB1bmRlZmluZWQgfHwgc3luY1J1bGVzRmllbGRzLmNvbXBhbnkgPT09IFwnXCcpIHtcbiAgICAgIHN5bmNSdWxlc0ZpZWxkcy5jb21wYW55ID0ge307XG4gICAgfVxuICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuY29udGFjdCA9PT0gdW5kZWZpbmVkIHx8IHN5bmNSdWxlc0ZpZWxkcy5jb250YWN0ID09PSBcJ1wnKSB7XG4gICAgICBzeW5jUnVsZXNGaWVsZHMuY29udGFjdCA9IHt9O1xuICAgIH1cbiAgICBpZiAoc3luY1J1bGVzRmllbGRzLmRlYWwgPT09IHVuZGVmaW5lZCB8fCBzeW5jUnVsZXNGaWVsZHMuZGVhbCA9PT0gXCdcJykge1xuICAgICAgc3luY1J1bGVzRmllbGRzLmRlYWwgPSB7fTtcbiAgICB9XG4gIH1cbiAgXG4gIGxldCBjb250YWN0S2V5cyA9IE9iamVjdC5rZXlzKHN5bmNSdWxlc0ZpZWxkcy5jb250YWN0KTtcbiAgbGV0IHN1YktleXMgPSBPYmplY3Qua2V5cyhzeW5jUnVsZXNGaWVsZHMuZGVhbCk7XG4gIGxldCBjS2V5cyA9W107XG4gIGxldCBjTWFwID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IGNvbnRhY3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYoY29udGFjdEtleXNbaV0uc3RhcnRzV2l0aChcJ2N1c3Rjc3RfY2ZfXCcpIHx8IGNvbnRhY3RLZXlzW2ldLnN0YXJ0c1dpdGgoXCdzdWJjc3RfY2ZfXCcpICkge1xuICAgICAgaWYoY01hcFtjb250YWN0S2V5c1tpXV0gPT09IHVuZGVmaW5lZCl7XG4gICAgICAgIGNLZXlzLnB1c2goY29udGFjdEtleXNbaV0pO1xuICAgICAgICBjTWFwW2NvbnRhY3RLZXlzW2ldXSA9Y29udGFjdEtleXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IHN1YktleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZihzdWJLZXlzW2ldLnN0YXJ0c1dpdGgoXCdjdXN0Y3N0X2NmX1wnKSB8fCBzdWJLZXlzW2ldLnN0YXJ0c1dpdGgoXCdzdWJjc3RfY2ZfXCcpICkge1xuICAgICAgaWYoY01hcFtzdWJLZXlzW2ldXSA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgY0tleXMucHVzaChzdWJLZXlzW2ldKTtcbiAgICAgICAgY01hcFtzdWJLZXlzW2ldXSA9c3ViS2V5c1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPHNwYW4+PDwvc3Bhbj4gY0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKGxpc3RNYXBbY0tleXNbaV1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgIGxldCB0eXBlID0gbGlzdE1hcFtjS2V5c1tpXV0uZmllbGRfZGF0YXR5cGU7XG4gICAgICAgICBsZXQga2V5bmFtZSA9IGxpc3RNYXBbY0tleXNbaV1dLmFwaV9uYW1lO1xuICAgICAgICAgaWYobGlzdE1hcFtjS2V5c1tpXV0uZW50aXR5X3R5cGUgPT09IFwnY3VzdG9tZXJcJykge1xuICAgICAgICAgIFxuICAgICAgICAgICBpZih0eXBlID09PVwnZGF0ZVwnIHx8IHR5cGUgPT09XCd0aW1lc3RhbXBcJykge1xuICAgICAgICAgICAgIGN1c3RvbWVmaWVsZHNbMV0uZmllbGRzLnB1c2goW2tleW5hbWUsICdkYXRldGltZScsICdkYXRlJ10pO1xuICAgICAgICAgICB9ZWxzZSBpZih0eXBlID09PVwnbG9uZ1wnKXtcbiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzFdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnbnVtYmVyJywgJ3RleHQnXSk7XG4gICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzFdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnc3RyaW5nJywgJ3RleHQnXSk7XG4gICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICB9ZWxzZSBpZihsaXN0TWFwW2NLZXlzW2ldXS5lbnRpdHlfdHlwZSA9PT0gXCdzdWJzY3JpcHRpb25cJykge1xuICAgICAgICAgICAgaWYodHlwZSA9PT1cJ2RhdGVcJyB8fCB0eXBlID09PVwndGltZXN0YW1wXCcpIHtcbiAgICAgICAgICAgICBjdXN0b21lZmllbGRzWzBdLmZpZWxkcy5wdXNoKFtrZXluYW1lLCAnZGF0ZXRpbWUnLCAnZGF0ZSddKTtcbiAgICAgICAgICAgfWVsc2UgaWYodHlwZSA9PT1cJ2xvbmdcJyl7XG4gICAgICAgICAgICAgY3VzdG9tZWZpZWxkc1swXS5maWVsZHMucHVzaChba2V5bmFtZSwgJ251bWJlcicsICd0ZXh0J10pO1xuICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgY3VzdG9tZWZpZWxkc1swXS5maWVsZHMucHVzaChba2V5bmFtZSwgJ3N0cmluZycsICd0ZXh0J10pO1xuICAgICAgICAgICB9XG4gICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBcbiAgXG5zdGVwcy5TeW5jTG9nLmN1c3RvbWVmaWVsZHM9IGN1c3RvbWVmaWVsZHM7XG4gIFxufVxuZG9uZShzdGVwcy5TeW5jTG9nLmN1c3RvbWVmaWVsZHMpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let customefields = steps.SyncLog.customefields;<br>let list = steps.getCBCustomFields.data;<br>if(list!==undefined && list.list!==undefined && list.list.length<span>></span>0) {<br>  list = list.list;<br>}<br>if(list!==undefined){<br>  let listMap = {};<br>  for(var i=0;i<span><</span>list.length;i++){<br>    let obj = list[i];<br>    if(obj.custom_field_config !== undefined) {<br>      if(obj.custom_field_config.entity_type === 'customer') {<br>        listMap['custcst_'+obj.custom_field_config.api_name] = obj.custom_field_config;<br>      }else if(obj.custom_field_config.entity_type === 'subscription') {<br>        listMap['subcst_'+obj.custom_field_config.api_name] = obj.custom_field_config;<br>      }<br>    }<br>    <br>  }<br>    let syncRulesFields = steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRulesFields;<br>  if (syncRulesFields === undefined) {<br>    syncRulesFields = {<br>      'company': {<br><br>      },<br>      'contact': {<br><br>      },<br>      'deal': {<br>      },<br>      'sync': 'false'<br>    };<br><br>  } else {<br>    if (syncRulesFields.company === undefined || syncRulesFields.company === '') {<br>      syncRulesFields.company = {};<br>    }<br>    if (syncRulesFields.contact === undefined || syncRulesFields.contact === '') {<br>      syncRulesFields.contact = {};<br>    }<br>    if (syncRulesFields.deal === undefined || syncRulesFields.deal === '') {<br>      syncRulesFields.deal = {};<br>    }<br>  }<br>  <br>  let contactKeys = Object.keys(syncRulesFields.contact);<br>  let subKeys = Object.keys(syncRulesFields.deal);<br>  let cKeys =[];<br>  let cMap = {};<br>  for (var i = 0; i <span><</span> contactKeys.length; i++) {<br>    if(contactKeys[i].startsWith('custcst_cf_') || contactKeys[i].startsWith('subcst_cf_') ) {<br>      if(cMap[contactKeys[i]] === undefined){<br>        cKeys.push(contactKeys[i]);<br>        cMap[contactKeys[i]] =contactKeys[i];<br>      }<br>    }<br>  }<br>  for (var i = 0; i <span><</span> subKeys.length; i++) {<br>    if(subKeys[i].startsWith('custcst_cf_') || subKeys[i].startsWith('subcst_cf_') ) {<br>      if(cMap[subKeys[i]] === undefined){<br>        cKeys.push(subKeys[i]);<br>        cMap[subKeys[i]] =subKeys[i];<br>      }<br>    }<br>  }<br>  <br>    for (var i = 0; i <span><</span> cKeys.length; i++) {<br>      if(listMap[cKeys[i]] !== undefined) {<br>         let type = listMap[cKeys[i]].field_datatype;<br>         let keyname = listMap[cKeys[i]].api_name;<br>         if(listMap[cKeys[i]].entity_type === 'customer') {<br>          <br>           if(type ==='date' || type ==='timestamp') {<br>             customefields[1].fields.push([keyname, 'datetime', 'date']);<br>           }else if(type ==='long'){<br>             customefields[1].fields.push([keyname, 'number', 'text']);<br>           }else {<br>             customefields[1].fields.push([keyname, 'string', 'text']);<br>           }<br>           <br>         }else if(listMap[cKeys[i]].entity_type === 'subscription') {<br>            if(type ==='date' || type ==='timestamp') {<br>             customefields[0].fields.push([keyname, 'datetime', 'date']);<br>           }else if(type ==='long'){<br>             customefields[0].fields.push([keyname, 'number', 'text']);<br>           }else {<br>             customefields[0].fields.push([keyname, 'string', 'text']);<br>           }<br>         }<br>      }<br>    }<br>  <br>  <br>steps.SyncLog.customefields= customefields;<br>  <br>}<br>done(steps.SyncLog.customefields);</pre>"
            click step-012 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnByZXBhcmVFcnJvcjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5sZXQgZXJyb3IgPSAnU3luYyBFcnJvciBEZWFsJzs8YnI+PGJyPmxldCBzeW5jID0gezxicj4gICAgdXJsOiAnaHR0cHM6Ly8nICsgc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUgKyAnLicgKyBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfc3luY19kZXRhaWxzLycgKyBzdGVwcy5nZXRTeW5jRGV0YWlscy5kYXRhLnRoaXJkX3BhcnR5X3N5bmNfZGV0YWlsLmlkLDxicj4gICAgcXVlcnk6IHs8YnI+ICAgICAgICAndGhpcmRfcGFydHlfY29uZmlndXJhdGlvbltpbnRlZ3JhdGlvbl9uYW1lXSc6ICdodWJzcG90Jyw8YnI+ICAgIH0sPGJyPiAgICBoZWFkZXJzOiBzdGVwcy5JbnB1dFBhcmFtcy5oZWFkZXJzLDxicj4gICAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsPGJyPiAgICBzaXRlRG9tYWluOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLDxicj4gICAgdHlwZTogc3RlcHMuSW5wdXRQYXJhbXMudHlwZSw8YnI+fTs8YnI+PGJyPmxldCBjb250ZXh0ID0gc3RlcHMuZ2V0U3luY0RldGFpbHMuZGF0YS50aGlyZF9wYXJ0eV9zeW5jX2RldGFpbC5jb250ZXh0Ozxicj5jb250ZXh0LnN5bmNfY29udGV4dF9tZXNzYWdlcyA9IFsgZXJyb3JdOzxicj5jb250ZXh0LmVycm9yX2NvZGU9KHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9PT11bmRlZmluZWQpID8nY2JlcnJvcic6c3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlOzxicj5zeW5jLnF1ZXJ5LmNvbnRleHQgPSBKU09OLnN0cmluZ2lmeShjb250ZXh0KTs8YnI+c3luYy5xdWVyeS5zdGF0dXMgPSAgJ2ZhaWxlZCc7PGJyPjxicj48YnI+ZG9uZShzeW5jKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdVcGRhdGVTeW5jRXJyb3InPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAncHJlcGFyZUVycm9yJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGVycm9yID0gXCdTeW5jIEVycm9yIERlYWxcJztcblxubGV0IHN5bmMgPSB7XG4gICAgdXJsOiBcJ2h0dHBzOi8vXCcgKyBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSArIFwnLlwnICsgc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbiArIFwnL2FwaS92Mi90aGlyZF9wYXJ0eV9zeW5jX2RldGFpbHMvXCcgKyBzdGVwcy5nZXRTeW5jRGV0YWlscy5kYXRhLnRoaXJkX3BhcnR5X3N5bmNfZGV0YWlsLmlkLFxuICAgIHF1ZXJ5OiB7XG4gICAgICAgIFwndGhpcmRfcGFydHlfY29uZmlndXJhdGlvbltpbnRlZ3JhdGlvbl9uYW1lXVwnOiBcJ2h1YnNwb3RcJyxcbiAgICB9LFxuICAgIGhlYWRlcnM6IHN0ZXBzLklucHV0UGFyYW1zLmhlYWRlcnMsXG4gICAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksXG4gICAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLFxuICAgIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gICAgdHlwZTogc3RlcHMuSW5wdXRQYXJhbXMudHlwZSxcbn07XG5cbmxldCBjb250ZXh0ID0gc3RlcHMuZ2V0U3luY0RldGFpbHMuZGF0YS50aGlyZF9wYXJ0eV9zeW5jX2RldGFpbC5jb250ZXh0O1xuY29udGV4dC5zeW5jX2NvbnRleHRfbWVzc2FnZXMgPSBbIGVycm9yXTtcbmNvbnRleHQuZXJyb3JfY29kZT0oc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID09PXVuZGVmaW5lZCkgP1wnY2JlcnJvclwnOnN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZTtcbnN5bmMucXVlcnkuY29udGV4dCA9IEpTT04uc3RyaW5naWZ5KGNvbnRleHQpO1xuc3luYy5xdWVyeS5zdGF0dXMgPSAgXCdmYWlsZWRcJztcblxuXG5kb25lKHN5bmMpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let error = 'Sync Error Deal';<br><br>let sync = {<br>    url: 'https://' + steps.InputParams.siteName + '.' + steps.InputParams.siteDomain + '/api/v2/third_party_sync_details/' + steps.getSyncDetails.data.third_party_sync_detail.id,<br>    query: {<br>        'third_party_configuration[integration_name]': 'hubspot',<br>    },<br>    headers: steps.InputParams.headers,<br>    apiKey: steps.InputParams.apiKey,<br>    siteName: steps.InputParams.siteName,<br>    siteDomain: steps.InputParams.siteDomain,<br>    type: steps.InputParams.type,<br>};<br><br>let context = steps.getSyncDetails.data.third_party_sync_detail.context;<br>context.sync_context_messages = [ error];<br>context.error_code=(steps.InputParams.errorCode ===undefined) ?'cberror':steps.InputParams.errorCode;<br>sync.query.context = JSON.stringify(context);<br>sync.query.status =  'failed';<br><br><br>done(sync);</pre>"
            click step-013 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhcmRTdG9wPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmRvbmUoezxicj4gIG1lc3NhZ2U6J0hhcmQgU3RvcCAnPGJyPn0pOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0hhcmRTdG9wJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnZG9uZSh7XG4gIG1lc3NhZ2U6XCdIYXJkIFN0b3AgXCdcbn0pOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done({<br>  message:'Hard Stop '<br>});</pre>"
            click step-015 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkN1c3RvbWVyc1BhcmFtPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBwYXJhbXMgPSB7PGJyPiAgICBzeW5jUnVsZXNDb250YWN0czogc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZXNDb250YWN0cyw8YnI+ICAgIHN5bmNSdWxlc09yZGVyczogc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZUZvck9yZGVycyw8YnI+ICAgIHN5bmNSdWxlc0RlYWxzOiBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnN5bmNSdWxlc0RlYWxzLDxicj4gICAgcG9ydGFsSWQ6IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5wb3J0YWxJZCw8YnI+ICAgICBoZWFkZXJzOiB7PGJyPiAgICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuLDxicj4gICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbic8YnI+ICAgIH0sPGJyPiAgICBzeW5jRGF0YTpzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnN5bmNEYXRhLDxicj4gICAgc3ViT2Zmc2V0Ons8YnI+ICAgICAgPGJyPiAgICB9LDxicj4gICAgdHBPZmZzZXQ6ezxicj4gICAgICA8YnI+ICAgIH0sPGJyPiAgICB1cmw6ICdodHRwczovL2FwaS5odWJhcGkuY29tL2NybS1waXBlbGluZXMvdjEvcGlwZWxpbmVzL2RlYWxzJyw8YnI+ICAgIDxicj4gICAgY3VzdG9tZXJMaXN0OltdLDxicj4gICAgIGN1c3RvbWVyTWFwOnt9LDxicj4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LDxicj4gIHNpdGVOYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSw8YnI+ICBzaXRlRG9tYWluOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLDxicj4gIHR5cGU6ICdodWJzcG90Jyw8YnI+ICAgIDxicj59Ozxicj5sZXQgcGlwZWxpbmUgPSBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnBpcGVsaW5lOzxicj5pZihwaXBlbGluZSAhPT11bmRlZmluZWQpIHs8YnI+ICBwaXBlbGluZSA9IHBpcGVsaW5lLmlkOzxicj59PGJyPjxicj5wYXJhbXMucGlwZWxpbmUgPSBwaXBlbGluZTs8YnI+PGJyPmRvbmUocGFyYW1zKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdEb0NvbnRpbnVlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0N1c3RvbWVyc1BhcmFtJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IHBhcmFtcyA9IHtcbiAgICBzeW5jUnVsZXNDb250YWN0czogc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZXNDb250YWN0cyxcbiAgICBzeW5jUnVsZXNPcmRlcnM6IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMuc3luY1J1bGVGb3JPcmRlcnMsXG4gICAgc3luY1J1bGVzRGVhbHM6IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMuc3luY1J1bGVzRGVhbHMsXG4gICAgcG9ydGFsSWQ6IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5wb3J0YWxJZCxcbiAgICAgaGVhZGVyczoge1xuICAgICAgXCdBdXRob3JpemF0aW9uXCc6XCdCZWFyZXIgXCcrc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuLFxuICAgICAgIEFjY2VwdDogXCdhcHBsaWNhdGlvbi9qc29uXCdcbiAgICB9LFxuICAgIHN5bmNEYXRhOnN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMuc3luY0RhdGEsXG4gICAgc3ViT2Zmc2V0OntcbiAgICAgIFxuICAgIH0sXG4gICAgdHBPZmZzZXQ6e1xuICAgICAgXG4gICAgfSxcbiAgICB1cmw6IFwnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9jcm0tcGlwZWxpbmVzL3YxL3BpcGVsaW5lcy9kZWFsc1wnLFxuICAgIFxuICAgIGN1c3RvbWVyTGlzdDpbXSxcbiAgICAgY3VzdG9tZXJNYXA6e30sXG4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LFxuICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLFxuICAgIFxufTtcbmxldCBwaXBlbGluZSA9IHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMucGlwZWxpbmU7XG5pZihwaXBlbGluZSAhPT11bmRlZmluZWQpIHtcbiAgcGlwZWxpbmUgPSBwaXBlbGluZS5pZDtcbn1cblxucGFyYW1zLnBpcGVsaW5lID0gcGlwZWxpbmU7XG5cbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let params = {<br>    syncRulesContacts: steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRulesContacts,<br>    syncRulesOrders: steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRuleForOrders,<br>    syncRulesDeals: steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRulesDeals,<br>    portalId: steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.portalId,<br>     headers: {<br>      'Authorization':'Bearer '+steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken,<br>       Accept: 'application/json'<br>    },<br>    syncData:steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncData,<br>    subOffset:{<br>      <br>    },<br>    tpOffset:{<br>      <br>    },<br>    url: 'https://api.hubapi.com/crm-pipelines/v1/pipelines/deals',<br>    <br>    customerList:[],<br>     customerMap:{},<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>    <br>};<br>let pipeline = steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.pipeline;<br>if(pipeline !==undefined) {<br>  pipeline = pipeline.id;<br>}<br><br>params.pipeline = pipeline;<br><br>done(params);</pre>"
            click step-016 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZVN5bmNFcnJvcjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzE0NDE8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLnByZXBhcmVFcnJvcn08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFtdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdVcGRhdGVTeW5jRXJyb3InLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTQ0MScsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLnByZXBhcmVFcnJvcn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (formula):<br><pre>  formulaId : 31441<br>       args : ${steps.prepareError}</pre>"
            click step-018 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRvQ29udGludWU8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+Ly9kb25lKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNEYXRhLmxhc3RTeW5jICE9PSB1bmRlZmluZWQpOzxicj5kb25lKHRydWUpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1RQUGFyYW0nPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ1N5bmNEb25lJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnRG9Db250aW51ZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJy8vZG9uZShzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jRGF0YS5sYXN0U3luYyAhPT0gdW5kZWZpbmVkKTtcbmRvbmUodHJ1ZSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>//done(steps.CustomersParam.syncData.lastSync !== undefined);<br>done(true);</pre>"
            click step-019 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlRQUGFyYW08L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IGFwaUtleSA9IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTs8YnI+bGV0IHNpdGVOYW1lID0gc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7PGJyPmxldCB0eXBlID0gc3RlcHMuSW5wdXRQYXJhbXMudHlwZTs8YnI+bGV0IHNpdGVEb21haW4gPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluOzxicj5sZXQgcGFzc3dvcmQgPSAnJzs8YnI+bGV0IGRhdGEgPSB7PGJyPiAgdXJsOiAnaHR0cHM6Ly8nICsgc2l0ZU5hbWUgKyAnLicgKyBzaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL2xpc3RfYWxsJyw8YnI+ICBoZWFkZXJzOiB7PGJyPiAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChhcGlLZXkgKyAnOicpPGJyPiAgfSw8YnI+ICBxdWVyeTogezxicj4gICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZSw8YnI+ICAgIGxpbWl0OiAzMCw8YnI+ICAgICdzdGF0dXMnOiAnc3luY2VkJyw8YnI+ICAgICdlbnRpdHlfdHlwZVtpc10nOiAnY3VzdG9tZXInLDxicj4gICAgJ21vZGlmaWVkX2F0W2FmdGVyXSc6IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNEYXRhLmxhc3RTeW5jPGJyPiAgfSw8YnI+ICAgYXBpS2V5OiBhcGlLZXksPGJyPiAgICBzaXRlTmFtZTogc2l0ZU5hbWUsPGJyPiAgICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLDxicj4gICAgdHlwZTogdHlwZSw8YnI+fTs8YnI+aWYgKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnRwT2Zmc2V0Lm5leHRfb2Zmc2V0ICE9PSB1bmRlZmluZWQpIHs8YnI+ICBkYXRhLnF1ZXJ5Lm9mZnNldCA9IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnRwT2Zmc2V0Lm5leHRfb2Zmc2V0Ozxicj59PGJyPmRvbmUoZGF0YSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0VFBEYXRhJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1RQUGFyYW0nLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgYXBpS2V5ID0gc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5O1xubGV0IHNpdGVOYW1lID0gc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7XG5sZXQgdHlwZSA9IHN0ZXBzLklucHV0UGFyYW1zLnR5cGU7XG5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW47XG5sZXQgcGFzc3dvcmQgPSBcJ1wnO1xubGV0IGRhdGEgPSB7XG4gIHVybDogXCdodHRwczovL1wnICsgc2l0ZU5hbWUgKyBcJy5cJyArIHNpdGVEb21haW4gKyBcJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL2xpc3RfYWxsXCcsXG4gIGhlYWRlcnM6IHtcbiAgICBBdXRob3JpemF0aW9uOiBcJ0Jhc2ljIFwnICsgQ0UuYjY0KGFwaUtleSArIFwnOlwnKVxuICB9LFxuICBxdWVyeToge1xuICAgIGludGVncmF0aW9uX25hbWU6IHR5cGUsXG4gICAgbGltaXQ6IDMwLFxuICAgIFwnc3RhdHVzXCc6IFwnc3luY2VkXCcsXG4gICAgXCdlbnRpdHlfdHlwZVtpc11cJzogXCdjdXN0b21lclwnLFxuICAgIFwnbW9kaWZpZWRfYXRbYWZ0ZXJdXCc6IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNEYXRhLmxhc3RTeW5jXG4gIH0sXG4gICBhcGlLZXk6IGFwaUtleSxcbiAgICBzaXRlTmFtZTogc2l0ZU5hbWUsXG4gICAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbixcbiAgICB0eXBlOiB0eXBlLFxufTtcbmlmIChzdGVwcy5DdXN0b21lcnNQYXJhbS50cE9mZnNldC5uZXh0X29mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gIGRhdGEucXVlcnkub2Zmc2V0ID0gc3RlcHMuQ3VzdG9tZXJzUGFyYW0udHBPZmZzZXQubmV4dF9vZmZzZXQ7XG59XG5kb25lKGRhdGEpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let apiKey = steps.InputParams.apiKey;<br>let siteName = steps.InputParams.siteName;<br>let type = steps.InputParams.type;<br>let siteDomain = steps.InputParams.siteDomain;<br>let password = '';<br>let data = {<br>  url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_entity_mappings/list_all',<br>  headers: {<br>    Authorization: 'Basic ' + CE.b64(apiKey + ':')<br>  },<br>  query: {<br>    integration_name: type,<br>    limit: 30,<br>    'status': 'synced',<br>    'entity_type[is]': 'customer',<br>    'modified_at[after]': steps.CustomersParam.syncData.lastSync<br>  },<br>   apiKey: apiKey,<br>    siteName: siteName,<br>    siteDomain: siteDomain,<br>    type: type,<br>};<br>if (steps.CustomersParam.tpOffset.next_offset !== undefined) {<br>  data.query.offset = steps.CustomersParam.tpOffset.next_offset;<br>}<br>done(data);</pre>"
            click step-020 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN5bmNEb25lPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmRvbmUoc3RlcHMuU3luY0xvZy5zeW5jQ291bnQpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogW10sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1N5bmNEb25lJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnZG9uZShzdGVwcy5TeW5jTG9nLnN5bmNDb3VudCk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>done(steps.SyncLog.syncCount);</pre>"
            click step-022 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFRQRGF0YTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzA8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLlRQUGFyYW19PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0VHBEYXRhQVBJUmVzcG9uc2UnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnZ2V0VFBEYXRhJyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzAnLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5UUFBhcmFtfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.TPParam}</pre>"
            click step-023 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFRwRGF0YUFQSVJlc3BvbnNlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmlmKHN0ZXBzLmdldFRQRGF0YS5jYl9zdGF0dXM9PT0nc3VjY2VzcycpIHs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRUUERhdGEuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1VwZGF0ZVRQTGlzdCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnc2V0U3luY0RldGFpbHMnPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICdnZXRUcERhdGFBUElSZXNwb25zZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLmdldFRQRGF0YS5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gIHN0ZXBzLmdldFRQRGF0YS5jYl9lcnJvcl9jb2RlO1xuICBkb25lKGZhbHNlKTtcbn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>if(steps.getTPData.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getTPData.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-024 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZVRQTGlzdDwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT4gbGV0IGxpc3QgPSBzdGVwcy5nZXRUUERhdGEuZGF0YS5saXN0Ozxicj4gZm9yKHZhciBpPTA7aTxzcGFuPjw8L3NwYW4+bGlzdC5sZW5ndGg7aSsrKXs8YnI+ICAgbGV0IGlkID0gbGlzdFtpXS50aGlyZF9wYXJ0eV9lbnRpdHlfbWFwcGluZy5lbnRpdHlfaWQ7PGJyPiAgIGlmKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTWFwW2lkXSA9PT0gdW5kZWZpbmVkKSB7PGJyPiAgICAgc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJNYXBbaWRdID0gaWQ7PGJyPiAgICAgIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTGlzdC5wdXNoKGlkKTs8YnI+ICAgfTxicj4gfTxicj4gPGJyPiBpZiAoc3RlcHMuZ2V0VFBEYXRhLmRhdGEubmV4dF9vZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBzdGVwcy5DdXN0b21lcnNQYXJhbS50cE9mZnNldC5uZXh0X29mZnNldCAhPT0gc3RlcHMuZ2V0VFBEYXRhLmRhdGEubmV4dF9vZmZzZXQpIHs8YnI+ICAgICAgIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnRwT2Zmc2V0Lm5leHRfb2Zmc2V0ID0gc3RlcHMuZ2V0VFBEYXRhLmRhdGEubmV4dF9vZmZzZXQ7PGJyPiAgIDxicj59ZWxzZSB7PGJyPiAgc3RlcHMuQ3VzdG9tZXJzUGFyYW0udHBPZmZzZXQgPSB7fTs8YnI+fTxicj5kb25lKHRydWUpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0hhdmVUUE9mZnNldCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdVcGRhdGVUUExpc3QnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICcgbGV0IGxpc3QgPSBzdGVwcy5nZXRUUERhdGEuZGF0YS5saXN0O1xuIGZvcih2YXIgaT0wO2k8c3Bhbj48PC9zcGFuPmxpc3QubGVuZ3RoO2krKyl7XG4gICBsZXQgaWQgPSBsaXN0W2ldLnRoaXJkX3BhcnR5X2VudGl0eV9tYXBwaW5nLmVudGl0eV9pZDtcbiAgIGlmKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTWFwW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTWFwW2lkXSA9IGlkO1xuICAgICAgc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0LnB1c2goaWQpO1xuICAgfVxuIH1cbiBcbiBpZiAoc3RlcHMuZ2V0VFBEYXRhLmRhdGEubmV4dF9vZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBzdGVwcy5DdXN0b21lcnNQYXJhbS50cE9mZnNldC5uZXh0X29mZnNldCAhPT0gc3RlcHMuZ2V0VFBEYXRhLmRhdGEubmV4dF9vZmZzZXQpIHtcbiAgICAgICBzdGVwcy5DdXN0b21lcnNQYXJhbS50cE9mZnNldC5uZXh0X29mZnNldCA9IHN0ZXBzLmdldFRQRGF0YS5kYXRhLm5leHRfb2Zmc2V0O1xuICAgXG59ZWxzZSB7XG4gIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnRwT2Zmc2V0ID0ge307XG59XG5kb25lKHRydWUpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre> let list = steps.getTPData.data.list;<br> for(var i=0;i<span><</span>list.length;i++){<br>   let id = list[i].third_party_entity_mapping.entity_id;<br>   if(steps.CustomersParam.customerMap[id] === undefined) {<br>     steps.CustomersParam.customerMap[id] = id;<br>      steps.CustomersParam.customerList.push(id);<br>   }<br> }<br> <br> if (steps.getTPData.data.next_offset !== undefined && steps.CustomersParam.tpOffset.next_offset !== steps.getTPData.data.next_offset) {<br>       steps.CustomersParam.tpOffset.next_offset = steps.getTPData.data.next_offset;<br>   <br>}else {<br>  steps.CustomersParam.tpOffset = {};<br>}<br>done(true);</pre>"
            click step-025 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhdmVUUE9mZnNldDwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5kb25lKHN0ZXBzLmdldFRQRGF0YS5kYXRhLm5leHRfb2Zmc2V0IT09dW5kZWZpbmVkKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdUUFBhcmFtJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdnZXRIdWJzcG90UGlwZWxpbmUnPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICdIYXZlVFBPZmZzZXQnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLmdldFRQRGF0YS5kYXRhLm5leHRfb2Zmc2V0IT09dW5kZWZpbmVkKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.getTPData.data.next_offset!==undefined);</pre>"
            click step-026 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEh1YnNwb3RQaXBlbGluZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzI8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLkN1c3RvbWVyc1BhcmFtfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldEh1YnNwb3RQaXBlbGluZUFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldEh1YnNwb3RQaXBlbGluZScsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMyJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuQ3VzdG9tZXJzUGFyYW19Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.CustomersParam}</pre>"
            click step-027 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEh1YnNwb3RQaXBlbGluZUFQSVJlc3BvbnNlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmlmKHN0ZXBzLmdldEh1YnNwb3RQaXBlbGluZS5jYl9zdGF0dXM9PT0nc3VjY2VzcycpIHs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRIdWJzcG90UGlwZWxpbmUuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1N1YlBhcmFtJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldEh1YnNwb3RQaXBlbGluZUFQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMuZ2V0SHVic3BvdFBpcGVsaW5lLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSB7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0SHVic3BvdFBpcGVsaW5lLmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getHubspotPipeline.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getHubspotPipeline.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-028 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN1YlBhcmFtPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBkYXRhID0gezxicj4gIHZhbGlkOmZhbHNlLDxicj4gIDxicj4gICB1cmw6ICdodHRwczovLycrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUrJy4nK3N0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4rJy9hcGkvdjIvc3Vic2NyaXB0aW9ucycsPGJyPiAgICBoZWFkZXJzOns8YnI+ICAgICAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXkgKyAnOicgKTxicj4gICAgICB9LDxicj4gICBxdWVyeTogezxicj4gCSAgIGxpbWl0OiAyMCw8YnI+IAkgICAnc29ydF9ieVtkZXNjXScgOiAndXBkYXRlZF9hdCcsPGJyPiAgfSw8YnI+ICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSw8YnI+ICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsPGJyPiAgc2l0ZURvbWFpbjpzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLDxicj4gIHR5cGU6ICdodWJzcG90JywgPGJyPiAgcGxhbnM6e30sPGJyPiAgY3VzdG9tZXJMaXN0OnN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTGlzdDxicj59Ozxicj48YnI+aWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3ViT2Zmc2V0Lm5leHRfb2Zmc2V0ICE9PSB1bmRlZmluZWQpIHs8YnI+ICBkYXRhLnF1ZXJ5Lm9mZnNldCA9IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN1Yk9mZnNldC5uZXh0X29mZnNldDs8YnI+fTxicj48YnI+aWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY0RhdGEuZmlyc3RTeW5jIT09dW5kZWZpbmVkICYmIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNEYXRhLmxhc3RTeW5jICE9PSB1bmRlZmluZWQpIHs8YnI+ICBkYXRhLnF1ZXJ5WydjcmVhdGVkX2F0W2FmdGVyXSddID0gc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY0RhdGEuZmlyc3RTeW5jOzxicj4gIGRhdGEucXVlcnlbJ3VwZGF0ZWRfYXRbYWZ0ZXJdJ10gPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jRGF0YS5sYXN0U3luYzs8YnI+ICA8YnI+ICBkYXRhLnZhbGlkID0gdHJ1ZTs8YnI+ICA8YnI+ICA8YnI+fWVsc2Ugezxicj4gIGRhdGEuZXJyb3I9J0ludmFsaWQgZGF0YSBTeW5jRGF0YSAoZmlyc3RTeW5jLGxhc3RTeW5jKSc7PGJyPn08YnI+PGJyPjxicj5pZihzdGVwcy5DdXN0b21lcnNQYXJhbS5jdXN0b21lckxpc3QubGVuZ3RoIDxzcGFuPj48L3NwYW4+MCkgezxicj4gIGxldCBjTGlzdD1bXTs8YnI+ICBmb3IodmFyIGk9MDtpPHNwYW4+PDwvc3Bhbj4yMDtpKyspezxicj4gICAgaWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0Lmxlbmd0aCA8c3Bhbj4+PC9zcGFuPjApIHs8YnI+ICAgICAgY0xpc3QucHVzaChlbmNvZGVVUklDb21wb25lbnQoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0LnBvcCgpKSk7PGJyPiAgICB9ZWxzZSB7PGJyPiAgICAgIGJyZWFrOzxicj4gICAgfTxicj4gIH08YnI+ICA8YnI+ICBkYXRhLnF1ZXJ5WydjdXN0b21lcl9pZFtpbl0nXT1KU09OLnN0cmluZ2lmeShjTGlzdCk7PGJyPiAgPGJyPn1lbHNlIHs8YnI+ICBkYXRhLnZhbGlkID0gZmFsc2U7PGJyPn08YnI+aWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY1J1bGVzRGVhbHMuYWxsb3dDcmVhdGVEZWFsSW5UcmlhbD09PSd0cnVlJyAmJiBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNDb250YWN0cy5DdXN0b21lcnNUb1N5bmMhPT0nQ3VzdG9tZXJzX3dpdGhfQWN0aXZlX3N1YnNjcmlwdGlvbnMnKSB7PGJyPiAgIGRhdGEucXVlcnlbJ3N0YXR1c1tpbl0nXSA9ICdbYWN0aXZlLGluX3RyaWFsXSc7PGJyPn1lbHNlIHs8YnI+ICBkYXRhLnF1ZXJ5WydzdGF0dXNbaXNdJ10gPSAnYWN0aXZlJzs8YnI+fTxicj48YnI+bGV0IHJlc3VsdCA9IHN0ZXBzLmdldEh1YnNwb3RQaXBlbGluZS5kYXRhOzxicj5pZihyZXN1bHQgIT09IHVuZGVmaW5lZCkgezxicj4gIHJlc3VsdCA9IHJlc3VsdC5yZXN1bHRzOzxicj59PGJyPmxldCBzdGFnZU9wdGlvbnMgPSB7fTs8YnI+aWYocmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0Lmxlbmd0aDxzcGFuPj48L3NwYW4+MCl7PGJyPmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IHJlc3VsdC5sZW5ndGg7IGkrKykgezxicj4gICAgaWYgKHJlc3VsdFtpXS5waXBlbGluZUlkID09PSAnZGVmYXVsdCcpIHs8YnI+ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8c3Bhbj48PC9zcGFuPiByZXN1bHRbaV0uc3RhZ2VzLmxlbmd0aDsgaisrKSB7PGJyPiAgICAgICAgICAgIHN0YWdlT3B0aW9uc1tyZXN1bHRbaV0uc3RhZ2VzW2pdLnN0YWdlSWRdID0gcmVzdWx0W2ldLnN0YWdlc1tqXS5sYWJlbDs8YnI+ICAgICAgICB9PGJyPiAgICB9PGJyPn08YnI+fTxicj5kYXRhLnN0YWdlT3B0aW9ucyA9IHN0YWdlT3B0aW9uczs8YnI+PGJyPjxicj5kb25lKGRhdGEpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0lzVmFsaWQnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnU3ViUGFyYW0nLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgZGF0YSA9IHtcbiAgdmFsaWQ6ZmFsc2UsXG4gIFxuICAgdXJsOiBcJ2h0dHBzOi8vXCcrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUrXCcuXCcrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbitcJy9hcGkvdjIvc3Vic2NyaXB0aW9uc1wnLFxuICAgIGhlYWRlcnM6e1xuICAgICAgICBBdXRob3JpemF0aW9uOiBcJ0Jhc2ljIFwnICsgQ0UuYjY0KHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSArIFwnOlwnIClcbiAgICAgIH0sXG4gICBxdWVyeToge1xuIFx0ICAgbGltaXQ6IDIwLFxuIFx0ICAgXCdzb3J0X2J5W2Rlc2NdXCcgOiBcJ3VwZGF0ZWRfYXRcJyxcbiAgfSxcbiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksXG4gIHNpdGVOYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSxcbiAgc2l0ZURvbWFpbjpzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLFxuICB0eXBlOiBcJ2h1YnNwb3RcJywgXG4gIHBsYW5zOnt9LFxuICBjdXN0b21lckxpc3Q6c3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0XG59O1xuXG5pZihzdGVwcy5DdXN0b21lcnNQYXJhbS5zdWJPZmZzZXQubmV4dF9vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICBkYXRhLnF1ZXJ5Lm9mZnNldCA9IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN1Yk9mZnNldC5uZXh0X29mZnNldDtcbn1cblxuaWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY0RhdGEuZmlyc3RTeW5jIT09dW5kZWZpbmVkICYmIHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNEYXRhLmxhc3RTeW5jICE9PSB1bmRlZmluZWQpIHtcbiAgZGF0YS5xdWVyeVtcJ2NyZWF0ZWRfYXRbYWZ0ZXJdXCddID0gc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY0RhdGEuZmlyc3RTeW5jO1xuICBkYXRhLnF1ZXJ5W1wndXBkYXRlZF9hdFthZnRlcl1cJ10gPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jRGF0YS5sYXN0U3luYztcbiAgXG4gIGRhdGEudmFsaWQgPSB0cnVlO1xuICBcbiAgXG59ZWxzZSB7XG4gIGRhdGEuZXJyb3I9XCdJbnZhbGlkIGRhdGEgU3luY0RhdGEgKGZpcnN0U3luYyxsYXN0U3luYylcJztcbn1cblxuXG5pZihzdGVwcy5DdXN0b21lcnNQYXJhbS5jdXN0b21lckxpc3QubGVuZ3RoIDxzcGFuPj48L3NwYW4+MCkge1xuICBsZXQgY0xpc3Q9W107XG4gIGZvcih2YXIgaT0wO2k8c3Bhbj48PC9zcGFuPjIwO2krKyl7XG4gICAgaWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0Lmxlbmd0aCA8c3Bhbj4+PC9zcGFuPjApIHtcbiAgICAgIGNMaXN0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTGlzdC5wb3AoKSkpO1xuICAgIH1lbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBcbiAgZGF0YS5xdWVyeVtcJ2N1c3RvbWVyX2lkW2luXVwnXT1KU09OLnN0cmluZ2lmeShjTGlzdCk7XG4gIFxufWVsc2Uge1xuICBkYXRhLnZhbGlkID0gZmFsc2U7XG59XG5pZihzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5hbGxvd0NyZWF0ZURlYWxJblRyaWFsPT09XCd0cnVlXCcgJiYgc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY1J1bGVzQ29udGFjdHMuQ3VzdG9tZXJzVG9TeW5jIT09XCdDdXN0b21lcnNfd2l0aF9BY3RpdmVfc3Vic2NyaXB0aW9uc1wnKSB7XG4gICBkYXRhLnF1ZXJ5W1wnc3RhdHVzW2luXVwnXSA9IFwnW2FjdGl2ZSxpbl90cmlhbF1cJztcbn1lbHNlIHtcbiAgZGF0YS5xdWVyeVtcJ3N0YXR1c1tpc11cJ10gPSBcJ2FjdGl2ZVwnO1xufVxuXG5sZXQgcmVzdWx0ID0gc3RlcHMuZ2V0SHVic3BvdFBpcGVsaW5lLmRhdGE7XG5pZihyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICByZXN1bHQgPSByZXN1bHQucmVzdWx0cztcbn1cbmxldCBzdGFnZU9wdGlvbnMgPSB7fTtcbmlmKHJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHJlc3VsdC5sZW5ndGg8c3Bhbj4+PC9zcGFuPjApe1xuZm9yICh2YXIgaSA9IDA7IGkgPHNwYW4+PDwvc3Bhbj4gcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlc3VsdFtpXS5waXBlbGluZUlkID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPHNwYW4+PDwvc3Bhbj4gcmVzdWx0W2ldLnN0YWdlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc3RhZ2VPcHRpb25zW3Jlc3VsdFtpXS5zdGFnZXNbal0uc3RhZ2VJZF0gPSByZXN1bHRbaV0uc3RhZ2VzW2pdLmxhYmVsO1xuICAgICAgICB9XG4gICAgfVxufVxufVxuZGF0YS5zdGFnZU9wdGlvbnMgPSBzdGFnZU9wdGlvbnM7XG5cblxuZG9uZShkYXRhKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let data = {<br>  valid:false,<br>  <br>   url: 'https://'+steps.InputParams.siteName+'.'+steps.InputParams.siteDomain+'/api/v2/subscriptions',<br>    headers:{<br>        Authorization: 'Basic ' + CE.b64(steps.InputParams.apiKey + ':' )<br>      },<br>   query: {<br> 	   limit: 20,<br> 	   'sort_by[desc]' : 'updated_at',<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain:steps.InputParams.siteDomain,<br>  type: 'hubspot', <br>  plans:{},<br>  customerList:steps.CustomersParam.customerList<br>};<br><br>if(steps.CustomersParam.subOffset.next_offset !== undefined) {<br>  data.query.offset = steps.CustomersParam.subOffset.next_offset;<br>}<br><br>if(steps.CustomersParam.syncData.firstSync!==undefined && steps.CustomersParam.syncData.lastSync !== undefined) {<br>  data.query['created_at[after]'] = steps.CustomersParam.syncData.firstSync;<br>  data.query['updated_at[after]'] = steps.CustomersParam.syncData.lastSync;<br>  <br>  data.valid = true;<br>  <br>  <br>}else {<br>  data.error='Invalid data SyncData (firstSync,lastSync)';<br>}<br><br><br>if(steps.CustomersParam.customerList.length <span>></span>0) {<br>  let cList=[];<br>  for(var i=0;i<span><</span>20;i++){<br>    if(steps.CustomersParam.customerList.length <span>></span>0) {<br>      cList.push(encodeURIComponent(steps.CustomersParam.customerList.pop()));<br>    }else {<br>      break;<br>    }<br>  }<br>  <br>  data.query['customer_id[in]']=JSON.stringify(cList);<br>  <br>}else {<br>  data.valid = false;<br>}<br>if(steps.CustomersParam.syncRulesDeals.allowCreateDealInTrial==='true' && steps.CustomersParam.syncRulesContacts.CustomersToSync!=='Customers_with_Active_subscriptions') {<br>   data.query['status[in]'] = '[active,in_trial]';<br>}else {<br>  data.query['status[is]'] = 'active';<br>}<br><br>let result = steps.getHubspotPipeline.data;<br>if(result !== undefined) {<br>  result = result.results;<br>}<br>let stageOptions = {};<br>if(result !== undefined && result.length<span>></span>0){<br>for (var i = 0; i <span><</span> result.length; i++) {<br>    if (result[i].pipelineId === 'default') {<br>        for (var j = 0; j <span><</span> result[i].stages.length; j++) {<br>            stageOptions[result[i].stages[j].stageId] = result[i].stages[j].label;<br>        }<br>    }<br>}<br>}<br>data.stageOptions = stageOptions;<br><br><br>done(data);</pre>"
            click step-029 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklzVmFsaWQ8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+Ly9kb25lKHN0ZXBzLlN1YlBhcmFtLnZhbGlkKTs8YnI+PGJyPmRvbmUodHJ1ZSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0QWxsU3Vic2NyaXB0aW9ucyc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnU3luY0RvbmUnPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICdJc1ZhbGlkJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnLy9kb25lKHN0ZXBzLlN1YlBhcmFtLnZhbGlkKTtcblxuZG9uZSh0cnVlKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>//done(steps.SubParam.valid);<br><br>done(true);</pre>"
            click step-030 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEFsbFN1YnNjcmlwdGlvbnM8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMwPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5TdWJQYXJhbX08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRBbGxTdWJzY3JpcHRpb25zQVBJUmVzcG9uc2UnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnZ2V0QWxsU3Vic2NyaXB0aW9ucycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuU3ViUGFyYW19Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.SubParam}</pre>"
            click step-031 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEFsbFN1YnNjcmlwdGlvbnNBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5nZXRBbGxTdWJzY3JpcHRpb25zLmNiX3N0YXR1cz09PSdzdWNjZXNzJykgezxicj4gIGRvbmUodHJ1ZSk7PGJyPn1lbHNlIHs8YnI+ICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gIHN0ZXBzLmdldEFsbFN1YnNjcmlwdGlvbnMuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0xvb3BPdmVyU3Vic2NyaXB0aW9ucyc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnc2V0U3luY0RldGFpbHMnPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICdnZXRBbGxTdWJzY3JpcHRpb25zQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXRBbGxTdWJzY3JpcHRpb25zLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSB7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0QWxsU3Vic2NyaXB0aW9ucy5jYl9lcnJvcl9jb2RlO1xuICBkb25lKGZhbHNlKTtcbn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>if(steps.getAllSubscriptions.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getAllSubscriptions.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-032 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkxvb3BPdmVyU3Vic2NyaXB0aW9uczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkxvb3A6PC9iPjxicj48YnI+PHByZT4gIGxpc3QgOiAke3N0ZXBzLmdldEFsbFN1YnNjcmlwdGlvbnMuZGF0YS5saXN0fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0RlYWxJbmZvJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdIYXNOb1N1Yk9mZnNldCc8YnI+ICBdLDxicj4gICduYW1lJzogJ0xvb3BPdmVyU3Vic2NyaXB0aW9ucycsPGJyPiAgJ3R5cGUnOiAnbG9vcCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnbGlzdCc6ICcke3N0ZXBzLmdldEFsbFN1YnNjcmlwdGlvbnMuZGF0YS5saXN0fSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Loop:<br><pre>  list : ${steps.getAllSubscriptions.data.list}</pre>"
            click step-033 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRlYWxJbmZvPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBkYXRhID0gezxicj4gIHVybDogezxicj4gICAgY3JlYXRlRGVhbCA6J2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vZGVhbHMvdjEvZGVhbCc8YnI+ICB9LDxicj4gIHBpcGVsaW5lOidkZWZhdWx0Jzxicj59Ozxicj48YnI+bGV0IHRyYWlsU3RhZ2UgPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5zdGFnZV9zdWJJblRyaWFsOzxicj5sZXQgYWN0aXZlU3RhZ2UgPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5zdGFnZV9zdWJDcmVhdGVkOzxicj48YnI+aWYodHJhaWxTdGFnZSA9PT0gdW5kZWZpbmVkICkgezxicj4gIHRyYWlsU3RhZ2UgPSAnJzs8YnI+fTxicj5pZihhY3RpdmVTdGFnZSA9PT0gdW5kZWZpbmVkICkgezxicj4gIGFjdGl2ZVN0YWdlID0gJyc7PGJyPn08YnI+PGJyPmlmKHN0ZXBzLlN1YlBhcmFtLnN0YWdlT3B0aW9uc1t0cmFpbFN0YWdlXSAhPT0gdW5kZWZpbmVkKXs8YnI+ICBkYXRhLnRyYWlsU3RhZ2UgPSB0cmFpbFN0YWdlOzxicj59PGJyPjxicj5pZihzdGVwcy5TdWJQYXJhbS5zdGFnZU9wdGlvbnNbYWN0aXZlU3RhZ2VdICE9PSB1bmRlZmluZWQpezxicj4gIGRhdGEuYWN0aXZlU3RhZ2UgPSBhY3RpdmVTdGFnZTs8YnI+fTxicj48YnI+aWYoc3RlcHMuQ3VzdG9tZXJzUGFyYW0ucGlwZWxpbmUgIT09IHVuZGVmaW5lZCkgezxicj4gIGRhdGEucGlwZWxpbmUgPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5waXBlbGluZTs8YnI+fTxicj48YnI+ZG9uZShkYXRhKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdDQkluZm8nPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnRGVhbEluZm8nLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgZGF0YSA9IHtcbiAgdXJsOiB7XG4gICAgY3JlYXRlRGVhbCA6XCdodHRwczovL2FwaS5odWJhcGkuY29tL2RlYWxzL3YxL2RlYWxcJ1xuICB9LFxuICBwaXBlbGluZTpcJ2RlZmF1bHRcJ1xufTtcblxubGV0IHRyYWlsU3RhZ2UgPSBzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5zdGFnZV9zdWJJblRyaWFsO1xubGV0IGFjdGl2ZVN0YWdlID0gc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc3luY1J1bGVzRGVhbHMuc3RhZ2Vfc3ViQ3JlYXRlZDtcblxuaWYodHJhaWxTdGFnZSA9PT0gdW5kZWZpbmVkICkge1xuICB0cmFpbFN0YWdlID0gXCdcJztcbn1cbmlmKGFjdGl2ZVN0YWdlID09PSB1bmRlZmluZWQgKSB7XG4gIGFjdGl2ZVN0YWdlID0gXCdcJztcbn1cblxuaWYoc3RlcHMuU3ViUGFyYW0uc3RhZ2VPcHRpb25zW3RyYWlsU3RhZ2VdICE9PSB1bmRlZmluZWQpe1xuICBkYXRhLnRyYWlsU3RhZ2UgPSB0cmFpbFN0YWdlO1xufVxuXG5pZihzdGVwcy5TdWJQYXJhbS5zdGFnZU9wdGlvbnNbYWN0aXZlU3RhZ2VdICE9PSB1bmRlZmluZWQpe1xuICBkYXRhLmFjdGl2ZVN0YWdlID0gYWN0aXZlU3RhZ2U7XG59XG5cbmlmKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnBpcGVsaW5lICE9PSB1bmRlZmluZWQpIHtcbiAgZGF0YS5waXBlbGluZSA9IHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnBpcGVsaW5lO1xufVxuXG5kb25lKGRhdGEpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let data = {<br>  url: {<br>    createDeal :'https://api.hubapi.com/deals/v1/deal'<br>  },<br>  pipeline:'default'<br>};<br><br>let trailStage = steps.CustomersParam.syncRulesDeals.stage_subInTrial;<br>let activeStage = steps.CustomersParam.syncRulesDeals.stage_subCreated;<br><br>if(trailStage === undefined ) {<br>  trailStage = '';<br>}<br>if(activeStage === undefined ) {<br>  activeStage = '';<br>}<br><br>if(steps.SubParam.stageOptions[trailStage] !== undefined){<br>  data.trailStage = trailStage;<br>}<br><br>if(steps.SubParam.stageOptions[activeStage] !== undefined){<br>  data.activeStage = activeStage;<br>}<br><br>if(steps.CustomersParam.pipeline !== undefined) {<br>  data.pipeline = steps.CustomersParam.pipeline;<br>}<br><br>done(data);</pre>"
            click step-034 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc05vU3ViT2Zmc2V0PC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmRvbmUoc3RlcHMuQ3VzdG9tZXJzUGFyYW0uY3VzdG9tZXJMaXN0Lmxlbmd0aCA8c3Bhbj48PC9zcGFuPj0gMCk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnU3luY0RvbmUnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ1N1YlBhcmFtJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzTm9TdWJPZmZzZXQnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLmN1c3RvbWVyTGlzdC5sZW5ndGggPHNwYW4+PDwvc3Bhbj49IDApOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done(steps.CustomersParam.customerList.length <span><</span>= 0);</pre>"
            click step-035 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkNCSW5mbzwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT4gbGV0ICBjdXN0b21lciA9ICBzdGVwcy5Mb29wT3ZlclN1YnNjcmlwdGlvbnMuZW50cnkuY3VzdG9tZXI7PGJyPiAgbGV0IHN1YnNjcmlwdGlvbiA9ICBzdGVwcy5Mb29wT3ZlclN1YnNjcmlwdGlvbnMuZW50cnkuc3Vic2NyaXB0aW9uOzxicj4gIDxicj5pZihjdXN0b21lci5maXJzdF9uYW1lKXs8YnI+ICBzdGVwcy5EZWFsSW5mby5uYW1lID0gY3VzdG9tZXIuZmlyc3RfbmFtZTs8YnI+fTxicj5pZihjdXN0b21lci5sYXN0X25hbWUpezxicj4gIHN0ZXBzLkRlYWxJbmZvLm5hbWUgKz0gJyAnICtjdXN0b21lci5sYXN0X25hbWU7PGJyPn08YnI+aWYoIHN0ZXBzLkRlYWxJbmZvLm5hbWU9PT0nJykgezxicj4gIHN0ZXBzLkRlYWxJbmZvLm5hbWUgPSBjdXN0b21lci5pZDs8YnI+fTxicj48YnI+bGV0IGRhdGEgPSB7PGJyPiAgY3VzdG9tZXIgOiBjdXN0b21lciw8YnI+ICBzdWJzY3JpcHRpb24gOiBzdWJzY3JpcHRpb24sPGJyPiAgdXJsOiAnaHR0cHM6Ly8nICsgc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUgKyAnLicgKyBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL3JldHJpZXZlJyw8YnI+ICBoZWFkZXJzOiB7PGJyPiAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXkgKyAnOicgKyAnJyk8YnI+ICB9LDxicj4gIHF1ZXJ5OiB7PGJyPiAgICAgICdpbnRlZ3JhdGlvbl9uYW1lJzogc3RlcHMuSW5wdXRQYXJhbXMudHlwZSw8YnI+ICAgICAgJ2VudGl0eV9pZCc6IGVuY29kZVVSSUNvbXBvbmVudChjdXN0b21lci5pZCksPGJyPiAgICAgICdlbnRpdHlfdHlwZSc6ICdjdXN0b21lcic8YnI+ICB9LDxicj4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LDxicj4gIHNpdGVOYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSw8YnI+ICBzaXRlRG9tYWluOnN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLCA8YnI+fTs8YnI+PGJyPmlmKHN0ZXBzLlN1YlBhcmFtLnBsYW5zW3N1YnNjcmlwdGlvbi5wbGFuX2lkXSA9PT0gdW5kZWZpbmVkKXs8YnI+ICBkYXRhLnBsYW51cmwgPSAnaHR0cHM6Ly8nK3N0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lKycuJytzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluKycvYXBpL3YyL3BsYW5zLycgK2VuY29kZVVSSUNvbXBvbmVudChzdWJzY3JpcHRpb24ucGxhbl9pZCk7PGJyPn08YnI+PGJyPmRvbmUoZGF0YSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0Q3VzdG9tZXJFbnRpdHlNYXBwaW5nJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0NCSW5mbycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJyBsZXQgIGN1c3RvbWVyID0gIHN0ZXBzLkxvb3BPdmVyU3Vic2NyaXB0aW9ucy5lbnRyeS5jdXN0b21lcjtcbiAgbGV0IHN1YnNjcmlwdGlvbiA9ICBzdGVwcy5Mb29wT3ZlclN1YnNjcmlwdGlvbnMuZW50cnkuc3Vic2NyaXB0aW9uO1xuICBcbmlmKGN1c3RvbWVyLmZpcnN0X25hbWUpe1xuICBzdGVwcy5EZWFsSW5mby5uYW1lID0gY3VzdG9tZXIuZmlyc3RfbmFtZTtcbn1cbmlmKGN1c3RvbWVyLmxhc3RfbmFtZSl7XG4gIHN0ZXBzLkRlYWxJbmZvLm5hbWUgKz0gXCcgXCcgK2N1c3RvbWVyLmxhc3RfbmFtZTtcbn1cbmlmKCBzdGVwcy5EZWFsSW5mby5uYW1lPT09XCdcJykge1xuICBzdGVwcy5EZWFsSW5mby5uYW1lID0gY3VzdG9tZXIuaWQ7XG59XG5cbmxldCBkYXRhID0ge1xuICBjdXN0b21lciA6IGN1c3RvbWVyLFxuICBzdWJzY3JpcHRpb24gOiBzdWJzY3JpcHRpb24sXG4gIHVybDogXCdodHRwczovL1wnICsgc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUgKyBcJy5cJyArIHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4gKyBcJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL3JldHJpZXZlXCcsXG4gIGhlYWRlcnM6IHtcbiAgICBBdXRob3JpemF0aW9uOiBcJ0Jhc2ljIFwnICsgQ0UuYjY0KHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSArIFwnOlwnICsgXCdcJylcbiAgfSxcbiAgcXVlcnk6IHtcbiAgICAgICdpbnRlZ3JhdGlvbl9uYW1lJzogc3RlcHMuSW5wdXRQYXJhbXMudHlwZSxcbiAgICAgICdlbnRpdHlfaWQnOiBlbmNvZGVVUklDb21wb25lbnQoY3VzdG9tZXIuaWQpLFxuICAgICAgJ2VudGl0eV90eXBlJzogJ2N1c3RvbWVyJ1xuICB9LFxuICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSxcbiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLFxuICBzaXRlRG9tYWluOnN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLCBcbn07XG5cbmlmKHN0ZXBzLlN1YlBhcmFtLnBsYW5zW3N1YnNjcmlwdGlvbi5wbGFuX2lkXSA9PT0gdW5kZWZpbmVkKXtcbiAgZGF0YS5wbGFudXJsID0gXCdodHRwczovL1wnK3N0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lK1wnLlwnK3N0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4rXCcvYXBpL3YyL3BsYW5zL1wnICtlbmNvZGVVUklDb21wb25lbnQoc3Vic2NyaXB0aW9uLnBsYW5faWQpO1xufVxuXG5kb25lKGRhdGEpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre> let  customer =  steps.LoopOverSubscriptions.entry.customer;<br>  let subscription =  steps.LoopOverSubscriptions.entry.subscription;<br>  <br>if(customer.first_name){<br>  steps.DealInfo.name = customer.first_name;<br>}<br>if(customer.last_name){<br>  steps.DealInfo.name += ' ' +customer.last_name;<br>}<br>if( steps.DealInfo.name==='') {<br>  steps.DealInfo.name = customer.id;<br>}<br><br>let data = {<br>  customer : customer,<br>  subscription : subscription,<br>  url: 'https://' + steps.InputParams.siteName + '.' + steps.InputParams.siteDomain + '/api/v2/third_party_entity_mappings/retrieve',<br>  headers: {<br>    Authorization: 'Basic ' + CE.b64(steps.InputParams.apiKey + ':' + '')<br>  },<br>  query: {<br>      'integration_name': steps.InputParams.type,<br>      'entity_id': encodeURIComponent(customer.id),<br>      'entity_type': 'customer'<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain:steps.InputParams.siteDomain,<br>  type: 'hubspot', <br>};<br><br>if(steps.SubParam.plans[subscription.plan_id] === undefined){<br>  data.planurl = 'https://'+steps.InputParams.siteName+'.'+steps.InputParams.siteDomain+'/api/v2/plans/' +encodeURIComponent(subscription.plan_id);<br>}<br><br>done(data);</pre>"
            click step-036 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEN1c3RvbWVyRW50aXR5TWFwcGluZzwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzA8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLkNCSW5mb308L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRDdXN0b21lckVudGl0eU1hcHBpbmdBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRDdXN0b21lckVudGl0eU1hcHBpbmcnLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMCcsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLkNCSW5mb30nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.CBInfo}</pre>"
            click step-037 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEN1c3RvbWVyRW50aXR5TWFwcGluZ0FQSVJlc3BvbnNlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmlmKHN0ZXBzLmdldEN1c3RvbWVyRW50aXR5TWFwcGluZy5jYl9zdGF0dXM9PT0nc3VjY2VzcycpIHs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRDdXN0b21lckVudGl0eU1hcHBpbmcuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0hhc0FDb250YWN0RXhpc3QnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ3NldFN5bmNEZXRhaWxzJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ2V0Q3VzdG9tZXJFbnRpdHlNYXBwaW5nQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXRDdXN0b21lckVudGl0eU1hcHBpbmcuY2Jfc3RhdHVzPT09XCdzdWNjZXNzXCcpIHtcbiAgZG9uZSh0cnVlKTtcbn1lbHNlIHtcbiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRDdXN0b21lckVudGl0eU1hcHBpbmcuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.getCustomerEntityMapping.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getCustomerEntityMapping.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-038 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0FDb250YWN0RXhpc3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHRwID1zdGVwcy5nZXRDdXN0b21lckVudGl0eU1hcHBpbmcuZGF0YS50aGlyZF9wYXJ0eV9lbnRpdHlfbWFwcGluZzs8YnI+aWYodHAudGhpcmRfcGFydHlfZW50aXR5X2lkICE9PSB1bmRlZmluZWQpIHs8YnI+ICBzdGVwcy5EZWFsSW5mby5jb250YWN0SWQgPSB0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQ7PGJyPiAgc3RlcHMuRGVhbEluZm8uZ2V0Q29udGFjdElkID0gJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vY29udGFjdHMvdjEvY29udGFjdC92aWQvJyt0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQrJy9wcm9maWxlJzs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgZG9uZShmYWxzZSk7PGJyPn08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdzZXRDdXJyZW50SHVic3BvdENvbnRhY3QnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ1VwZGF0ZVN1YnNjcmlwdGlvbkVycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzQUNvbnRhY3RFeGlzdCcsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCB0cCA9c3RlcHMuZ2V0Q3VzdG9tZXJFbnRpdHlNYXBwaW5nLmRhdGEudGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmc7XG5pZih0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQgIT09IHVuZGVmaW5lZCkge1xuICBzdGVwcy5EZWFsSW5mby5jb250YWN0SWQgPSB0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQ7XG4gIHN0ZXBzLkRlYWxJbmZvLmdldENvbnRhY3RJZCA9IFwnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9jb250YWN0cy92MS9jb250YWN0L3ZpZC9cJyt0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQrXCcvcHJvZmlsZVwnO1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICBkb25lKGZhbHNlKTtcbn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let tp =steps.getCustomerEntityMapping.data.third_party_entity_mapping;<br>if(tp.third_party_entity_id !== undefined) {<br>  steps.DealInfo.contactId = tp.third_party_entity_id;<br>  steps.DealInfo.getContactId = 'https://api.hubapi.com/contacts/v1/contact/vid/'+tp.third_party_entity_id+'/profile';<br>  done(true);<br>}else {<br>  done(false);<br>}</pre>"
            click step-039 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldEN1cnJlbnRIdWJzcG90Q29udGFjdDwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5sZXQgcGFyYW1zID0gezxicj4gIHVybDogc3RlcHMuRGVhbEluZm8uZ2V0Q29udGFjdElkLDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0Q3VycmVudEh1YnNwb3Rjb250YWN0Jzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3NldEN1cnJlbnRIdWJzcG90Q29udGFjdCcsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBwYXJhbXMgPSB7XG4gIHVybDogc3RlcHMuRGVhbEluZm8uZ2V0Q29udGFjdElkLFxuICBoZWFkZXJzOiB7XG4gICAgXCdBdXRob3JpemF0aW9uXCc6XCdCZWFyZXIgXCcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlblxuICB9LFxuICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSxcbiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLFxuICBzaXRlRG9tYWluOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLFxuICB0eXBlOiBcJ2h1YnNwb3RcJyxcbn07XG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let params = {<br>  url: steps.DealInfo.getContactId,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-040 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZVN1YnNjcmlwdGlvbkVycm9yPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBzdWJzY3JpcHRpb24gPSBzdGVwcy5DQkluZm8uc3Vic2NyaXB0aW9uOzxicj48YnI+bGV0IGFwaUtleT1zdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXk7PGJyPmxldCBzaXRlTmFtZT1zdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZTs8YnI+bGV0IHNpdGVEb21haW49c3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbjs8YnI+bGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlOzxicj5sZXQgcGFzc3dvcmQgPSAnJzs8YnI+c3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ID0gc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ICsxOzxicj48YnI+IGxldCBjaGFyZ2ViZWVfZGF0YV91cmwgPSAnaHR0cHM6Ly8nK3NpdGVOYW1lKycuJytzaXRlRG9tYWluKycvYWRtaW4tY29uc29sZS9zdWJzY3JpcHRpb25zLycrc3Vic2NyaXB0aW9uLmlkOzxicj4gbGV0IGNiX2xpbmsgPSAnPHNwYW4+PDwvc3Bhbj5hIGhyZWY9JycrY2hhcmdlYmVlX2RhdGFfdXJsKycnIHRhcmdldD0nYmxhbmsnPHNwYW4+Pjwvc3Bhbj4nK3N1YnNjcmlwdGlvbi5pZCsnPHNwYW4+PDwvc3Bhbj4vYTxzcGFuPj48L3NwYW4+IEh1YlNwb3QgY29udGFjdCBub3QgZm91bmRcbic7PGJyPiBsZXQgZGF0YSA9IHs8YnI+ICAgdXJsOiAnaHR0cHM6Ly8nICsgc2l0ZU5hbWUgKyAnLicgKyBzaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL3VwZGF0ZV9lbnRpdHknLDxicj4gIGhlYWRlcnM6ezxicj4gICAgICAgIEF1dGhvcml6YXRpb246ICdCYXNpYyAnICsgQ0UuYjY0KGFwaUtleSArICc6JyArIHBhc3N3b3JkKTxicj4gICAgICB9LDxicj4gICAgICBxdWVyeTp7PGJyPiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZSw8YnI+ICAgICAgICBlbnRpdHlfaWQ6IHN1YnNjcmlwdGlvbi5pZCw8YnI+ICAgICAgICBlbnRpdHlfdHlwZTogJ3N1YnNjcmlwdGlvbicsPGJyPiAgICAgICAgc3RhdHVzOiAndXBkYXRlX2ZhaWxlZCcsPGJyPiAgICAgICAgZXJyb3JfbWVzc2FnZTogY2JfbGluazxicj4gICAgICB9LDxicj4gICAgICBhcGlLZXkgOiBhcGlLZXksPGJyPiAgICAgIHNpdGVOYW1lIDogc2l0ZU5hbWUsPGJyPiAgICAgIHNpdGVEb21haW4gOiBzaXRlRG9tYWluLDxicj4gICAgICB0eXBlIDogdHlwZTxicj4gIDxicj59Ozxicj5kb25lKGRhdGEpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3VwZGF0ZVRoaXJkUGFydHlFcnJvcic8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdVcGRhdGVTdWJzY3JpcHRpb25FcnJvcicsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBzdWJzY3JpcHRpb24gPSBzdGVwcy5DQkluZm8uc3Vic2NyaXB0aW9uO1xuXG5sZXQgYXBpS2V5PXN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTtcbmxldCBzaXRlTmFtZT1zdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZTtcbmxldCBzaXRlRG9tYWluPXN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW47XG5sZXQgdHlwZSA9IHN0ZXBzLklucHV0UGFyYW1zLnR5cGU7XG5sZXQgcGFzc3dvcmQgPSBcJ1wnO1xuc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ID0gc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ICsxO1xuXG4gbGV0IGNoYXJnZWJlZV9kYXRhX3VybCA9IFwnaHR0cHM6Ly9cJytzaXRlTmFtZStcJy5cJytzaXRlRG9tYWluK1wnL2FkbWluLWNvbnNvbGUvc3Vic2NyaXB0aW9ucy9cJytzdWJzY3JpcHRpb24uaWQ7XG4gbGV0IGNiX2xpbmsgPSBcJzxzcGFuPjw8L3NwYW4+YSBocmVmPSdcJytjaGFyZ2ViZWVfZGF0YV91cmwrXCcnIHRhcmdldD0nYmxhbmsnPHNwYW4+Pjwvc3Bhbj5cJytzdWJzY3JpcHRpb24uaWQrXCc8c3Bhbj48PC9zcGFuPi9hPHNwYW4+Pjwvc3Bhbj4gSHViU3BvdCBjb250YWN0IG5vdCBmb3VuZFxcblwnO1xuIGxldCBkYXRhID0ge1xuICAgdXJsOiBcJ2h0dHBzOi8vXCcgKyBzaXRlTmFtZSArIFwnLlwnICsgc2l0ZURvbWFpbiArIFwnL2FwaS92Mi90aGlyZF9wYXJ0eV9lbnRpdHlfbWFwcGluZ3MvdXBkYXRlX2VudGl0eVwnLFxuICBoZWFkZXJzOntcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OntcbiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZSxcbiAgICAgICAgZW50aXR5X2lkOiBzdWJzY3JpcHRpb24uaWQsXG4gICAgICAgIGVudGl0eV90eXBlOiBcJ3N1YnNjcmlwdGlvblwnLFxuICAgICAgICBzdGF0dXM6IFwndXBkYXRlX2ZhaWxlZFwnLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiBjYl9saW5rXG4gICAgICB9LFxuICAgICAgYXBpS2V5IDogYXBpS2V5LFxuICAgICAgc2l0ZU5hbWUgOiBzaXRlTmFtZSxcbiAgICAgIHNpdGVEb21haW4gOiBzaXRlRG9tYWluLFxuICAgICAgdHlwZSA6IHR5cGVcbiAgXG59O1xuZG9uZShkYXRhKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let subscription = steps.CBInfo.subscription;<br><br>let apiKey=steps.InputParams.apiKey;<br>let siteName=steps.InputParams.siteName;<br>let siteDomain=steps.InputParams.siteDomain;<br>let type = steps.InputParams.type;<br>let password = '';<br>steps.SyncLog.syncCount.eCount = steps.SyncLog.syncCount.eCount +1;<br><br> let chargebee_data_url = 'https://'+siteName+'.'+siteDomain+'/admin-console/subscriptions/'+subscription.id;<br> let cb_link = '<span><</span>a href=''+chargebee_data_url+'' target='blank'<span>></span>'+subscription.id+'<span><</span>/a<span>></span> HubSpot contact not found\n';<br> let data = {<br>   url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_entity_mappings/update_entity',<br>  headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query:{<br>        integration_name: type,<br>        entity_id: subscription.id,<br>        entity_type: 'subscription',<br>        status: 'update_failed',<br>        error_message: cb_link<br>      },<br>      apiKey : apiKey,<br>      siteName : siteName,<br>      siteDomain : siteDomain,<br>      type : type<br>  <br>};<br>done(data);</pre>"
            click step-041 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEN1cnJlbnRIdWJzcG90Y29udGFjdDwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzI8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLnNldEN1cnJlbnRIdWJzcG90Q29udGFjdH08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdIYXNBQ29udGFjdEV4aXN0SW5IdWJTcG90Jzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldEN1cnJlbnRIdWJzcG90Y29udGFjdCcsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMyJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0Q3VycmVudEh1YnNwb3RDb250YWN0fSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.setCurrentHubspotContact}</pre>"
            click step-042 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZVRoaXJkUGFydHlFcnJvcjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzE8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLlVwZGF0ZVN1YnNjcmlwdGlvbkVycm9yfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldFVwZGF0ZVRoaXJkUGFydHlBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICd1cGRhdGVUaGlyZFBhcnR5RXJyb3InLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMScsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLlVwZGF0ZVN1YnNjcmlwdGlvbkVycm9yfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31331<br>       args : ${steps.UpdateSubscriptionError}</pre>"
            click step-043 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0FDb250YWN0RXhpc3RJbkh1YlNwb3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IGNSZXNwb25zZSA9IHN0ZXBzLmdldEN1cnJlbnRIdWJzcG90Y29udGFjdC5kYXRhOzxicj5pZihzdGVwcy5nZXRDdXJyZW50SHVic3BvdGNvbnRhY3QuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgc3RlcHMuRGVhbEluZm8uY29udGFjdCA9Y1Jlc3BvbnNlOyA8YnI+ICBzdGVwcy5EZWFsSW5mby51cmwuZ2V0RGVhbEJ5Q29udGFjdCA9ICAnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9jcm0tYXNzb2NpYXRpb25zL3YxL2Fzc29jaWF0aW9ucy8nICsgY1Jlc3BvbnNlLnZpZCArICcvSFVCU1BPVF9ERUZJTkVELzQnOzxicj4gIGlmKGNSZXNwb25zZVsnYXNzb2NpYXRlZC1jb21wYW55J10gIT09IHVuZGVmaW5lZCAmJiBjUmVzcG9uc2VbJ2Fzc29jaWF0ZWQtY29tcGFueSddWydjb21wYW55LWlkJ10gIT09IHVuZGVmaW5lZCkgezxicj4gICAgc3RlcHMuRGVhbEluZm8udXJsLmdldERlYWxCeUNvbXBhbnkgPSAgJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vY3JtLWFzc29jaWF0aW9ucy92MS9hc3NvY2lhdGlvbnMvJyArIGNSZXNwb25zZSBbJ2Fzc29jaWF0ZWQtY29tcGFueSddWydjb21wYW55LWlkJ10rICcvSFVCU1BPVF9ERUZJTkVELzQnOyA8YnI+ICB9PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0dXBTdWJzY3JpcHRpb25FbnRpdHknPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ1VwZGF0ZVN1YnNjcmlwdGlvbkVycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzQUNvbnRhY3RFeGlzdEluSHViU3BvdCcsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBjUmVzcG9uc2UgPSBzdGVwcy5nZXRDdXJyZW50SHVic3BvdGNvbnRhY3QuZGF0YTtcbmlmKHN0ZXBzLmdldEN1cnJlbnRIdWJzcG90Y29udGFjdC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBzdGVwcy5EZWFsSW5mby5jb250YWN0ID1jUmVzcG9uc2U7IFxuICBzdGVwcy5EZWFsSW5mby51cmwuZ2V0RGVhbEJ5Q29udGFjdCA9ICBcJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vY3JtLWFzc29jaWF0aW9ucy92MS9hc3NvY2lhdGlvbnMvXCcgKyBjUmVzcG9uc2UudmlkICsgXCcvSFVCU1BPVF9ERUZJTkVELzRcJztcbiAgaWYoY1Jlc3BvbnNlW1wnYXNzb2NpYXRlZC1jb21wYW55XCddICE9PSB1bmRlZmluZWQgJiYgY1Jlc3BvbnNlW1wnYXNzb2NpYXRlZC1jb21wYW55XCddW1wnY29tcGFueS1pZFwnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3RlcHMuRGVhbEluZm8udXJsLmdldERlYWxCeUNvbXBhbnkgPSAgXCdodHRwczovL2FwaS5odWJhcGkuY29tL2NybS1hc3NvY2lhdGlvbnMvdjEvYXNzb2NpYXRpb25zL1wnICsgY1Jlc3BvbnNlIFtcJ2Fzc29jaWF0ZWQtY29tcGFueVwnXVtcJ2NvbXBhbnktaWRcJ10rIFwnL0hVQlNQT1RfREVGSU5FRC80XCc7IFxuICB9XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let cResponse = steps.getCurrentHubspotcontact.data;<br>if(steps.getCurrentHubspotcontact.cb_status==='success') {<br>  steps.DealInfo.contact =cResponse; <br>  steps.DealInfo.url.getDealByContact =  'https://api.hubapi.com/crm-associations/v1/associations/' + cResponse.vid + '/HUBSPOT_DEFINED/4';<br>  if(cResponse['associated-company'] !== undefined && cResponse['associated-company']['company-id'] !== undefined) {<br>    steps.DealInfo.url.getDealByCompany =  'https://api.hubapi.com/crm-associations/v1/associations/' + cResponse ['associated-company']['company-id']+ '/HUBSPOT_DEFINED/4'; <br>  }<br>  done(true);<br>}else {<br>  done(false);<br>}</pre>"
            click step-044 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFVwZGF0ZVRoaXJkUGFydHlBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy51cGRhdGVUaGlyZFBhcnR5RXJyb3IuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMudXBkYXRlVGhpcmRQYXJ0eUVycm9yLmNiX2Vycm9yX2NvZGU7PGJyPiAgZG9uZShmYWxzZSk7PGJyPn08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdMb29wT3ZlclN1YnNjcmlwdGlvbnMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ3NldFN5bmNEZXRhaWxzJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ2V0VXBkYXRlVGhpcmRQYXJ0eUFQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMudXBkYXRlVGhpcmRQYXJ0eUVycm9yLmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSB7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMudXBkYXRlVGhpcmRQYXJ0eUVycm9yLmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.updateThirdPartyError.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.updateThirdPartyError.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-045 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldHVwU3Vic2NyaXB0aW9uRW50aXR5PC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBkYXRhID0gc3RlcHMuQ0JJbmZvPGJyPmxldCBzdWJzY3JpcHRpb24gPSAgc3RlcHMuTG9vcE92ZXJTdWJzY3JpcHRpb25zLmVudHJ5LnN1YnNjcmlwdGlvbjs8YnI+ZGF0YS5xdWVyeSA9IHs8YnI+ICAgICAgJ2ludGVncmF0aW9uX25hbWUnOiBzdGVwcy5JbnB1dFBhcmFtcy5pbnB1dC50eXBlLDxicj4gICAgICAnZW50aXR5X2lkJzogZW5jb2RlVVJJQ29tcG9uZW50KHN1YnNjcmlwdGlvbi5pZCksPGJyPiAgICAgICdlbnRpdHlfdHlwZSc6ICdzdWJzY3JpcHRpb24nPGJyPiAgICB9PGJyPiAgICA8YnI+ZG9uZShkYXRhKSAgICA8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRTdWJzY3JpcHRpb25FbnRpdHknPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnc2V0dXBTdWJzY3JpcHRpb25FbnRpdHknLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgZGF0YSA9IHN0ZXBzLkNCSW5mb1xubGV0IHN1YnNjcmlwdGlvbiA9ICBzdGVwcy5Mb29wT3ZlclN1YnNjcmlwdGlvbnMuZW50cnkuc3Vic2NyaXB0aW9uO1xuZGF0YS5xdWVyeSA9IHtcbiAgICAgICdpbnRlZ3JhdGlvbl9uYW1lJzogc3RlcHMuSW5wdXRQYXJhbXMuaW5wdXQudHlwZSxcbiAgICAgICdlbnRpdHlfaWQnOiBlbmNvZGVVUklDb21wb25lbnQoc3Vic2NyaXB0aW9uLmlkKSxcbiAgICAgICdlbnRpdHlfdHlwZSc6ICdzdWJzY3JpcHRpb24nXG4gICAgfVxuICAgIFxuZG9uZShkYXRhKSAgICAnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let data = steps.CBInfo<br>let subscription =  steps.LoopOverSubscriptions.entry.subscription;<br>data.query = {<br>      'integration_name': steps.InputParams.input.type,<br>      'entity_id': encodeURIComponent(subscription.id),<br>      'entity_type': 'subscription'<br>    }<br>    <br>done(data)    </pre>"
            click step-046 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN1YnNjcmlwdGlvbkVudGl0eTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzEzMzA8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLnNldHVwU3Vic2NyaXB0aW9uRW50aXR5fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldFN1YnNjcmlwdGlvbkVudGl0eUFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldFN1YnNjcmlwdGlvbkVudGl0eScsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0dXBTdWJzY3JpcHRpb25FbnRpdHl9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.setupSubscriptionEntity}</pre>"
            click step-047 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFN1YnNjcmlwdGlvbkVudGl0eUFQSVJlc3BvbnNlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmlmKHN0ZXBzLmdldFN1YnNjcmlwdGlvbkVudGl0eS5jYl9zdGF0dXM9PT0nc3VjY2VzcycpIHs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRTdWJzY3JpcHRpb25FbnRpdHkuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0hhc0FEZWFsSW5FbnRpdHlNYXBwaW5nJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldFN1YnNjcmlwdGlvbkVudGl0eUFQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMuZ2V0U3Vic2NyaXB0aW9uRW50aXR5LmNiX3N0YXR1cz09PVwnc3VjY2Vzc1wnKSB7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0U3Vic2NyaXB0aW9uRW50aXR5LmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getSubscriptionEntity.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getSubscriptionEntity.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-048 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0FEZWFsSW5FbnRpdHlNYXBwaW5nPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCB0cCA9c3RlcHMuZ2V0U3Vic2NyaXB0aW9uRW50aXR5LmRhdGEudGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmc7PGJyPmlmKHRwLnRoaXJkX3BhcnR5X2VudGl0eV9pZCAhPT11bmRlZmluZWQpezxicj4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHRwLnRoaXJkX3BhcnR5X2VudGl0eV9pZDs8YnI+ICBzdGVwcy5EZWFsSW5mby5vbGRTdWJzY3JpcHRpb25TdGF0dXMgPSB0cC5vbGRfcmVzb3VyY2Uuc3RhdHVzOzxicj4gIHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlEID0gJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vZGVhbHMvdjEvZGVhbC8nK3RwLnRoaXJkX3BhcnR5X2VudGl0eV9pZDs8YnI+ICBzdGVwcy5EZWFsSW5mby5kZWFsT3AgPSAndXBkYXRlJzs8YnI+ICBkb25lKHRydWUpOzxicj59ZWxzZSB7PGJyPiAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gJ2NyZWF0ZSc7PGJyPiAgZG9uZShmYWxzZSk7PGJyPn08YnI+PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0dXBIdWJzcG90RGVhbCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnRG9Mb29rdXBmb3JEZWFsSW5IdWJTcG90Jzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzQURlYWxJbkVudGl0eU1hcHBpbmcnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgdHAgPXN0ZXBzLmdldFN1YnNjcmlwdGlvbkVudGl0eS5kYXRhLnRoaXJkX3BhcnR5X2VudGl0eV9tYXBwaW5nO1xuaWYodHAudGhpcmRfcGFydHlfZW50aXR5X2lkICE9PXVuZGVmaW5lZCl7XG4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHRwLnRoaXJkX3BhcnR5X2VudGl0eV9pZDtcbiAgc3RlcHMuRGVhbEluZm8ub2xkU3Vic2NyaXB0aW9uU3RhdHVzID0gdHAub2xkX3Jlc291cmNlLnN0YXR1cztcbiAgc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgPSBcJ2h0dHBzOi8vYXBpLmh1YmFwaS5jb20vZGVhbHMvdjEvZGVhbC9cJyt0cC50aGlyZF9wYXJ0eV9lbnRpdHlfaWQ7XG4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxPcCA9IFwndXBkYXRlXCc7XG4gIGRvbmUodHJ1ZSk7XG59ZWxzZSB7XG4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxPcCA9IFwnY3JlYXRlXCc7XG4gIGRvbmUoZmFsc2UpO1xufVxuJzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let tp =steps.getSubscriptionEntity.data.third_party_entity_mapping;<br>if(tp.third_party_entity_id !==undefined){<br>  steps.DealInfo.dealId = tp.third_party_entity_id;<br>  steps.DealInfo.oldSubscriptionStatus = tp.old_resource.status;<br>  steps.DealInfo.getDealByID = 'https://api.hubapi.com/deals/v1/deal/'+tp.third_party_entity_id;<br>  steps.DealInfo.dealOp = 'update';<br>  done(true);<br>}else {<br>  steps.DealInfo.dealOp = 'create';<br>  done(false);<br>}<br></pre>"
            click step-049 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldHVwSHVic3BvdERlYWw8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6IHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlELDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0RGVhbEJ5SWQnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnc2V0dXBIdWJzcG90RGVhbCcsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBwYXJhbXMgPSB7XG4gIHVybDogc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQsXG4gIGhlYWRlcnM6IHtcbiAgICBcJ0F1dGhvcml6YXRpb25cJzpcJ0JlYXJlciBcJysgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuXG4gIH0sXG4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LFxuICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLFxufTtcbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let params = {<br>  url: steps.DealInfo.getDealByID,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-050 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRvTG9va3VwZm9yRGVhbEluSHViU3BvdDwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5kb25lKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNSdWxlc0RlYWxzLlN1YkNyZWF0ZWRPcHRpb24gPT09J1VwZGF0ZUV4aXN0aW5nRGVhbCcpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3NldHVwRGVhbHNCeUNvbnRhY3QnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ3NldEludm9pY2VGb3JEZWFsJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnRG9Mb29rdXBmb3JEZWFsSW5IdWJTcG90Jyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnZG9uZShzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5TdWJDcmVhdGVkT3B0aW9uID09PVwnVXBkYXRlRXhpc3RpbmdEZWFsXCcpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done(steps.CustomersParam.syncRulesDeals.SubCreatedOption ==='UpdateExistingDeal');</pre>"
            click step-051 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxCeUlkPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMjxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0dXBIdWJzcG90RGVhbH08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXREZWFsQnlJZEFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldERlYWxCeUlkJyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzInLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5zZXR1cEh1YnNwb3REZWFsfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.setupHubspotDeal}</pre>"
            click step-052 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldHVwRGVhbHNCeUNvbnRhY3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6IHN0ZXBzLkRlYWxJbmZvLnVybC5nZXREZWFsQnlDb250YWN0LDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0RGVhbHNCeUNvbnRhY3QnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnc2V0dXBEZWFsc0J5Q29udGFjdCcsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBwYXJhbXMgPSB7XG4gIHVybDogc3RlcHMuRGVhbEluZm8udXJsLmdldERlYWxCeUNvbnRhY3QsXG4gIGhlYWRlcnM6IHtcbiAgICBcJ0F1dGhvcml6YXRpb25cJzpcJ0JlYXJlciBcJysgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuXG4gIH0sXG4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LFxuICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLFxufTtcbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let params = {<br>  url: steps.DealInfo.url.getDealByContact,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-053 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldEludm9pY2VGb3JEZWFsPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPiBsZXQgc3Vic2NyaXB0aW9uID0gIHN0ZXBzLkxvb3BPdmVyU3Vic2NyaXB0aW9ucy5lbnRyeS5zdWJzY3JpcHRpb247PGJyPjxicj5sZXQgcGFyYW1zID0gezxicj4gIHVybDogJ2h0dHBzOi8vJytzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSsnLicrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbisnL2FwaS92Mi9pbnZvaWNlcycsPGJyPiAgaGVhZGVyczogezxicj4gICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBDRS5iNjQoc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5ICsgJzonICsgJycpPGJyPiAgfSw8YnI+ICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSw8YnI+ICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsPGJyPiAgc2l0ZURvbWFpbjogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbiw8YnI+ICB0eXBlOiAnaHVic3BvdCcsPGJyPiAgcXVlcnk6ezxicj4gICAgICBzdWJzY3JpcHRpb25faWQgOiBlbmNvZGVVUklDb21wb25lbnQoc3Vic2NyaXB0aW9uLmlkKSw8YnI+ICAgICAgc29ydF9ieV9kZXNjIDogJ2RhdGUnLDxicj4gICAgICBsaW1pdCA6MTxicj4gIH08YnI+fTs8YnI+ZG9uZShwYXJhbXMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldEludm9pY2VGb3JEZWFsJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3NldEludm9pY2VGb3JEZWFsJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnIGxldCBzdWJzY3JpcHRpb24gPSAgc3RlcHMuTG9vcE92ZXJTdWJzY3JpcHRpb25zLmVudHJ5LnN1YnNjcmlwdGlvbjtcblxubGV0IHBhcmFtcyA9IHtcbiAgdXJsOiBcJ2h0dHBzOi8vXCcrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUrXCcuXCcrc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbitcJy9hcGkvdjIvaW52b2ljZXNcJyxcbiAgaGVhZGVyczoge1xuICAgIEF1dGhvcml6YXRpb246IFwnQmFzaWMgXCcgKyBDRS5iNjQoc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5ICsgXCc6XCcgKyBcJ1wnKVxuICB9LFxuICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSxcbiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLFxuICBzaXRlRG9tYWluOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluLFxuICB0eXBlOiBcJ2h1YnNwb3RcJyxcbiAgcXVlcnk6e1xuICAgICAgc3Vic2NyaXB0aW9uX2lkIDogZW5jb2RlVVJJQ29tcG9uZW50KHN1YnNjcmlwdGlvbi5pZCksXG4gICAgICBzb3J0X2J5X2Rlc2MgOiBcJ2RhdGVcJyxcbiAgICAgIGxpbWl0IDoxXG4gIH1cbn07XG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre> let subscription =  steps.LoopOverSubscriptions.entry.subscription;<br><br>let params = {<br>  url: 'https://'+steps.InputParams.siteName+'.'+steps.InputParams.siteDomain+'/api/v2/invoices',<br>  headers: {<br>    Authorization: 'Basic ' + CE.b64(steps.InputParams.apiKey + ':' + '')<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>  query:{<br>      subscription_id : encodeURIComponent(subscription.id),<br>      sort_by_desc : 'date',<br>      limit :1<br>  }<br>};<br>done(params);</pre>"
            click step-054 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxCeUlkQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMuZ2V0RGVhbEJ5SWQuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0RGVhbEJ5SWQuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1VwZGF0ZURlYWxJbmZvRnJvbUVNJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldERlYWxCeUlkQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXREZWFsQnlJZC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gIHN0ZXBzLmdldERlYWxCeUlkLmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getDealById.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getDealById.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-055 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxzQnlDb250YWN0PC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMjxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0dXBEZWFsc0J5Q29udGFjdH08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXREZWFsc0J5Q29udGFjdEFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldERlYWxzQnlDb250YWN0Jyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzInLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5zZXR1cERlYWxzQnlDb250YWN0fSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.setupDealsByContact}</pre>"
            click step-056 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEludm9pY2VGb3JEZWFsPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMDxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0SW52b2ljZUZvckRlYWx9PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0SW52b2ljZUZvckRlYWxBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRJbnZvaWNlRm9yRGVhbCcsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0SW52b2ljZUZvckRlYWx9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.setInvoiceForDeal}</pre>"
            click step-057 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZURlYWxJbmZvRnJvbUVNPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPiBpZihzdGVwcy5nZXREZWFsQnlJZC5kYXRhLmNvZGUgPT0gMjAwKSB7PGJyPiAgIHN0ZXBzLkRlYWxJbmZvLmRlYWwgPSBzdGVwcy5nZXREZWFsQnlJZC5kYXRhOzxicj4gICBzdGVwcy5EZWFsSW5mby5kZWFsT3AgPSAndXBkYXRlJzs8YnI+IH1lbHNlIHs8YnI+ICBzdGVwcy5EZWFsSW5mby5kZWFsSWQgPSB1bmRlZmluZWQ7PGJyPiAgc3RlcHMuRGVhbEluZm8ub2xkU3Vic2NyaXB0aW9uU3RhdHVzID0gdW5kZWZpbmVkOzxicj4gIHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlEID0gdW5kZWZpbmVkOzxicj4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxPcCA9ICdjcmVhdGUnOzxicj4gfTxicj4gZG9uZSh0cnVlKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdIYXNBVmFsaWREZWFsSW5IdWJTcG90Jzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1VwZGF0ZURlYWxJbmZvRnJvbUVNJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnIGlmKHN0ZXBzLmdldERlYWxCeUlkLmRhdGEuY29kZSA9PSAyMDApIHtcbiAgIHN0ZXBzLkRlYWxJbmZvLmRlYWwgPSBzdGVwcy5nZXREZWFsQnlJZC5kYXRhO1xuICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gXCd1cGRhdGVcJztcbiB9ZWxzZSB7XG4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHVuZGVmaW5lZDtcbiAgc3RlcHMuRGVhbEluZm8ub2xkU3Vic2NyaXB0aW9uU3RhdHVzID0gdW5kZWZpbmVkO1xuICBzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCA9IHVuZGVmaW5lZDtcbiAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gXCdjcmVhdGVcJztcbiB9XG4gZG9uZSh0cnVlKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre> if(steps.getDealById.data.code == 200) {<br>   steps.DealInfo.deal = steps.getDealById.data;<br>   steps.DealInfo.dealOp = 'update';<br> }else {<br>  steps.DealInfo.dealId = undefined;<br>  steps.DealInfo.oldSubscriptionStatus = undefined;<br>  steps.DealInfo.getDealByID = undefined;<br>  steps.DealInfo.dealOp = 'create';<br> }<br> done(true);</pre>"
            click step-058 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxzQnlDb250YWN0QVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSBzdGVwcy5nZXREZWFsc0J5Q29udGFjdC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnRG9Mb29rdXBmb3JEZWFsQnlDb21wYW55Jzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldERlYWxzQnlDb250YWN0QVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXREZWFsc0J5Q29udGFjdC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.getDealsByContact.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.getDealsByContact.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-059 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldEludm9pY2VGb3JEZWFsQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMuZ2V0SW52b2ljZUZvckRlYWwuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSBzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnRG9HZXRQbGFuJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldEludm9pY2VGb3JEZWFsQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMuZ2V0SW52b2ljZUZvckRlYWwuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.getInvoiceForDeal.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.getInvoiceForDeal.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-060 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0FWYWxpZERlYWxJbkh1YlNwb3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5EZWFsSW5mby5kZWFsT3AgPT09ICd1cGRhdGUnKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdHZXRJbnZvaWNlRm9yRGVhbCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnRG9Mb29rdXBmb3JEZWFsSW5IdWJTcG90Jzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnSGFzQVZhbGlkRGVhbEluSHViU3BvdCcsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2RvbmUoc3RlcHMuRGVhbEluZm8uZGVhbE9wID09PSBcJ3VwZGF0ZVwnKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.DealInfo.dealOp === 'update');</pre>"
            click step-061 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRvTG9va3VwZm9yRGVhbEJ5Q29tcGFueTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT4gaWYoc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuZGF0YS5yZXN1bHRzLmxlbmd0aDxzcGFuPj48L3NwYW4+MCkgezxicj4gICAgc3RlcHMuRGVhbEluZm8uZGVhbElkID0gc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuZGF0YS5yZXN1bHRzWzBdOzxicj4gICAgc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgPSAnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9kZWFscy92MS9kZWFsLycrc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuZGF0YS5yZXN1bHRzWzBdOzxicj4gICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gJ3VwZGF0ZSc7PGJyPiB9ZWxzZSB7PGJyPiAgIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHVuZGVmaW5lZDs8YnI+ICAgc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgPSB1bmRlZmluZWQ7PGJyPiAgIHN0ZXBzLkRlYWxJbmZvLm9sZFN1YnNjcmlwdGlvblN0YXR1cyA9IHVuZGVmaW5lZDs8YnI+ICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gJ2NyZWF0ZSc7PGJyPiB9PGJyPiBpZihzdGVwcy5EZWFsSW5mby5kZWFsT3AgPT09ICdjcmVhdGUnICYmIHN0ZXBzLkRlYWxJbmZvLnVybC5nZXREZWFsQnlDb21wYW55ICE9PXVuZGVmaW5lZCkgezxicj4gICBkb25lKHRydWUpOzxicj4gfWVsc2Ugezxicj4gICBkb25lKGZhbHNlKTs8YnI+IH08YnI+PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0dXBEZWFsc0J5Q29tcGFueSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnSGFzQURlYWxGb3JMb29rdXAnPGJyPiAgXSw8YnI+ICAnbmFtZSc6ICdEb0xvb2t1cGZvckRlYWxCeUNvbXBhbnknLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICcgaWYoc3RlcHMuZ2V0RGVhbHNCeUNvbnRhY3QuZGF0YS5yZXN1bHRzLmxlbmd0aDxzcGFuPj48L3NwYW4+MCkge1xuICAgIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHN0ZXBzLmdldERlYWxzQnlDb250YWN0LmRhdGEucmVzdWx0c1swXTtcbiAgICBzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCA9IFwnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9kZWFscy92MS9kZWFsL1wnK3N0ZXBzLmdldERlYWxzQnlDb250YWN0LmRhdGEucmVzdWx0c1swXTtcbiAgICBzdGVwcy5EZWFsSW5mby5kZWFsT3AgPSBcJ3VwZGF0ZVwnO1xuIH1lbHNlIHtcbiAgIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHVuZGVmaW5lZDtcbiAgIHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlEID0gdW5kZWZpbmVkO1xuICAgc3RlcHMuRGVhbEluZm8ub2xkU3Vic2NyaXB0aW9uU3RhdHVzID0gdW5kZWZpbmVkO1xuICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gXCdjcmVhdGVcJztcbiB9XG4gaWYoc3RlcHMuRGVhbEluZm8uZGVhbE9wID09PSBcJ2NyZWF0ZVwnICYmIHN0ZXBzLkRlYWxJbmZvLnVybC5nZXREZWFsQnlDb21wYW55ICE9PXVuZGVmaW5lZCkge1xuICAgZG9uZSh0cnVlKTtcbiB9ZWxzZSB7XG4gICBkb25lKGZhbHNlKTtcbiB9XG4nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre> if(steps.getDealsByContact.data.results.length<span>></span>0) {<br>    steps.DealInfo.dealId = steps.getDealsByContact.data.results[0];<br>    steps.DealInfo.getDealByID = 'https://api.hubapi.com/deals/v1/deal/'+steps.getDealsByContact.data.results[0];<br>    steps.DealInfo.dealOp = 'update';<br> }else {<br>   steps.DealInfo.dealId = undefined;<br>   steps.DealInfo.getDealByID = undefined;<br>   steps.DealInfo.oldSubscriptionStatus = undefined;<br>   steps.DealInfo.dealOp = 'create';<br> }<br> if(steps.DealInfo.dealOp === 'create' && steps.DealInfo.url.getDealByCompany !==undefined) {<br>   done(true);<br> }else {<br>   done(false);<br> }<br></pre>"
            click step-062 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRvR2V0UGxhbjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5kb25lKHN0ZXBzLkNCSW5mby5wbGFudXJsIT09IHVuZGVmaW5lZCk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0UGxhbkJ5SWQnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ1VwZGF0ZUNCSW5mbyc8YnI+ICBdLDxicj4gICduYW1lJzogJ0RvR2V0UGxhbicsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2RvbmUoc3RlcHMuQ0JJbmZvLnBsYW51cmwhPT0gdW5kZWZpbmVkKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.CBInfo.planurl!== undefined);</pre>"
            click step-063 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkdldEludm9pY2VGb3JEZWFsPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGh0dHBSZXF1ZXN0KTo8L2I+PGJyPjxicj48cHJlPiAgICAgIHVybCA6ICR7c3RlcHMuQ0JJbmZvLnVybC5pbnZvaWNlfTxicj4gICAgcXVlcnkgOiAke3N0ZXBzLkNCSW5mby5xdWVyeS5pbnZvaWNlfTxicj4gIGhlYWRlcnMgOiAke3N0ZXBzLlN1YlBhcmFtLmF1dGh9PGJyPiAgIG1ldGhvZCA6IEdFVDwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0RvR2V0UGxhbic8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdHZXRJbnZvaWNlRm9yRGVhbCcsPGJyPiAgJ3R5cGUnOiAnaHR0cFJlcXVlc3QnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ3VybCc6ICcke3N0ZXBzLkNCSW5mby51cmwuaW52b2ljZX0nLDxicj4gICAgJ3F1ZXJ5JzogJyR7c3RlcHMuQ0JJbmZvLnF1ZXJ5Lmludm9pY2V9Jyw8YnI+ICAgICdoZWFkZXJzJzogJyR7c3RlcHMuU3ViUGFyYW0uYXV0aH0nLDxicj4gICAgJ21ldGhvZCc6ICdHRVQnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (httpRequest):<br><pre>      url : ${steps.CBInfo.url.invoice}<br>    query : ${steps.CBInfo.query.invoice}<br>  headers : ${steps.SubParam.auth}<br>   method : GET</pre>"
            click step-064 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldHVwRGVhbHNCeUNvbXBhbnk8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6IHN0ZXBzLkRlYWxJbmZvLnVybC5nZXREZWFsQnlDb21wYW55LDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0RGVhbHNCeUNvbXBhbnknPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnc2V0dXBEZWFsc0J5Q29tcGFueScsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBwYXJhbXMgPSB7XG4gIHVybDogc3RlcHMuRGVhbEluZm8udXJsLmdldERlYWxCeUNvbXBhbnksXG4gIGhlYWRlcnM6IHtcbiAgICBcJ0F1dGhvcml6YXRpb25cJzpcJ0JlYXJlciBcJysgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuXG4gIH0sXG4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LFxuICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLFxufTtcbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let params = {<br>  url: steps.DealInfo.url.getDealByCompany,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-065 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkhhc0FEZWFsRm9yTG9va3VwPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmRvbmUoc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgIT09IHVuZGVmaW5lZCk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0TG9va1VwRGVhbCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnTm9PcGVuRGVhbE9wdGlvbic8YnI+ICBdLDxicj4gICduYW1lJzogJ0hhc0FEZWFsRm9yTG9va3VwJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnZG9uZShzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCAhPT0gdW5kZWZpbmVkKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.DealInfo.getDealByID !== undefined);</pre>"
            click step-066 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldFBsYW5CeUlkPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPjxicj5sZXQgYXBpS2V5ID0gc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5Ozxicj5sZXQgc2l0ZU5hbWUgPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZTs8YnI+bGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlOzxicj5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW47PGJyPmxldCBwYXNzd29yZCA9ICcnOzxicj48YnI+bGV0IHBhcmFtcyA9IHs8YnI+ICAgIGFwaUtleTogYXBpS2V5LDxicj4gICAgc2l0ZU5hbWU6IHNpdGVOYW1lLDxicj4gICAgc2l0ZURvbWFpbjpzaXRlRG9tYWluLDxicj4gICAgdHlwZTogdHlwZSw8YnI+ICAgICAgdXJsOiBzdGVwcy5DQkluZm8ucGxhbnVybCw8YnI+ICAgICAgaGVhZGVyczp7PGJyPiAgICAgICAgQXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBDRS5iNjQoYXBpS2V5ICsgJzonICsgcGFzc3dvcmQpPGJyPiAgICAgIH0sPGJyPiAgICAgIHF1ZXJ5Ons8YnI+ICAgICAgICBpbnRlZ3JhdGlvbl9uYW1lOiAnaHVic3BvdCc8YnI+ICAgICAgfTxicj4gIDxicj59Ozxicj48YnI+ZG9uZShwYXJhbXMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldFBsYW5CeUlkJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3NldFBsYW5CeUlkJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnXG5sZXQgYXBpS2V5ID0gc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5O1xubGV0IHNpdGVOYW1lID0gc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7XG5sZXQgdHlwZSA9IHN0ZXBzLklucHV0UGFyYW1zLnR5cGU7XG5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW47XG5sZXQgcGFzc3dvcmQgPSBcJ1wnO1xuXG5sZXQgcGFyYW1zID0ge1xuICAgIGFwaUtleTogYXBpS2V5LFxuICAgIHNpdGVOYW1lOiBzaXRlTmFtZSxcbiAgICBzaXRlRG9tYWluOnNpdGVEb21haW4sXG4gICAgdHlwZTogdHlwZSxcbiAgICAgIHVybDogc3RlcHMuQ0JJbmZvLnBsYW51cmwsXG4gICAgICBoZWFkZXJzOntcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCdCYXNpYyBcJyArIENFLmI2NChhcGlLZXkgKyBcJzpcJyArIHBhc3N3b3JkKVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OntcbiAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogXCdodWJzcG90XCdcbiAgICAgIH1cbiAgXG59O1xuXG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre><br>let apiKey = steps.InputParams.apiKey;<br>let siteName = steps.InputParams.siteName;<br>let type = steps.InputParams.type;<br>let siteDomain = steps.InputParams.siteDomain;<br>let password = '';<br><br>let params = {<br>    apiKey: apiKey,<br>    siteName: siteName,<br>    siteDomain:siteDomain,<br>    type: type,<br>      url: steps.CBInfo.planurl,<br>      headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query:{<br>        integration_name: 'hubspot'<br>      }<br>  <br>};<br><br>done(params);</pre>"
            click step-067 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZUNCSW5mbzwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5kYXRhLmxpc3QgIT09IHVuZGVmaW5lZCAmJiBzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5kYXRhLmxpc3QubGVuZ3RoPHNwYW4+Pjwvc3Bhbj4wKXs8YnI+ICA8YnI+PGJyPnN0ZXBzLkNCSW5mby5pbnZvaWNlID0ge3RvdGFsIDogc3RlcHMuZ2V0SW52b2ljZUZvckRlYWwuZGF0YS5saXN0WzBdLmludm9pY2UudG90YWwscGFpZDpzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5kYXRhLmxpc3RbMF0uaW52b2ljZS5hbW91bnRfcGFpZH07PGJyPn08YnI+PGJyPmlmKHN0ZXBzLmdldFBsYW5CeUlkLmRhdGEgIT09IHVuZGVmaW5lZCAmJiBzdGVwcy5nZXRQbGFuQnlJZC5kYXRhLnBsYW4gIT09IHVuZGVmaW5lZCApIHs8YnI+ICBzdGVwcy5TdWJQYXJhbS5wbGFuc1tzdGVwcy5nZXRQbGFuQnlJZC5kYXRhLnBsYW4uaWRdID0gc3RlcHMuZ2V0UGxhbkJ5SWQuZGF0YS5wbGFuOzxicj59PGJyPmRvbmUoezxicj4gIENCSW5mbyA6c3RlcHMuQ0JJbmZvLDxicj4gIERlYWxJbmZvIDogc3RlcHMuRGVhbEluZm88YnI+fSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnSXNEZWFsQ3JlYXRlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ1VwZGF0ZUNCSW5mbycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLmdldEludm9pY2VGb3JEZWFsLmRhdGEubGlzdCAhPT0gdW5kZWZpbmVkICYmIHN0ZXBzLmdldEludm9pY2VGb3JEZWFsLmRhdGEubGlzdC5sZW5ndGg8c3Bhbj4+PC9zcGFuPjApe1xuICBcblxuc3RlcHMuQ0JJbmZvLmludm9pY2UgPSB7dG90YWwgOiBzdGVwcy5nZXRJbnZvaWNlRm9yRGVhbC5kYXRhLmxpc3RbMF0uaW52b2ljZS50b3RhbCxwYWlkOnN0ZXBzLmdldEludm9pY2VGb3JEZWFsLmRhdGEubGlzdFswXS5pbnZvaWNlLmFtb3VudF9wYWlkfTtcbn1cblxuaWYoc3RlcHMuZ2V0UGxhbkJ5SWQuZGF0YSAhPT0gdW5kZWZpbmVkICYmIHN0ZXBzLmdldFBsYW5CeUlkLmRhdGEucGxhbiAhPT0gdW5kZWZpbmVkICkge1xuICBzdGVwcy5TdWJQYXJhbS5wbGFuc1tzdGVwcy5nZXRQbGFuQnlJZC5kYXRhLnBsYW4uaWRdID0gc3RlcHMuZ2V0UGxhbkJ5SWQuZGF0YS5wbGFuO1xufVxuZG9uZSh7XG4gIENCSW5mbyA6c3RlcHMuQ0JJbmZvLFxuICBEZWFsSW5mbyA6IHN0ZXBzLkRlYWxJbmZvXG59KTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>if(steps.getInvoiceForDeal.data.list !== undefined && steps.getInvoiceForDeal.data.list.length<span>></span>0){<br>  <br><br>steps.CBInfo.invoice = {total : steps.getInvoiceForDeal.data.list[0].invoice.total,paid:steps.getInvoiceForDeal.data.list[0].invoice.amount_paid};<br>}<br><br>if(steps.getPlanById.data !== undefined && steps.getPlanById.data.plan !== undefined ) {<br>  steps.SubParam.plans[steps.getPlanById.data.plan.id] = steps.getPlanById.data.plan;<br>}<br>done({<br>  CBInfo :steps.CBInfo,<br>  DealInfo : steps.DealInfo<br>});</pre>"
            click step-068 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxzQnlDb21wYW55PC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMjxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0dXBEZWFsc0J5Q29tcGFueX08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXREZWFsc0J5Q29tcGFueUFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldERlYWxzQnlDb21wYW55Jyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzInLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5zZXR1cERlYWxzQnlDb21wYW55fSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.setupDealsByCompany}</pre>"
            click step-069 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldExvb2tVcERlYWw8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6IHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlELDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0TG9va1VwRGVhbCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdzZXRMb29rVXBEZWFsJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IHBhcmFtcyA9IHtcbiAgdXJsOiBzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCxcbiAgaGVhZGVyczoge1xuICAgIFwnQXV0aG9yaXphdGlvblwnOlwnQmVhcmVyIFwnKyBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnRoaXJkUGFydHkuYWNjZXNzVG9rZW5cbiAgfSxcbiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksXG4gIHNpdGVOYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSxcbiAgc2l0ZURvbWFpbjogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbixcbiAgdHlwZTogXCdodWJzcG90XCcsXG59O1xuZG9uZShwYXJhbXMpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let params = {<br>  url: steps.DealInfo.getDealByID,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>};<br>done(params);</pre>"
            click step-070 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPk5vT3BlbkRlYWxPcHRpb248L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+ZG9uZShzdGVwcy5DdXN0b21lcnNQYXJhbS5zeW5jUnVsZXNEZWFscy5ub09wZW5EZWFsID09PSdDcmVhdGVfQV9EZWFsJyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnc2V0SW52b2ljZUZvckRlYWwnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogWzxicj4gICAgJ0xvb3BPdmVyU3Vic2NyaXB0aW9ucyc8YnI+ICBdLDxicj4gICduYW1lJzogJ05vT3BlbkRlYWxPcHRpb24nLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdkb25lKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnN5bmNSdWxlc0RlYWxzLm5vT3BlbkRlYWwgPT09XCdDcmVhdGVfQV9EZWFsXCcpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>done(steps.CustomersParam.syncRulesDeals.noOpenDeal ==='Create_A_Deal');</pre>"
            click step-071 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFBsYW5CeUlkPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMDxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0UGxhbkJ5SWR9PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0UGxhbkJ5SWRBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRQbGFuQnlJZCcsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMwJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuc2V0UGxhbkJ5SWR9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31330<br>       args : ${steps.setPlanById}</pre>"
            click step-072 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklzRGVhbENyZWF0ZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5kb25lKHN0ZXBzLkRlYWxJbmZvLmRlYWxPcCA9PT0gJ2NyZWF0ZScpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1ByZXBhcmVEZWFsQ3JlYXRlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdQcmVwYXJlRGVhbFVwZGF0ZSc8YnI+ICBdLDxicj4gICduYW1lJzogJ0lzRGVhbENyZWF0ZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2RvbmUoc3RlcHMuRGVhbEluZm8uZGVhbE9wID09PSBcJ2NyZWF0ZVwnKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>done(steps.DealInfo.dealOp === 'create');</pre>"
            click step-073 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldERlYWxzQnlDb21wYW55QVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMuZ2V0RGVhbHNCeUNvbXBhbnkuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSAgc3RlcHMuZ2V0RGVhbHNCeUNvbXBhbnkuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ1VwZGF0ZURlYWxJbmZvJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldERlYWxzQnlDb21wYW55QVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXREZWFsc0J5Q29tcGFueS5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gIHN0ZXBzLmdldERlYWxzQnlDb21wYW55LmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getDealsByCompany.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getDealsByCompany.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-074 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldExvb2tVcERlYWw8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMyPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5zZXRMb29rVXBEZWFsfTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ2dldExvb2tVcERlYWxBUElSZXNwb25zZSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdnZXRMb29rVXBEZWFsJyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzInLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5zZXRMb29rVXBEZWFsfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31332<br>       args : ${steps.setLookUpDeal}</pre>"
            click step-075 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldFBsYW5CeUlkQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMuZ2V0UGxhbkJ5SWQuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSBzdGVwcy5nZXRQbGFuQnlJZC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnVXBkYXRlQ0JJbmZvJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldFBsYW5CeUlkQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy5nZXRQbGFuQnlJZC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMuZ2V0UGxhbkJ5SWQuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.getPlanById.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.getPlanById.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-076 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlByZXBhcmVEZWFsQ3JlYXRlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmZ1bmN0aW9uIGdldE51bWJlcih2YWwpIHs8YnI+ICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgezxicj4gICAgICAgIHJldHVybiAwOzxicj4gICAgfTxicj4gICAgbGV0IG51bSA9IE51bWJlcih2YWwpOzxicj4gICAgaWYgKGlzTmFOKG51bSkpIHs8YnI+ICAgICAgICByZXR1cm4gMDs8YnI+ICAgIH08YnI+ICAgIHJldHVybiBudW07PGJyPn08YnI+bGV0IHN1YnNjcmlwdGlvbiA9IHN0ZXBzLkNCSW5mby5zdWJzY3JpcHRpb247PGJyPmxldCBjdXN0b21lciA9IHN0ZXBzLkNCSW5mby5jdXN0b21lcjs8YnI+bGV0IGludm9pY2UgPSBzdGVwcy5DQkluZm8uaW52b2ljZTs8YnI+bGV0IGNvbnRhY3QgPSBzdGVwcy5EZWFsSW5mby5jb250YWN0Ozxicj5sZXQgcHJvcGVydGllcyA9IFtdOzxicj48YnI+bGV0IHByZWZpeCA9ICdjYl8nOzxicj5pZihzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5ub25lZWRwcmVmaXghPT11bmRlZmluZWQgJiYgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24ubm9uZWVkcHJlZml4PT09dHJ1ZSk8YnI+ezxicj4gICBwcmVmaXg9Jyc7PGJyPn08YnI+bGV0IGNia2V5cyA9IFsnYmlsbGluZ2FkZHJlc3MnLCdiaWxsaW5nc3RhdGUnLCdiaWxsaW5nY2l0eScsJ2JpbGxpbmdjb3VudHJ5JywnYmlsbGluZ3ppcCcsJ2F1dG9jb2xsZWN0aW9uJywncHJlZmVycmVkY3VycmVuY3ljb2RlJywncGF5bWVudG1ldGhvZHN0YXR1cycsJ3BheW1lbnRtZXRob2R0eXBlJywnbmV0dGVybWRheXMnLCd0YXhleGVtcHRzdGF0dXMnLCdzdWJzY3JpcHRpb25pZCcsJ3N1YnNjcmlwdGlvc3RhdHVzJywncHJvZHVjdCcsJ3BsYW5xdWFudGl0eScsJ3NldHVwZmVlJywnZHVlaW52b2ljZXNjb3VudCcsJ3JlbWFpbmluZ2JpbGxpbmdjeWNsZXMnLCdwb251bWJlcicsJ25leHRiaWxsaW5nYXQnLCd0b3RhbGR1ZXMnLCdkdWVzaW5jZScsJ3N1YnNjcmlwdGlvbm1ycicsICdzdWJzY3JpcHRpb25zdGF0dXMnLCdsYXN0b3JkZXJkYXRlJywnbGFzdG9yZGVyYmFzZWNvbXBvbmVudHNrdScsJ2xhc3RvcmRlcnN0YXR1cycsJ2xhc3RvcmRlcicsJ25leHRvcmRlcmRhdGUnLCduZXh0b3JkZXJiYXNlY29tcG9uZW50c2t1JywnbmV4dG9yZGVyc3RhdHVzJywnbmV4dG9yZGVyJywnaW52b2ljZWFtb3VudHBhaWQnLCduZXh0YmlsbGluZ2Ftb3VudCddOzxicj48YnI+aWYgKHN0ZXBzLkRlYWxJbmZvLnRyYWlsU3RhZ2UhPT11bmRlZmluZWQgJiYgc3Vic2NyaXB0aW9uLnN0YXR1cyA9PT0gJ2luX3RyaWFsJykgezxicj4gIGxldCBkZWFsc3RhZ2UgPSB7PGJyPiAgICAndmFsdWUnOiBzdGVwcy5EZWFsSW5mby50cmFpbFN0YWdlLDxicj4gICAgJ25hbWUnOiAnZGVhbHN0YWdlJzxicj4gIH07PGJyPiAgcHJvcGVydGllcy5wdXNoKGRlYWxzdGFnZSk7PGJyPn08YnI+aWYgKHN0ZXBzLkRlYWxJbmZvLmFjdGl2ZVN0YWdlIT09IHVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSAnYWN0aXZlJykgezxicj4gIGxldCBkZWFsc3RhZ2UgPSB7PGJyPiAgICAndmFsdWUnOiBzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSw8YnI+ICAgICduYW1lJzogJ2RlYWxzdGFnZSc8YnI+ICB9Ozxicj48YnI+ICBwcm9wZXJ0aWVzLnB1c2goZGVhbHN0YWdlKTs8YnI+fTxicj48YnI+bGV0IGNsb3NlZGF0ZSA9IHs8YnI+ICAndmFsdWUnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLmNyZWF0ZWRfYXQpICogMTAwMCw8YnI+ICAnbmFtZSc6ICdjbG9zZWRhdGUnPGJyPn07PGJyPmlmKGNia2V5cy5pbmRleE9mKGNsb3NlZGF0ZS5uYW1lKTxzcGFuPj48L3NwYW4+LTEpPGJyPiAgICAgICAgY2xvc2VkYXRlLm5hbWUgPSBwcmVmaXgrY2xvc2VkYXRlLm5hbWU7PGJyPjxicj5wcm9wZXJ0aWVzLnB1c2goY2xvc2VkYXRlKTs8YnI+PGJyPmxldCBjYk1yciA9IDA7PGJyPmlmIChzdWJzY3JpcHRpb24ubXJyICE9PSB1bmRlZmluZWQpIHs8YnI+ICBjYk1yciA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLm1yciwgMTApIC8gMTAwKS50b0ZpeGVkKDIpOzxicj59PGJyPmxldCBkZWFsQW1vdW50ID0gMDs8YnI+aWYoY2JNcnIgPHNwYW4+Pjwvc3Bhbj4wKSB7PGJyPiAgIGxldCBwbGFuID0gc3RlcHMuU3ViUGFyYW0ucGxhbnNbc3Vic2NyaXB0aW9uLnBsYW5faWRdOzxicj4gICBsZXQgcGVyaW9kX3VuaXQgPSBwbGFuLnBlcmlvZF91bml0Ozxicj4gICBsZXQgcGVyaW9kID0gcGxhbi5wZXJpb2Q7PGJyPiAgIGlmKHBlcmlvZCAhPT0gdW5kZWZpbmVkICYmIHBlcmlvZF91bml0ICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICBwZXJpb2QgPSBOdW1iZXIocGVyaW9kKTs8YnI+ICAgICBpZihpc05hTihwZXJpb2QpIHx8IHBlcmlvZCA9PT0wKXs8YnI+ICAgICAgIHBlcmlvZCA9IDE7PGJyPiAgICAgfTxicj4gICAgIGlmKHBlcmlvZF91bml0ID09PSd5ZWFyJykgezxicj4gICAgICAgZGVhbEFtb3VudCA9IGNiTXJyICoxMiAqIHBlcmlvZDs8YnI+ICAgICB9ZWxzZSBpZiAocGVyaW9kX3VuaXQgPT09J21vbnRoJykgezxicj4gICAgICAgZGVhbEFtb3VudCA9IGNiTXJyICogcGVyaW9kOzxicj4gICAgIH1lbHNlIGlmIChwZXJpb2RfdW5pdCA9PT0gJ3dlZWsnKSB7PGJyPiAgICAgICBkZWFsQW1vdW50ID0gKGNiTXJyLzQpICogcGVyaW9kOzxicj4gICAgIH1lbHNlIGlmKHBlcmlvZF91bml0ID09PSAnZGF5Jyl7PGJyPiAgICAgICAgZGVhbEFtb3VudCA9IChjYk1yci8zMCkgKiBwZXJpb2Q7PGJyPiAgICAgfTxicj4gICAgIDxicj4gICB9PGJyPiAvLyBsZXQgcGxhbiA9IGNiTXJyPGJyPiA8YnI+fTxicj48YnI+bGV0IGFtb3VudCA9IHs8YnI+ICAndmFsdWUnOiBkZWFsQW1vdW50LDxicj4gICduYW1lJzogJ2Ftb3VudCc8YnI+fTs8YnI+cHJvcGVydGllcy5wdXNoKGFtb3VudCk7PGJyPjxicj5sZXQgY3JlYXRlZGF0ZSA9IHs8YnI+ICAndmFsdWUnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLmNyZWF0ZWRfYXQpICogMTAwMCw8YnI+ICAnbmFtZSc6ICdjcmVhdGVkYXRlJzxicj59Ozxicj5wcm9wZXJ0aWVzLnB1c2goY3JlYXRlZGF0ZSk7PGJyPjxicj5sZXQgZGVhbG5hbWUgPSB7PGJyPiAgJ3ZhbHVlJzogJ05ldyBzYWxlIGZvciAnICsgc3RlcHMuRGVhbEluZm8ubmFtZSw8YnI+ICAnbmFtZSc6ICdkZWFsbmFtZSc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChkZWFsbmFtZSk7PGJyPjxicj5sZXQgZGVhbHR5cGUgPSB7PGJyPiAgJ3ZhbHVlJzogJ25ld2J1c2luZXNzJyw8YnI+ICAnbmFtZSc6ICdkZWFsdHlwZSc8YnI+fTs8YnI+cHJvcGVydGllcy5wdXNoKGRlYWx0eXBlKTs8YnI+PGJyPmxldCBwaXBlbGluZSA9IHs8YnI+ICAndmFsdWUnOiAgc3RlcHMuRGVhbEluZm8ucGlwZWxpbmUsPGJyPiAgJ25hbWUnOiAncGlwZWxpbmUnPGJyPn07PGJyPnByb3BlcnRpZXMucHVzaChwaXBlbGluZSk7PGJyPjxicj5sZXQgaHVic3BvdGNvbnRhY3QgPSB7PGJyPiAgJ3ZhbHVlJzogY29udGFjdC52aWQsPGJyPiAgJ25hbWUnOiAnaHVic3BvdGNvbnRhY3QnPGJyPn07PGJyPnByb3BlcnRpZXMucHVzaChodWJzcG90Y29udGFjdCk7PGJyPjxicj48YnI+bGV0IHN1YnNjcmlwdGlvbmlkID0gezxicj4gICd2YWx1ZSc6IHN1YnNjcmlwdGlvbi5pZCw8YnI+ICAnbmFtZSc6IHByZWZpeCsnc3Vic2NyaXB0aW9uaWQnPGJyPn07PGJyPjxicj5wcm9wZXJ0aWVzLnB1c2goc3Vic2NyaXB0aW9uaWQpOzxicj48YnI+bGV0IHN1YnNjcmlwdGlvbnN0YXR1cyA9IHs8YnI+ICAndmFsdWUnOiBzdWJzY3JpcHRpb24uc3RhdHVzLDxicj4gICduYW1lJzogcHJlZml4KydzdWJzY3JpcHRpb25zdGF0dXMnPGJyPn07PGJyPjxicj48YnI+cHJvcGVydGllcy5wdXNoKHN1YnNjcmlwdGlvbnN0YXR1cyk7PGJyPjxicj5sZXQgc3Vic2NyaXB0aW9ubXJyID0gezxicj4gICd2YWx1ZSc6IGNiTXJyLDxicj4gICduYW1lJzogcHJlZml4KydzdWJzY3JpcHRpb25tcnInPGJyPn07PGJyPjxicj5wcm9wZXJ0aWVzLnB1c2goc3Vic2NyaXB0aW9ubXJyKTs8YnI+PGJyPmxldCBwcm9kdWN0ID0gezxicj4gICd2YWx1ZSc6IHN1YnNjcmlwdGlvbi5wbGFuX2lkLDxicj4gICduYW1lJzogcHJlZml4Kydwcm9kdWN0Jzxicj59Ozxicj48YnI+cHJvcGVydGllcy5wdXNoKHByb2R1Y3QpOzxicj48YnI+PGJyPmlmIChzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSkgezxicj4gIGxldCBwbGFucXVhbnRpdHkgPSB7PGJyPiAgICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSw8YnI+ICAgICduYW1lJzogcHJlZml4KydwbGFucXVhbnRpdHknPGJyPiAgfTs8YnI+PGJyPiAgcHJvcGVydGllcy5wdXNoKHBsYW5xdWFudGl0eSk7PGJyPn08YnI+PGJyPmxldCBzZXR1cGZlZSA9IDA7PGJyPjxicj5pZiAoc3Vic2NyaXB0aW9uLnNldHVwX2ZlZSAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgc2V0dXBmZWUgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi5zZXR1cF9mZWUsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj5sZXQgc2V0dXBmZWVPYmogID0gezxicj4gICd2YWx1ZSc6IHNldHVwZmVlLDxicj4gICduYW1lJzogcHJlZml4KydzZXR1cGZlZSc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChzZXR1cGZlZU9iaik7PGJyPjxicj5sZXQgZHVlaW52b2ljZXNjb3VudCA9IDA7PGJyPmlmIChzdWJzY3JpcHRpb24uZHVlX2ludm9pY2VzX2NvdW50ICE9PSB1bmRlZmluZWQpIHs8YnI+ICBkdWVpbnZvaWNlc2NvdW50ID0gTnVtYmVyKHN1YnNjcmlwdGlvbi5kdWVfaW52b2ljZXNfY291bnQpOzxicj59PGJyPjxicj5sZXQgZHVlaW52b2ljZXNjb3VudE9iaiA9IHs8YnI+ICAndmFsdWUnOiBkdWVpbnZvaWNlc2NvdW50LDxicj4gICduYW1lJzogcHJlZml4KydkdWVpbnZvaWNlc2NvdW50Jzxicj59Ozxicj48YnI+PGJyPnByb3BlcnRpZXMucHVzaChkdWVpbnZvaWNlc2NvdW50T2JqKTs8YnI+PGJyPmlmIChzdWJzY3JpcHRpb24ucmVtYWluaW5nX2JpbGxpbmdfY3ljbGVzICE9PSB1bmRlZmluZWQpIHs8YnI+ICBsZXQgcmVtYWluaW5nYmlsbGluZ2N5Y2xlcyA9IHs8YnI+ICAgICd2YWx1ZSc6IHN1YnNjcmlwdGlvbi5yZW1haW5pbmdfYmlsbGluZ19jeWNsZXMsPGJyPiAgICAnbmFtZSc6IHByZWZpeCsncmVtYWluaW5nYmlsbGluZ2N5Y2xlcyc8YnI+ICB9Ozxicj48YnI+ICBwcm9wZXJ0aWVzLnB1c2gocmVtYWluaW5nYmlsbGluZ2N5Y2xlcyk7PGJyPn08YnI+PGJyPmlmIChzdWJzY3JpcHRpb24ucG9fbnVtYmVyICE9PSB1bmRlZmluZWQpIHs8YnI+ICBsZXQgcG9udW1iZXIgPSB7PGJyPiAgICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucG9fbnVtYmVyLDxicj4gICAgJ25hbWUnOiBwcmVmaXgrJ3BvbnVtYmVyJzxicj4gIH07PGJyPjxicj4gIHByb3BlcnRpZXMucHVzaChwb251bWJlcik7PGJyPn08YnI+PGJyPmxldCB0b3RhbGR1ZXMgPSAwOzxicj5pZiAoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMgIT09IHVuZGVmaW5lZCkgezxicj4gIHRvdGFsZHVlcyA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj48YnI+bGV0IHRvdGFsZHVlc09iaiA9IHs8YnI+ICAndmFsdWUnOiB0b3RhbGR1ZXMsPGJyPiAgJ25hbWUnOiBwcmVmaXgrJ3RvdGFsZHVlcyc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaCh0b3RhbGR1ZXNPYmopOzxicj48YnI+aWYgKHN1YnNjcmlwdGlvbi5uZXh0X2JpbGxpbmdfYXQgIT09IHVuZGVmaW5lZCkgezxicj4gIGxldCBuZXh0YmlsbGluZ2F0ID0gezxicj4gICAgJ3ZhbHVlJzogTnVtYmVyKHN1YnNjcmlwdGlvbi5uZXh0X2JpbGxpbmdfYXQpICogMTAwMCw8YnI+ICAgICduYW1lJzogcHJlZml4KyduZXh0YmlsbGluZ2F0Jzxicj4gIH07PGJyPjxicj4gIHByb3BlcnRpZXMucHVzaChuZXh0YmlsbGluZ2F0KTs8YnI+fTxicj5pZiAoc3Vic2NyaXB0aW9uLmR1ZV9zaW5jZSAhPT11bmRlZmluZWQpIHs8YnI+ICBsZXQgZHVlc2luY2UgPSB7PGJyPiAgICAgICd2YWx1ZSc6IE51bWJlcihzdWJzY3JpcHRpb24uZHVlX3NpbmNlKSAqIDEwMDAsPGJyPiAgICAgICduYW1lJzogcHJlZml4KydkdWVzaW5jZSc8YnI+ICB9Ozxicj48YnI+ICBwcm9wZXJ0aWVzLnB1c2goZHVlc2luY2UpOzxicj59PGJyPmxldCBuZXh0YmlsbGluZ2Ftb3VudCA9IDA7PGJyPmlmKGludm9pY2UgIT09dW5kZWZpbmVkICYmIGludm9pY2UudG90YWwgIT09IHVuZGVmaW5lZCkgezxicj4gIG5leHRiaWxsaW5nYW1vdW50ID0gcGFyc2VGbG9hdChwYXJzZUludChpbnZvaWNlLnRvdGFsLCAxMCkgLyAxMDApLnRvRml4ZWQoMik7PGJyPn08YnI+PGJyPmxldCBuZXh0YmlsbGluZ2Ftb3VudE9iaiA9IHs8YnI+ICAndmFsdWUnOiBuZXh0YmlsbGluZ2Ftb3VudCw8YnI+ICAnbmFtZSc6IHByZWZpeCsnbmV4dGJpbGxpbmdhbW91bnQnPGJyPn07PGJyPjxicj48YnI+cHJvcGVydGllcy5wdXNoKG5leHRiaWxsaW5nYW1vdW50T2JqKTs8YnI+PGJyPi8vY3VzdG9tPGJyPmxldCBteU9yZGVyOzxicj5sZXQgc3luY1J1bGVzRmllbGRzID0gc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZXNGaWVsZHM7PGJyPmlmIChzeW5jUnVsZXNGaWVsZHMgPT09IHVuZGVmaW5lZCkgezxicj4gICAgc3luY1J1bGVzRmllbGRzID0gezxicj4gICAgICAgICdkZWFsJzogezxicj4gICAgICAgIH0sPGJyPiAgICAgICAgJ3N5bmMnOiAnZmFsc2UnPGJyPiAgICB9Ozxicj48YnI+fSBlbHNlIHs8YnI+ICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuZGVhbCA9PT0gdW5kZWZpbmVkIHx8IHN5bmNSdWxlc0ZpZWxkcy5kZWFsID09PSAnJykgezxicj4gICAgICAgIHN5bmNSdWxlc0ZpZWxkcy5kZWFsID0ge307PGJyPiAgICB9PGJyPn08YnI+c3luY1J1bGVzRmllbGRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzeW5jUnVsZXNGaWVsZHMpKTs8YnI+bGV0IGN1c3RvbWVmaWVsZHMgPSBzdGVwcy5TeW5jTG9nLmN1c3RvbWVmaWVsZHM7PGJyPmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IGN1c3RvbWVmaWVsZHMubGVuZ3RoOyBpKyspIHs8YnI+ICAgIGxldCBmbGQgPSBjdXN0b21lZmllbGRzW2ldOzxicj48YnI+ICAgIGZvciAodmFyIGogPSAwOyBqIDxzcGFuPjw8L3NwYW4+IGZsZC5maWVsZHMubGVuZ3RoOyBqKyspIHs8YnI+ICAgICAgICB2YXIgZXMgPSBmbGQuZmllbGRzW2pdOzxicj4gICAgICAgIHZhciBkZXNjID0gZmxkLmxhYmVsICsgJyAnICsgZXNbMF0ucmVwbGFjZSgvXy9nLCAnICcpOzxicj4gICAgICAgIHZhciBpZCA9IGZsZC5rZXkgKyAnXycgKyBlc1swXTs8YnI+ICAgICAgICBpZiAoc3luY1J1bGVzRmllbGRzLmRlYWxbaWRdICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICAgICAgICAgc3luY1J1bGVzRmllbGRzLmRlYWxbaWRdID0gZXM7PGJyPiAgICAgICAgfTxicj4gICAgfTxicj59PGJyPmxldCBjdXN0b21LZXlzID0gT2JqZWN0LmtleXMoc3luY1J1bGVzRmllbGRzLmRlYWwpOzxicj5mb3IgKHZhciBpID0gMDsgaSA8c3Bhbj48PC9zcGFuPiBjdXN0b21LZXlzLmxlbmd0aDsgaSsrKSB7PGJyPiAgICB2YXIgY0tleSA9IGN1c3RvbUtleXNbaV07PGJyPiAgICB2YXIgY1ZhbCA9IHN5bmNSdWxlc0ZpZWxkcy5kZWFsW2NLZXldOzxicj4gICAgbGV0IHN1YlZhbDs8YnI+ICAgIGlmIChjS2V5LnN0YXJ0c1dpdGgoJ3N1YmNzdCcpKSB7PGJyPiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgICAgICAgICAgIHN1YlZhbCA9IHN1YnNjcmlwdGlvbltjVmFsWzBdXTs8YnI+ICAgICAgICB9PGJyPiAgICB9IGVsc2UgaWYgKGNLZXkuc3RhcnRzV2l0aCgnb3JkZXJjc3QnKSkgezxicj4gICAgICAgIGlmIChteU9yZGVyICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICAgICAgICAgc3ViVmFsID0gbXlPcmRlcltjVmFsWzBdXTs8YnI+ICAgICAgICB9PGJyPjxicj4gICAgfSBlbHNlIGlmIChjS2V5LnN0YXJ0c1dpdGgoJ2N1c3Rjc3QnKSkgezxicj4gICAgICAgIGlmIChjdXN0b21lciAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgICAgICAgICAgIHN1YlZhbCA9IGN1c3RvbWVyW2NWYWxbMF1dOzxicj4gICAgICAgIH08YnI+ICAgIH08YnI+ICAgIGlmIChjVmFsWzFdID09PSAnbnVtYmVyJykgezxicj4gICAgICAgIHN1YlZhbCA9IGdldE51bWJlcihzdWJWYWwpOzxicj4gICAgICAgIGlmIChjVmFsLmxlbmd0aCA9PSA0KSB7PGJyPiAgICAgICAgICAgIHN1YlZhbCA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3ViVmFsLCAxMCkgLyAxMDApLnRvRml4ZWQoMik7PGJyPiAgICAgICAgICAgIGxldCBja2V5T2JqID0gezxicj4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogc3ViVmFsLDxicj4gICAgICAgICAgICAgICAgJ25hbWUnOiBjS2V5PGJyPiAgICAgICAgICAgICAgfTs8YnI+ICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopOzxicj4gICAgICAgIH0gZWxzZSB7PGJyPiAgICAgICAgICAgbGV0IGNrZXlPYmogPSB7PGJyPiAgICAgICAgICAgICAgICAndmFsdWUnOiBzdWJWYWwsPGJyPiAgICAgICAgICAgICAgICAnbmFtZSc6IGNLZXk8YnI+ICAgICAgICAgICAgICB9Ozxicj4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goY2tleU9iaik7PGJyPiAgICAgICAgfTxicj4gICAgfSBlbHNlIGlmIChjVmFsWzFdID09PSAnZGF0ZXRpbWUnKSB7PGJyPiAgICAgICAgc3ViVmFsID0gZ2V0TnVtYmVyKHN1YlZhbCkgKiAxMDAwOyAgICAgIDxicj4gICAgICAgIGxldCBja2V5T2JqID0gezxicj4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogc3ViVmFsLDxicj4gICAgICAgICAgICAgICAgJ25hbWUnOiBjS2V5PGJyPiAgICAgICAgICAgICAgfTs8YnI+ICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopOzxicj48YnI+ICAgIH0gZWxzZSBpZihzdWJWYWwgIT09IHVuZGVmaW5lZCAmJiBzdWJWYWwhPT0nJyl7PGJyPiAgICAgICBsZXQgY2tleU9iaiA9IHs8YnI+ICAgICAgICAgICAgICAgICd2YWx1ZSc6IHN1YlZhbCw8YnI+ICAgICAgICAgICAgICAgICduYW1lJzogY0tleTxicj4gICAgICAgICAgICAgIH07PGJyPiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTs8YnI+ICAgIH08YnI+fTxicj4vL2N1c3RvbTxicj48YnI+bGV0IGFzc29jaWF0aW9ucyA9IHs8YnI+ICBhc3NvY2lhdGVkVmlkczpbY29udGFjdC52aWRdLDxicj59Ozxicj48YnI+ICBpZihjb250YWN0Wydhc3NvY2lhdGVkLWNvbXBhbnknXSAhPT0gdW5kZWZpbmVkICYmIGNvbnRhY3RbJ2Fzc29jaWF0ZWQtY29tcGFueSddWydjb21wYW55LWlkJ10gIT09IHVuZGVmaW5lZCkgezxicj4gICAgYXNzb2NpYXRpb25zLmFzc29jaWF0ZWRDb21wYW55SWRzID0gW2NvbnRhY3RbJ2Fzc29jaWF0ZWQtY29tcGFueSddWydjb21wYW55LWlkJ11dOzxicj4gIH08YnI+PGJyPmxldCBpbnB1dCA9ezxicj4gIGFzc29jaWF0aW9uczphc3NvY2lhdGlvbnMsPGJyPiAgcHJvcGVydGllcyA6IHByb3BlcnRpZXM8YnI+fTs8YnI+PGJyPjxicj5sZXQgcGFyYW1zID0gezxicj4gIHVybDogc3RlcHMuRGVhbEluZm8udXJsLmNyZWF0ZURlYWwsPGJyPiAgaGVhZGVyczogezxicj4gICAgJ0F1dGhvcml6YXRpb24nOidCZWFyZXIgJysgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuPGJyPiAgfSw8YnI+ICBhcGlLZXk6IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleSw8YnI+ICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsPGJyPiAgc2l0ZURvbWFpbjogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbiw8YnI+ICB0eXBlOiAnaHVic3BvdCcsPGJyPiAgYm9keTppbnB1dDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnY3JlYXRlRGVhbEluSHVic3BvdCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdQcmVwYXJlRGVhbENyZWF0ZScsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2Z1bmN0aW9uIGdldE51bWJlcih2YWwpIHtcbiAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBudW0gPSBOdW1iZXIodmFsKTtcbiAgICBpZiAoaXNOYU4obnVtKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIG51bTtcbn1cbmxldCBzdWJzY3JpcHRpb24gPSBzdGVwcy5DQkluZm8uc3Vic2NyaXB0aW9uO1xubGV0IGN1c3RvbWVyID0gc3RlcHMuQ0JJbmZvLmN1c3RvbWVyO1xubGV0IGludm9pY2UgPSBzdGVwcy5DQkluZm8uaW52b2ljZTtcbmxldCBjb250YWN0ID0gc3RlcHMuRGVhbEluZm8uY29udGFjdDtcbmxldCBwcm9wZXJ0aWVzID0gW107XG5cbmxldCBwcmVmaXggPSBcJ2NiX1wnO1xuaWYoc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24ubm9uZWVkcHJlZml4IT09dW5kZWZpbmVkICYmIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLm5vbmVlZHByZWZpeD09PXRydWUpXG57XG4gICBwcmVmaXg9XCdcJztcbn1cbmxldCBjYmtleXMgPSBbJ2JpbGxpbmdhZGRyZXNzJywnYmlsbGluZ3N0YXRlJywnYmlsbGluZ2NpdHknLCdiaWxsaW5nY291bnRyeScsJ2JpbGxpbmd6aXAnLCdhdXRvY29sbGVjdGlvbicsJ3ByZWZlcnJlZGN1cnJlbmN5Y29kZScsJ3BheW1lbnRtZXRob2RzdGF0dXMnLCdwYXltZW50bWV0aG9kdHlwZScsJ25ldHRlcm1kYXlzJywndGF4ZXhlbXB0c3RhdHVzJywnc3Vic2NyaXB0aW9uaWQnLCdzdWJzY3JpcHRpb3N0YXR1cycsJ3Byb2R1Y3QnLCdwbGFucXVhbnRpdHknLCdzZXR1cGZlZScsJ2R1ZWludm9pY2VzY291bnQnLCdyZW1haW5pbmdiaWxsaW5nY3ljbGVzJywncG9udW1iZXInLCduZXh0YmlsbGluZ2F0JywndG90YWxkdWVzJywnZHVlc2luY2UnLCdzdWJzY3JpcHRpb25tcnInLCAnc3Vic2NyaXB0aW9uc3RhdHVzJywnbGFzdG9yZGVyZGF0ZScsJ2xhc3RvcmRlcmJhc2Vjb21wb25lbnRza3UnLCdsYXN0b3JkZXJzdGF0dXMnLCdsYXN0b3JkZXInLCduZXh0b3JkZXJkYXRlJywnbmV4dG9yZGVyYmFzZWNvbXBvbmVudHNrdScsJ25leHRvcmRlcnN0YXR1cycsJ25leHRvcmRlcicsJ2ludm9pY2VhbW91bnRwYWlkJywnbmV4dGJpbGxpbmdhbW91bnQnXTtcblxuaWYgKHN0ZXBzLkRlYWxJbmZvLnRyYWlsU3RhZ2UhPT11bmRlZmluZWQgJiYgc3Vic2NyaXB0aW9uLnN0YXR1cyA9PT0gXCdpbl90cmlhbFwnKSB7XG4gIGxldCBkZWFsc3RhZ2UgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdGVwcy5EZWFsSW5mby50cmFpbFN0YWdlLFxuICAgIFwnbmFtZVwnOiBcJ2RlYWxzdGFnZVwnXG4gIH07XG4gIHByb3BlcnRpZXMucHVzaChkZWFsc3RhZ2UpO1xufVxuaWYgKHN0ZXBzLkRlYWxJbmZvLmFjdGl2ZVN0YWdlIT09IHVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSBcJ2FjdGl2ZVwnKSB7XG4gIGxldCBkZWFsc3RhZ2UgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSxcbiAgICBcJ25hbWVcJzogXCdkZWFsc3RhZ2VcJ1xuICB9O1xuXG4gIHByb3BlcnRpZXMucHVzaChkZWFsc3RhZ2UpO1xufVxuXG5sZXQgY2xvc2VkYXRlID0ge1xuICBcJ3ZhbHVlXCc6IE51bWJlcihzdWJzY3JpcHRpb24uY3JlYXRlZF9hdCkgKiAxMDAwLFxuICBcJ25hbWVcJzogXCdjbG9zZWRhdGVcJ1xufTtcbmlmKGNia2V5cy5pbmRleE9mKGNsb3NlZGF0ZS5uYW1lKTxzcGFuPj48L3NwYW4+LTEpXG4gICAgICAgIGNsb3NlZGF0ZS5uYW1lID0gcHJlZml4K2Nsb3NlZGF0ZS5uYW1lO1xuXG5wcm9wZXJ0aWVzLnB1c2goY2xvc2VkYXRlKTtcblxubGV0IGNiTXJyID0gMDtcbmlmIChzdWJzY3JpcHRpb24ubXJyICE9PSB1bmRlZmluZWQpIHtcbiAgY2JNcnIgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi5tcnIsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTtcbn1cbmxldCBkZWFsQW1vdW50ID0gMDtcbmlmKGNiTXJyIDxzcGFuPj48L3NwYW4+MCkge1xuICAgbGV0IHBsYW4gPSBzdGVwcy5TdWJQYXJhbS5wbGFuc1tzdWJzY3JpcHRpb24ucGxhbl9pZF07XG4gICBsZXQgcGVyaW9kX3VuaXQgPSBwbGFuLnBlcmlvZF91bml0O1xuICAgbGV0IHBlcmlvZCA9IHBsYW4ucGVyaW9kO1xuICAgaWYocGVyaW9kICE9PSB1bmRlZmluZWQgJiYgcGVyaW9kX3VuaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICBwZXJpb2QgPSBOdW1iZXIocGVyaW9kKTtcbiAgICAgaWYoaXNOYU4ocGVyaW9kKSB8fCBwZXJpb2QgPT09MCl7XG4gICAgICAgcGVyaW9kID0gMTtcbiAgICAgfVxuICAgICBpZihwZXJpb2RfdW5pdCA9PT1cJ3llYXJcJykge1xuICAgICAgIGRlYWxBbW91bnQgPSBjYk1yciAqMTIgKiBwZXJpb2Q7XG4gICAgIH1lbHNlIGlmIChwZXJpb2RfdW5pdCA9PT1cJ21vbnRoXCcpIHtcbiAgICAgICBkZWFsQW1vdW50ID0gY2JNcnIgKiBwZXJpb2Q7XG4gICAgIH1lbHNlIGlmIChwZXJpb2RfdW5pdCA9PT0gXCd3ZWVrXCcpIHtcbiAgICAgICBkZWFsQW1vdW50ID0gKGNiTXJyLzQpICogcGVyaW9kO1xuICAgICB9ZWxzZSBpZihwZXJpb2RfdW5pdCA9PT0gXCdkYXlcJyl7XG4gICAgICAgIGRlYWxBbW91bnQgPSAoY2JNcnIvMzApICogcGVyaW9kO1xuICAgICB9XG4gICAgIFxuICAgfVxuIC8vIGxldCBwbGFuID0gY2JNcnJcbiBcbn1cblxubGV0IGFtb3VudCA9IHtcbiAgXCd2YWx1ZVwnOiBkZWFsQW1vdW50LFxuICBcJ25hbWVcJzogXCdhbW91bnRcJ1xufTtcbnByb3BlcnRpZXMucHVzaChhbW91bnQpO1xuXG5sZXQgY3JlYXRlZGF0ZSA9IHtcbiAgXCd2YWx1ZVwnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLmNyZWF0ZWRfYXQpICogMTAwMCxcbiAgXCduYW1lXCc6IFwnY3JlYXRlZGF0ZVwnXG59O1xucHJvcGVydGllcy5wdXNoKGNyZWF0ZWRhdGUpO1xuXG5sZXQgZGVhbG5hbWUgPSB7XG4gIFwndmFsdWVcJzogXCdOZXcgc2FsZSBmb3IgXCcgKyBzdGVwcy5EZWFsSW5mby5uYW1lLFxuICBcJ25hbWVcJzogXCdkZWFsbmFtZVwnXG59O1xuXG5wcm9wZXJ0aWVzLnB1c2goZGVhbG5hbWUpO1xuXG5sZXQgZGVhbHR5cGUgPSB7XG4gIFwndmFsdWVcJzogXCduZXdidXNpbmVzc1wnLFxuICBcJ25hbWVcJzogXCdkZWFsdHlwZVwnXG59O1xucHJvcGVydGllcy5wdXNoKGRlYWx0eXBlKTtcblxubGV0IHBpcGVsaW5lID0ge1xuICBcJ3ZhbHVlXCc6ICBzdGVwcy5EZWFsSW5mby5waXBlbGluZSxcbiAgXCduYW1lXCc6IFwncGlwZWxpbmVcJ1xufTtcbnByb3BlcnRpZXMucHVzaChwaXBlbGluZSk7XG5cbmxldCBodWJzcG90Y29udGFjdCA9IHtcbiAgXCd2YWx1ZVwnOiBjb250YWN0LnZpZCxcbiAgXCduYW1lXCc6IFwnaHVic3BvdGNvbnRhY3RcJ1xufTtcbnByb3BlcnRpZXMucHVzaChodWJzcG90Y29udGFjdCk7XG5cblxubGV0IHN1YnNjcmlwdGlvbmlkID0ge1xuICBcJ3ZhbHVlXCc6IHN1YnNjcmlwdGlvbi5pZCxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3N1YnNjcmlwdGlvbmlkXCdcbn07XG5cbnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25pZCk7XG5cbmxldCBzdWJzY3JpcHRpb25zdGF0dXMgPSB7XG4gIFwndmFsdWVcJzogc3Vic2NyaXB0aW9uLnN0YXR1cyxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3N1YnNjcmlwdGlvbnN0YXR1c1wnXG59O1xuXG5cbnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25zdGF0dXMpO1xuXG5sZXQgc3Vic2NyaXB0aW9ubXJyID0ge1xuICBcJ3ZhbHVlXCc6IGNiTXJyLFxuICBcJ25hbWVcJzogcHJlZml4K1wnc3Vic2NyaXB0aW9ubXJyXCdcbn07XG5cbnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25tcnIpO1xuXG5sZXQgcHJvZHVjdCA9IHtcbiAgXCd2YWx1ZVwnOiBzdWJzY3JpcHRpb24ucGxhbl9pZCxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3Byb2R1Y3RcJ1xufTtcblxucHJvcGVydGllcy5wdXNoKHByb2R1Y3QpO1xuXG5cbmlmIChzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSkge1xuICBsZXQgcGxhbnF1YW50aXR5ID0ge1xuICAgIFwndmFsdWVcJzogc3Vic2NyaXB0aW9uLnBsYW5fcXVhbnRpdHksXG4gICAgXCduYW1lXCc6IHByZWZpeCtcJ3BsYW5xdWFudGl0eVwnXG4gIH07XG5cbiAgcHJvcGVydGllcy5wdXNoKHBsYW5xdWFudGl0eSk7XG59XG5cbmxldCBzZXR1cGZlZSA9IDA7XG5cbmlmIChzdWJzY3JpcHRpb24uc2V0dXBfZmVlICE9PSB1bmRlZmluZWQpIHtcbiAgc2V0dXBmZWUgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi5zZXR1cF9mZWUsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTtcbn1cbmxldCBzZXR1cGZlZU9iaiAgPSB7XG4gIFwndmFsdWVcJzogc2V0dXBmZWUsXG4gIFwnbmFtZVwnOiBwcmVmaXgrXCdzZXR1cGZlZVwnXG59O1xuXG5wcm9wZXJ0aWVzLnB1c2goc2V0dXBmZWVPYmopO1xuXG5sZXQgZHVlaW52b2ljZXNjb3VudCA9IDA7XG5pZiAoc3Vic2NyaXB0aW9uLmR1ZV9pbnZvaWNlc19jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gIGR1ZWludm9pY2VzY291bnQgPSBOdW1iZXIoc3Vic2NyaXB0aW9uLmR1ZV9pbnZvaWNlc19jb3VudCk7XG59XG5cbmxldCBkdWVpbnZvaWNlc2NvdW50T2JqID0ge1xuICBcJ3ZhbHVlXCc6IGR1ZWludm9pY2VzY291bnQsXG4gIFwnbmFtZVwnOiBwcmVmaXgrXCdkdWVpbnZvaWNlc2NvdW50XCdcbn07XG5cblxucHJvcGVydGllcy5wdXNoKGR1ZWludm9pY2VzY291bnRPYmopO1xuXG5pZiAoc3Vic2NyaXB0aW9uLnJlbWFpbmluZ19iaWxsaW5nX2N5Y2xlcyAhPT0gdW5kZWZpbmVkKSB7XG4gIGxldCByZW1haW5pbmdiaWxsaW5nY3ljbGVzID0ge1xuICAgIFwndmFsdWVcJzogc3Vic2NyaXB0aW9uLnJlbWFpbmluZ19iaWxsaW5nX2N5Y2xlcyxcbiAgICBcJ25hbWVcJzogcHJlZml4K1wncmVtYWluaW5nYmlsbGluZ2N5Y2xlc1wnXG4gIH07XG5cbiAgcHJvcGVydGllcy5wdXNoKHJlbWFpbmluZ2JpbGxpbmdjeWNsZXMpO1xufVxuXG5pZiAoc3Vic2NyaXB0aW9uLnBvX251bWJlciAhPT0gdW5kZWZpbmVkKSB7XG4gIGxldCBwb251bWJlciA9IHtcbiAgICBcJ3ZhbHVlXCc6IHN1YnNjcmlwdGlvbi5wb19udW1iZXIsXG4gICAgXCduYW1lXCc6IHByZWZpeCtcJ3BvbnVtYmVyXCdcbiAgfTtcblxuICBwcm9wZXJ0aWVzLnB1c2gocG9udW1iZXIpO1xufVxuXG5sZXQgdG90YWxkdWVzID0gMDtcbmlmIChzdWJzY3JpcHRpb24udG90YWxfZHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gIHRvdGFsZHVlcyA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTtcbn1cblxubGV0IHRvdGFsZHVlc09iaiA9IHtcbiAgXCd2YWx1ZVwnOiB0b3RhbGR1ZXMsXG4gIFwnbmFtZVwnOiBwcmVmaXgrXCd0b3RhbGR1ZXNcJ1xufTtcblxucHJvcGVydGllcy5wdXNoKHRvdGFsZHVlc09iaik7XG5cbmlmIChzdWJzY3JpcHRpb24ubmV4dF9iaWxsaW5nX2F0ICE9PSB1bmRlZmluZWQpIHtcbiAgbGV0IG5leHRiaWxsaW5nYXQgPSB7XG4gICAgXCd2YWx1ZVwnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLm5leHRfYmlsbGluZ19hdCkgKiAxMDAwLFxuICAgIFwnbmFtZVwnOiBwcmVmaXgrXCduZXh0YmlsbGluZ2F0XCdcbiAgfTtcblxuICBwcm9wZXJ0aWVzLnB1c2gobmV4dGJpbGxpbmdhdCk7XG59XG5pZiAoc3Vic2NyaXB0aW9uLmR1ZV9zaW5jZSAhPT11bmRlZmluZWQpIHtcbiAgbGV0IGR1ZXNpbmNlID0ge1xuICAgICAgXCd2YWx1ZVwnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLmR1ZV9zaW5jZSkgKiAxMDAwLFxuICAgICAgXCduYW1lXCc6IHByZWZpeCtcJ2R1ZXNpbmNlXCdcbiAgfTtcblxuICBwcm9wZXJ0aWVzLnB1c2goZHVlc2luY2UpO1xufVxubGV0IG5leHRiaWxsaW5nYW1vdW50ID0gMDtcbmlmKGludm9pY2UgIT09dW5kZWZpbmVkICYmIGludm9pY2UudG90YWwgIT09IHVuZGVmaW5lZCkge1xuICBuZXh0YmlsbGluZ2Ftb3VudCA9IHBhcnNlRmxvYXQocGFyc2VJbnQoaW52b2ljZS50b3RhbCwgMTApIC8gMTAwKS50b0ZpeGVkKDIpO1xufVxuXG5sZXQgbmV4dGJpbGxpbmdhbW91bnRPYmogPSB7XG4gIFwndmFsdWVcJzogbmV4dGJpbGxpbmdhbW91bnQsXG4gIFwnbmFtZVwnOiBwcmVmaXgrXCduZXh0YmlsbGluZ2Ftb3VudFwnXG59O1xuXG5cbnByb3BlcnRpZXMucHVzaChuZXh0YmlsbGluZ2Ftb3VudE9iaik7XG5cbi8vY3VzdG9tXG5sZXQgbXlPcmRlcjtcbmxldCBzeW5jUnVsZXNGaWVsZHMgPSBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnN5bmNSdWxlc0ZpZWxkcztcbmlmIChzeW5jUnVsZXNGaWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgIHN5bmNSdWxlc0ZpZWxkcyA9IHtcbiAgICAgICAgXCdkZWFsXCc6IHtcbiAgICAgICAgfSxcbiAgICAgICAgXCdzeW5jXCc6IFwnZmFsc2VcJ1xuICAgIH07XG5cbn0gZWxzZSB7XG4gICAgaWYgKHN5bmNSdWxlc0ZpZWxkcy5kZWFsID09PSB1bmRlZmluZWQgfHwgc3luY1J1bGVzRmllbGRzLmRlYWwgPT09IFwnXCcpIHtcbiAgICAgICAgc3luY1J1bGVzRmllbGRzLmRlYWwgPSB7fTtcbiAgICB9XG59XG5zeW5jUnVsZXNGaWVsZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN5bmNSdWxlc0ZpZWxkcykpO1xubGV0IGN1c3RvbWVmaWVsZHMgPSBzdGVwcy5TeW5jTG9nLmN1c3RvbWVmaWVsZHM7XG5mb3IgKHZhciBpID0gMDsgaSA8c3Bhbj48PC9zcGFuPiBjdXN0b21lZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGZsZCA9IGN1c3RvbWVmaWVsZHNbaV07XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8c3Bhbj48PC9zcGFuPiBmbGQuZmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBlcyA9IGZsZC5maWVsZHNbal07XG4gICAgICAgIHZhciBkZXNjID0gZmxkLmxhYmVsICsgXCcgXCcgKyBlc1swXS5yZXBsYWNlKC9fL2csIFwnIFwnKTtcbiAgICAgICAgdmFyIGlkID0gZmxkLmtleSArIFwnX1wnICsgZXNbMF07XG4gICAgICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuZGVhbFtpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3luY1J1bGVzRmllbGRzLmRlYWxbaWRdID0gZXM7XG4gICAgICAgIH1cbiAgICB9XG59XG5sZXQgY3VzdG9tS2V5cyA9IE9iamVjdC5rZXlzKHN5bmNSdWxlc0ZpZWxkcy5kZWFsKTtcbmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IGN1c3RvbUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY0tleSA9IGN1c3RvbUtleXNbaV07XG4gICAgdmFyIGNWYWwgPSBzeW5jUnVsZXNGaWVsZHMuZGVhbFtjS2V5XTtcbiAgICBsZXQgc3ViVmFsO1xuICAgIGlmIChjS2V5LnN0YXJ0c1dpdGgoXCdzdWJjc3RcJykpIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdWJWYWwgPSBzdWJzY3JpcHRpb25bY1ZhbFswXV07XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNLZXkuc3RhcnRzV2l0aChcJ29yZGVyY3N0XCcpKSB7XG4gICAgICAgIGlmIChteU9yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN1YlZhbCA9IG15T3JkZXJbY1ZhbFswXV07XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoY0tleS5zdGFydHNXaXRoKFwnY3VzdGNzdFwnKSkge1xuICAgICAgICBpZiAoY3VzdG9tZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3ViVmFsID0gY3VzdG9tZXJbY1ZhbFswXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNWYWxbMV0gPT09IFwnbnVtYmVyXCcpIHtcbiAgICAgICAgc3ViVmFsID0gZ2V0TnVtYmVyKHN1YlZhbCk7XG4gICAgICAgIGlmIChjVmFsLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgICAgICBzdWJWYWwgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YlZhbCwgMTApIC8gMTAwKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgbGV0IGNrZXlPYmogPSB7XG4gICAgICAgICAgICAgICAgXCd2YWx1ZVwnOiBzdWJWYWwsXG4gICAgICAgICAgICAgICAgXCduYW1lXCc6IGNLZXlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgbGV0IGNrZXlPYmogPSB7XG4gICAgICAgICAgICAgICAgXCd2YWx1ZVwnOiBzdWJWYWwsXG4gICAgICAgICAgICAgICAgXCduYW1lXCc6IGNLZXlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY1ZhbFsxXSA9PT0gXCdkYXRldGltZVwnKSB7XG4gICAgICAgIHN1YlZhbCA9IGdldE51bWJlcihzdWJWYWwpICogMTAwMDsgICAgICBcbiAgICAgICAgbGV0IGNrZXlPYmogPSB7XG4gICAgICAgICAgICAgICAgXCd2YWx1ZVwnOiBzdWJWYWwsXG4gICAgICAgICAgICAgICAgXCduYW1lXCc6IGNLZXlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTtcblxuICAgIH0gZWxzZSBpZihzdWJWYWwgIT09IHVuZGVmaW5lZCAmJiBzdWJWYWwhPT1cJ1wnKXtcbiAgICAgICBsZXQgY2tleU9iaiA9IHtcbiAgICAgICAgICAgICAgICBcJ3ZhbHVlXCc6IHN1YlZhbCxcbiAgICAgICAgICAgICAgICBcJ25hbWVcJzogY0tleVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopO1xuICAgIH1cbn1cbi8vY3VzdG9tXG5cbmxldCBhc3NvY2lhdGlvbnMgPSB7XG4gIGFzc29jaWF0ZWRWaWRzOltjb250YWN0LnZpZF0sXG59O1xuXG4gIGlmKGNvbnRhY3RbXCdhc3NvY2lhdGVkLWNvbXBhbnlcJ10gIT09IHVuZGVmaW5lZCAmJiBjb250YWN0W1wnYXNzb2NpYXRlZC1jb21wYW55XCddW1wnY29tcGFueS1pZFwnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzb2NpYXRpb25zLmFzc29jaWF0ZWRDb21wYW55SWRzID0gW2NvbnRhY3RbXCdhc3NvY2lhdGVkLWNvbXBhbnlcJ11bXCdjb21wYW55LWlkXCddXTtcbiAgfVxuXG5sZXQgaW5wdXQgPXtcbiAgYXNzb2NpYXRpb25zOmFzc29jaWF0aW9ucyxcbiAgcHJvcGVydGllcyA6IHByb3BlcnRpZXNcbn07XG5cblxubGV0IHBhcmFtcyA9IHtcbiAgdXJsOiBzdGVwcy5EZWFsSW5mby51cmwuY3JlYXRlRGVhbCxcbiAgaGVhZGVyczoge1xuICAgIFwnQXV0aG9yaXphdGlvblwnOlwnQmVhcmVyIFwnKyBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnRoaXJkUGFydHkuYWNjZXNzVG9rZW5cbiAgfSxcbiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksXG4gIHNpdGVOYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZSxcbiAgc2l0ZURvbWFpbjogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZURvbWFpbixcbiAgdHlwZTogXCdodWJzcG90XCcsXG4gIGJvZHk6aW5wdXRcbn07XG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>function getNumber(val) {<br>    if (val === undefined) {<br>        return 0;<br>    }<br>    let num = Number(val);<br>    if (isNaN(num)) {<br>        return 0;<br>    }<br>    return num;<br>}<br>let subscription = steps.CBInfo.subscription;<br>let customer = steps.CBInfo.customer;<br>let invoice = steps.CBInfo.invoice;<br>let contact = steps.DealInfo.contact;<br>let properties = [];<br><br>let prefix = 'cb_';<br>if(steps.getChargebeeConfiguration.data.third_party_configuration.config_json.noneedprefix!==undefined && steps.getChargebeeConfiguration.data.third_party_configuration.config_json.noneedprefix===true)<br>{<br>   prefix='';<br>}<br>let cbkeys = ['billingaddress','billingstate','billingcity','billingcountry','billingzip','autocollection','preferredcurrencycode','paymentmethodstatus','paymentmethodtype','nettermdays','taxexemptstatus','subscriptionid','subscriptiostatus','product','planquantity','setupfee','dueinvoicescount','remainingbillingcycles','ponumber','nextbillingat','totaldues','duesince','subscriptionmrr', 'subscriptionstatus','lastorderdate','lastorderbasecomponentsku','lastorderstatus','lastorder','nextorderdate','nextorderbasecomponentsku','nextorderstatus','nextorder','invoiceamountpaid','nextbillingamount'];<br><br>if (steps.DealInfo.trailStage!==undefined && subscription.status === 'in_trial') {<br>  let dealstage = {<br>    'value': steps.DealInfo.trailStage,<br>    'name': 'dealstage'<br>  };<br>  properties.push(dealstage);<br>}<br>if (steps.DealInfo.activeStage!== undefined && subscription.status === 'active') {<br>  let dealstage = {<br>    'value': steps.DealInfo.activeStage,<br>    'name': 'dealstage'<br>  };<br><br>  properties.push(dealstage);<br>}<br><br>let closedate = {<br>  'value': Number(subscription.created_at) * 1000,<br>  'name': 'closedate'<br>};<br>if(cbkeys.indexOf(closedate.name)<span>></span>-1)<br>        closedate.name = prefix+closedate.name;<br><br>properties.push(closedate);<br><br>let cbMrr = 0;<br>if (subscription.mrr !== undefined) {<br>  cbMrr = parseFloat(parseInt(subscription.mrr, 10) / 100).toFixed(2);<br>}<br>let dealAmount = 0;<br>if(cbMrr <span>></span>0) {<br>   let plan = steps.SubParam.plans[subscription.plan_id];<br>   let period_unit = plan.period_unit;<br>   let period = plan.period;<br>   if(period !== undefined && period_unit !== undefined) {<br>     period = Number(period);<br>     if(isNaN(period) || period ===0){<br>       period = 1;<br>     }<br>     if(period_unit ==='year') {<br>       dealAmount = cbMrr *12 * period;<br>     }else if (period_unit ==='month') {<br>       dealAmount = cbMrr * period;<br>     }else if (period_unit === 'week') {<br>       dealAmount = (cbMrr/4) * period;<br>     }else if(period_unit === 'day'){<br>        dealAmount = (cbMrr/30) * period;<br>     }<br>     <br>   }<br> // let plan = cbMrr<br> <br>}<br><br>let amount = {<br>  'value': dealAmount,<br>  'name': 'amount'<br>};<br>properties.push(amount);<br><br>let createdate = {<br>  'value': Number(subscription.created_at) * 1000,<br>  'name': 'createdate'<br>};<br>properties.push(createdate);<br><br>let dealname = {<br>  'value': 'New sale for ' + steps.DealInfo.name,<br>  'name': 'dealname'<br>};<br><br>properties.push(dealname);<br><br>let dealtype = {<br>  'value': 'newbusiness',<br>  'name': 'dealtype'<br>};<br>properties.push(dealtype);<br><br>let pipeline = {<br>  'value':  steps.DealInfo.pipeline,<br>  'name': 'pipeline'<br>};<br>properties.push(pipeline);<br><br>let hubspotcontact = {<br>  'value': contact.vid,<br>  'name': 'hubspotcontact'<br>};<br>properties.push(hubspotcontact);<br><br><br>let subscriptionid = {<br>  'value': subscription.id,<br>  'name': prefix+'subscriptionid'<br>};<br><br>properties.push(subscriptionid);<br><br>let subscriptionstatus = {<br>  'value': subscription.status,<br>  'name': prefix+'subscriptionstatus'<br>};<br><br><br>properties.push(subscriptionstatus);<br><br>let subscriptionmrr = {<br>  'value': cbMrr,<br>  'name': prefix+'subscriptionmrr'<br>};<br><br>properties.push(subscriptionmrr);<br><br>let product = {<br>  'value': subscription.plan_id,<br>  'name': prefix+'product'<br>};<br><br>properties.push(product);<br><br><br>if (subscription.plan_quantity) {<br>  let planquantity = {<br>    'value': subscription.plan_quantity,<br>    'name': prefix+'planquantity'<br>  };<br><br>  properties.push(planquantity);<br>}<br><br>let setupfee = 0;<br><br>if (subscription.setup_fee !== undefined) {<br>  setupfee = parseFloat(parseInt(subscription.setup_fee, 10) / 100).toFixed(2);<br>}<br>let setupfeeObj  = {<br>  'value': setupfee,<br>  'name': prefix+'setupfee'<br>};<br><br>properties.push(setupfeeObj);<br><br>let dueinvoicescount = 0;<br>if (subscription.due_invoices_count !== undefined) {<br>  dueinvoicescount = Number(subscription.due_invoices_count);<br>}<br><br>let dueinvoicescountObj = {<br>  'value': dueinvoicescount,<br>  'name': prefix+'dueinvoicescount'<br>};<br><br><br>properties.push(dueinvoicescountObj);<br><br>if (subscription.remaining_billing_cycles !== undefined) {<br>  let remainingbillingcycles = {<br>    'value': subscription.remaining_billing_cycles,<br>    'name': prefix+'remainingbillingcycles'<br>  };<br><br>  properties.push(remainingbillingcycles);<br>}<br><br>if (subscription.po_number !== undefined) {<br>  let ponumber = {<br>    'value': subscription.po_number,<br>    'name': prefix+'ponumber'<br>  };<br><br>  properties.push(ponumber);<br>}<br><br>let totaldues = 0;<br>if (subscription.total_dues !== undefined) {<br>  totaldues = parseFloat(parseInt(subscription.total_dues, 10) / 100).toFixed(2);<br>}<br><br>let totalduesObj = {<br>  'value': totaldues,<br>  'name': prefix+'totaldues'<br>};<br><br>properties.push(totalduesObj);<br><br>if (subscription.next_billing_at !== undefined) {<br>  let nextbillingat = {<br>    'value': Number(subscription.next_billing_at) * 1000,<br>    'name': prefix+'nextbillingat'<br>  };<br><br>  properties.push(nextbillingat);<br>}<br>if (subscription.due_since !==undefined) {<br>  let duesince = {<br>      'value': Number(subscription.due_since) * 1000,<br>      'name': prefix+'duesince'<br>  };<br><br>  properties.push(duesince);<br>}<br>let nextbillingamount = 0;<br>if(invoice !==undefined && invoice.total !== undefined) {<br>  nextbillingamount = parseFloat(parseInt(invoice.total, 10) / 100).toFixed(2);<br>}<br><br>let nextbillingamountObj = {<br>  'value': nextbillingamount,<br>  'name': prefix+'nextbillingamount'<br>};<br><br><br>properties.push(nextbillingamountObj);<br><br>//custom<br>let myOrder;<br>let syncRulesFields = steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRulesFields;<br>if (syncRulesFields === undefined) {<br>    syncRulesFields = {<br>        'deal': {<br>        },<br>        'sync': 'false'<br>    };<br><br>} else {<br>    if (syncRulesFields.deal === undefined || syncRulesFields.deal === '') {<br>        syncRulesFields.deal = {};<br>    }<br>}<br>syncRulesFields = JSON.parse(JSON.stringify(syncRulesFields));<br>let customefields = steps.SyncLog.customefields;<br>for (var i = 0; i <span><</span> customefields.length; i++) {<br>    let fld = customefields[i];<br><br>    for (var j = 0; j <span><</span> fld.fields.length; j++) {<br>        var es = fld.fields[j];<br>        var desc = fld.label + ' ' + es[0].replace(/_/g, ' ');<br>        var id = fld.key + '_' + es[0];<br>        if (syncRulesFields.deal[id] !== undefined) {<br>            syncRulesFields.deal[id] = es;<br>        }<br>    }<br>}<br>let customKeys = Object.keys(syncRulesFields.deal);<br>for (var i = 0; i <span><</span> customKeys.length; i++) {<br>    var cKey = customKeys[i];<br>    var cVal = syncRulesFields.deal[cKey];<br>    let subVal;<br>    if (cKey.startsWith('subcst')) {<br>        if (subscription !== undefined) {<br>            subVal = subscription[cVal[0]];<br>        }<br>    } else if (cKey.startsWith('ordercst')) {<br>        if (myOrder !== undefined) {<br>            subVal = myOrder[cVal[0]];<br>        }<br><br>    } else if (cKey.startsWith('custcst')) {<br>        if (customer !== undefined) {<br>            subVal = customer[cVal[0]];<br>        }<br>    }<br>    if (cVal[1] === 'number') {<br>        subVal = getNumber(subVal);<br>        if (cVal.length == 4) {<br>            subVal = parseFloat(parseInt(subVal, 10) / 100).toFixed(2);<br>            let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>            properties.push(ckeyObj);<br>        } else {<br>           let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>            properties.push(ckeyObj);<br>        }<br>    } else if (cVal[1] === 'datetime') {<br>        subVal = getNumber(subVal) * 1000;      <br>        let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>            properties.push(ckeyObj);<br><br>    } else if(subVal !== undefined && subVal!==''){<br>       let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>            properties.push(ckeyObj);<br>    }<br>}<br>//custom<br><br>let associations = {<br>  associatedVids:[contact.vid],<br>};<br><br>  if(contact['associated-company'] !== undefined && contact['associated-company']['company-id'] !== undefined) {<br>    associations.associatedCompanyIds = [contact['associated-company']['company-id']];<br>  }<br><br>let input ={<br>  associations:associations,<br>  properties : properties<br>};<br><br><br>let params = {<br>  url: steps.DealInfo.url.createDeal,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>  body:input<br>};<br>done(params);</pre>"
            click step-077 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlByZXBhcmVEZWFsVXBkYXRlPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmZ1bmN0aW9uIGdldE51bWJlcih2YWwpIHs8YnI+ICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgezxicj4gICAgICAgIHJldHVybiAwOzxicj4gICAgfTxicj4gICAgbGV0IG51bSA9IE51bWJlcih2YWwpOzxicj4gICAgaWYgKGlzTmFOKG51bSkpIHs8YnI+ICAgICAgICByZXR1cm4gMDs8YnI+ICAgIH08YnI+ICAgIHJldHVybiBudW07PGJyPn08YnI+bGV0IHN1YnNjcmlwdGlvbiA9IHN0ZXBzLkNCSW5mby5zdWJzY3JpcHRpb247PGJyPmxldCBjdXN0b21lciA9IHN0ZXBzLkNCSW5mby5jdXN0b21lcjs8YnI+bGV0IGludm9pY2UgPSBzdGVwcy5DQkluZm8uaW52b2ljZTs8YnI+bGV0IGNvbnRhY3QgPSBzdGVwcy5EZWFsSW5mby5jb250YWN0Ozxicj5sZXQgZGVhbCA9IHN0ZXBzLkRlYWxJbmZvLmRlYWw7PGJyPjxicj5sZXQgcHJvcGVydGllcyA9IFtdOzxicj48YnI+bGV0IHByZWZpeCA9ICdjYl8nOzxicj5pZihzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5ub25lZWRwcmVmaXghPT11bmRlZmluZWQgJiYgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24ubm9uZWVkcHJlZml4PT09dHJ1ZSk8YnI+ezxicj4gICBwcmVmaXg9Jyc7PGJyPn08YnI+bGV0IGNia2V5cyA9IFsnYmlsbGluZ2FkZHJlc3MnLCdiaWxsaW5nc3RhdGUnLCdiaWxsaW5nY2l0eScsJ2JpbGxpbmdjb3VudHJ5JywnYmlsbGluZ3ppcCcsJ2F1dG9jb2xsZWN0aW9uJywncHJlZmVycmVkY3VycmVuY3ljb2RlJywncGF5bWVudG1ldGhvZHN0YXR1cycsJ3BheW1lbnRtZXRob2R0eXBlJywnbmV0dGVybWRheXMnLCd0YXhleGVtcHRzdGF0dXMnLCdzdWJzY3JpcHRpb25pZCcsJ3N1YnNjcmlwdGlvc3RhdHVzJywncHJvZHVjdCcsJ3BsYW5xdWFudGl0eScsJ3NldHVwZmVlJywnZHVlaW52b2ljZXNjb3VudCcsJ3JlbWFpbmluZ2JpbGxpbmdjeWNsZXMnLCdwb251bWJlcicsJ25leHRiaWxsaW5nYXQnLCd0b3RhbGR1ZXMnLCdkdWVzaW5jZScsJ3N1YnNjcmlwdGlvbm1ycicsICdzdWJzY3JpcHRpb25zdGF0dXMnLCdsYXN0b3JkZXJkYXRlJywnbGFzdG9yZGVyYmFzZWNvbXBvbmVudHNrdScsJ2xhc3RvcmRlcnN0YXR1cycsJ2xhc3RvcmRlcicsJ25leHRvcmRlcmRhdGUnLCduZXh0b3JkZXJiYXNlY29tcG9uZW50c2t1JywnbmV4dG9yZGVyc3RhdHVzJywnbmV4dG9yZGVyJywnaW52b2ljZWFtb3VudHBhaWQnLCduZXh0YmlsbGluZ2Ftb3VudCddOzxicj48YnI+bGV0IGRlYWxzdGFnZSwgY2xvc2VkYXRlOzxicj5pZiAoZGVhbC5wcm9wZXJ0aWVzLmRlYWxzdGFnZSAhPT0gdW5kZWZpbmVkICYmIGRlYWwucHJvcGVydGllcy5kZWFsc3RhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCkgezxicj4gIGRlYWxzdGFnZSA9IGRlYWwucHJvcGVydGllcy5kZWFsc3RhZ2UudmFsdWU7PGJyPn08YnI+aWYgKGRlYWwucHJvcGVydGllcy5jbG9zZWRhdGUgIT09IHVuZGVmaW5lZCAmJiBkZWFsLnByb3BlcnRpZXMuY2xvc2VkYXRlLnZhbHVlICE9PSB1bmRlZmluZWQpIHs8YnI+ICBjbG9zZWRhdGUgPSBkZWFsLnByb3BlcnRpZXMuY2xvc2VkYXRlLnZhbHVlOzxicj59PGJyPjxicj5sZXQgb2xkc3RhdHVzID0gc3RlcHMuRGVhbEluZm8ub2xkU3Vic2NyaXB0aW9uU3RhdHVzOzxicj5pZihvbGRzdGF0dXMgPT09IHVuZGVmaW5lZCkgezxicj4gIG9sZHN0YXR1cyA9ICcnOzxicj59PGJyPmlmIChkZWFsc3RhZ2UgPT09IHVuZGVmaW5lZCkgezxicj4gIGlmICggc3RlcHMuRGVhbEluZm8udHJhaWxTdGFnZSE9PXVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSAnaW5fdHJpYWwnKSB7PGJyPiAgICBsZXQgZGVhbHN0YWdlID0gezxicj4gICAgJ3ZhbHVlJzogc3RlcHMuRGVhbEluZm8udHJhaWxTdGFnZSw8YnI+ICAgICduYW1lJzogJ2RlYWxzdGFnZSc8YnI+ICB9Ozxicj4gIHByb3BlcnRpZXMucHVzaChkZWFsc3RhZ2UpOzxicj4gICA8YnI+ICB9PGJyPiAgaWYgKHN0ZXBzLkRlYWxJbmZvLmFjdGl2ZVN0YWdlIT09dW5kZWZpbmVkICYmIHN1YnNjcmlwdGlvbi5zdGF0dXMgPT09ICdhY3RpdmUnKSB7PGJyPiAgICBsZXQgZGVhbHN0YWdlID0gezxicj4gICAgJ3ZhbHVlJzogc3RlcHMuRGVhbEluZm8uYWN0aXZlU3RhZ2UsPGJyPiAgICAnbmFtZSc6ICdkZWFsc3RhZ2UnPGJyPiAgfTs8YnI+PGJyPiAgcHJvcGVydGllcy5wdXNoKGRlYWxzdGFnZSk7PGJyPiAgICA8YnI+ICB9PGJyPn0gZWxzZSB7PGJyPiAgaWYgKHN0ZXBzLkRlYWxJbmZvLmFjdGl2ZVN0YWdlIT09dW5kZWZpbmVkICYmIHN1YnNjcmlwdGlvbi5zdGF0dXMgPT09ICdhY3RpdmUnICYmICBvbGRzdGF0dXMgIT09ICdhY3RpdmUnKSB7PGJyPiAgIGxldCBkZWFsc3RhZ2UgPSB7PGJyPiAgICAndmFsdWUnOiBzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSw8YnI+ICAgICduYW1lJzogJ2RlYWxzdGFnZSc8YnI+ICB9Ozxicj4gIGlmKGNia2V5cy5pbmRleE9mKGRlYWxzdGFnZS5uYW1lKTxzcGFuPj48L3NwYW4+LTEpPGJyPiAgICAgICAgZGVhbHN0YWdlLm5hbWUgPSBwcmVmaXgrZGVhbHN0YWdlLm5hbWU7PGJyPiAgcHJvcGVydGllcy5wdXNoKGRlYWxzdGFnZSk7PGJyPiAgfTxicj59PGJyPjxicj5pZiAoY2xvc2VkYXRlID09PSB1bmRlZmluZWQpIHs8YnI+ICA8YnI+ICBsZXQgY2xvc2VkYXRlT2JqID0gezxicj4gICd2YWx1ZSc6IE51bWJlcihzdWJzY3JpcHRpb24uY3JlYXRlZF9hdCkgKiAxMDAwLDxicj4gICduYW1lJzogJ2Nsb3NlZGF0ZSc8YnI+fTs8YnI+aWYoY2JrZXlzLmluZGV4T2YoY2xvc2VkYXRlT2JqLm5hbWUpPHNwYW4+Pjwvc3Bhbj4tMSk8YnI+ICAgICAgICBjbG9zZWRhdGVPYmoubmFtZSA9IHByZWZpeCtjbG9zZWRhdGVPYmoubmFtZTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChjbG9zZWRhdGUpOzxicj4gIDxicj4gIDxicj59PGJyPjxicj5sZXQgY2JNcnIgPSAwOzxicj5pZiAoc3Vic2NyaXB0aW9uLm1yciAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgY2JNcnIgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi5tcnIsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj48YnI+PGJyPmxldCBodWJzcG90Y29udGFjdCA9IHs8YnI+ICAndmFsdWUnOiBjb250YWN0LnZpZCw8YnI+ICAnbmFtZSc6ICdodWJzcG90Y29udGFjdCc8YnI+fTs8YnI+cHJvcGVydGllcy5wdXNoKGh1YnNwb3Rjb250YWN0KTs8YnI+PGJyPjxicj5sZXQgc3Vic2NyaXB0aW9uaWQgPSB7PGJyPiAgJ3ZhbHVlJzogc3Vic2NyaXB0aW9uLmlkLDxicj4gICduYW1lJzogcHJlZml4KydzdWJzY3JpcHRpb25pZCc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25pZCk7PGJyPjxicj5sZXQgc3Vic2NyaXB0aW9uc3RhdHVzID0gezxicj4gICd2YWx1ZSc6IHN1YnNjcmlwdGlvbi5zdGF0dXMsPGJyPiAgJ25hbWUnOiBwcmVmaXgrJ3N1YnNjcmlwdGlvbnN0YXR1cyc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25zdGF0dXMpOzxicj48YnI+bGV0IHN1YnNjcmlwdGlvbm1yciA9IHs8YnI+ICAndmFsdWUnOiBjYk1yciw8YnI+ICAnbmFtZSc6IHByZWZpeCsnc3Vic2NyaXB0aW9ubXJyJzxicj59Ozxicj48YnI+cHJvcGVydGllcy5wdXNoKHN1YnNjcmlwdGlvbm1ycik7PGJyPjxicj5sZXQgcHJvZHVjdCA9IHs8YnI+ICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucGxhbl9pZCw8YnI+ICAnbmFtZSc6IHByZWZpeCsncHJvZHVjdCc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChwcm9kdWN0KTs8YnI+PGJyPmlmIChzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSkgezxicj4gIGxldCBwbGFucXVhbnRpdHkgPSB7PGJyPiAgICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSw8YnI+ICAgICduYW1lJzogcHJlZml4KydwbGFucXVhbnRpdHknPGJyPiAgfTs8YnI+PGJyPiAgcHJvcGVydGllcy5wdXNoKHBsYW5xdWFudGl0eSk7PGJyPn08YnI+PGJyPmxldCBzZXR1cGZlZSA9IDA7PGJyPjxicj5pZiAoc3Vic2NyaXB0aW9uLnNldHVwX2ZlZSAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgc2V0dXBmZWUgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi5zZXR1cF9mZWUsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj5sZXQgc2V0dXBmZWVPYmogID0gezxicj4gICd2YWx1ZSc6IHNldHVwZmVlLDxicj4gICduYW1lJzogcHJlZml4KydzZXR1cGZlZSc8YnI+fTs8YnI+PGJyPnByb3BlcnRpZXMucHVzaChzZXR1cGZlZU9iaik7PGJyPjxicj5sZXQgZHVlaW52b2ljZXNjb3VudCA9IDA7PGJyPmlmIChzdWJzY3JpcHRpb24uZHVlX2ludm9pY2VzX2NvdW50ICE9PSB1bmRlZmluZWQpIHs8YnI+ICBkdWVpbnZvaWNlc2NvdW50ID0gTnVtYmVyKHN1YnNjcmlwdGlvbi5kdWVfaW52b2ljZXNfY291bnQpOzxicj59PGJyPjxicj5sZXQgZHVlaW52b2ljZXNjb3VudE9iaiA9IHs8YnI+ICAndmFsdWUnOiBkdWVpbnZvaWNlc2NvdW50LDxicj4gICduYW1lJzogcHJlZml4KydkdWVpbnZvaWNlc2NvdW50Jzxicj59Ozxicj48YnI+PGJyPnByb3BlcnRpZXMucHVzaChkdWVpbnZvaWNlc2NvdW50T2JqKTs8YnI+aWYgKHN1YnNjcmlwdGlvbi5yZW1haW5pbmdfYmlsbGluZ19jeWNsZXMgIT09IHVuZGVmaW5lZCkgezxicj4gbGV0IHJlbWFpbmluZ2JpbGxpbmdjeWNsZXMgPSB7PGJyPiAgICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucmVtYWluaW5nX2JpbGxpbmdfY3ljbGVzLDxicj4gICAgJ25hbWUnOiBwcmVmaXgrJ3JlbWFpbmluZ2JpbGxpbmdjeWNsZXMnPGJyPiAgfTs8YnI+PGJyPiAgcHJvcGVydGllcy5wdXNoKHJlbWFpbmluZ2JpbGxpbmdjeWNsZXMpOzxicj59PGJyPjxicj5pZiAoc3Vic2NyaXB0aW9uLnBvX251bWJlciAhPT0gdW5kZWZpbmVkKSB7PGJyPiBsZXQgcG9udW1iZXIgPSB7PGJyPiAgICAndmFsdWUnOiBzdWJzY3JpcHRpb24ucG9fbnVtYmVyLDxicj4gICAgJ25hbWUnOiBwcmVmaXgrJ3BvbnVtYmVyJzxicj4gIH07PGJyPjxicj4gIHByb3BlcnRpZXMucHVzaChwb251bWJlcik7PGJyPn08YnI+PGJyPmxldCB0b3RhbGR1ZXMgPSAwOzxicj5pZiAoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMgIT09IHVuZGVmaW5lZCkgezxicj4gIHRvdGFsZHVlcyA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj5sZXQgdG90YWxkdWVzT2JqID0gezxicj4gICd2YWx1ZSc6IHRvdGFsZHVlcyw8YnI+ICAnbmFtZSc6IHByZWZpeCsndG90YWxkdWVzJzxicj59Ozxicj48YnI+cHJvcGVydGllcy5wdXNoKHRvdGFsZHVlc09iaik7PGJyPmlmIChzdWJzY3JpcHRpb24ubmV4dF9iaWxsaW5nX2F0ICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgbGV0IG5leHRiaWxsaW5nYXQgPSB7PGJyPiAgICAndmFsdWUnOiBOdW1iZXIoc3Vic2NyaXB0aW9uLm5leHRfYmlsbGluZ19hdCkgKiAxMDAwLDxicj4gICAgJ25hbWUnOiBwcmVmaXgrJ25leHRiaWxsaW5nYXQnPGJyPiAgfTs8YnI+PGJyPiAgcHJvcGVydGllcy5wdXNoKG5leHRiaWxsaW5nYXQpOzxicj59PGJyPmlmIChzdWJzY3JpcHRpb24uZHVlX3NpbmNlICE9PSB1bmRlZmluZWQpIHs8YnI+ICBsZXQgZHVlc2luY2UgPSB7PGJyPiAgICAgICd2YWx1ZSc6IE51bWJlcihzdWJzY3JpcHRpb24uZHVlX3NpbmNlKSAqIDEwMDAsPGJyPiAgICAgICduYW1lJzogcHJlZml4KydkdWVzaW5jZSc8YnI+ICB9Ozxicj48YnI+ICBwcm9wZXJ0aWVzLnB1c2goZHVlc2luY2UpOzxicj59PGJyPmxldCBuZXh0YmlsbGluZ2Ftb3VudCA9IDA7PGJyPmlmIChpbnZvaWNlICE9PSB1bmRlZmluZWQgJiYgaW52b2ljZS50b3RhbCAhPT0gdW5kZWZpbmVkKSB7PGJyPiAgbmV4dGJpbGxpbmdhbW91bnQgPSBwYXJzZUZsb2F0KHBhcnNlSW50KGludm9pY2UudG90YWwsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+fTxicj48YnI+bGV0IG5leHRiaWxsaW5nYW1vdW50T2JqID0gezxicj4gICd2YWx1ZSc6IG5leHRiaWxsaW5nYW1vdW50LDxicj4gICduYW1lJzogcHJlZml4KyduZXh0YmlsbGluZ2Ftb3VudCc8YnI+fTs8YnI+PGJyPjxicj5wcm9wZXJ0aWVzLnB1c2gobmV4dGJpbGxpbmdhbW91bnRPYmopOzxicj48YnI+Ly9jdXN0b208YnI+bGV0IG15T3JkZXI7PGJyPmxldCBzeW5jUnVsZXNGaWVsZHMgPSBzdGVwcy5nZXRDaGFyZ2ViZWVDb25maWd1cmF0aW9uLmRhdGEudGhpcmRfcGFydHlfY29uZmlndXJhdGlvbi5jb25maWdfanNvbi5jbG91ZEVsZW1lbnRzLnN5bmNSdWxlc0ZpZWxkczs8YnI+aWYgKHN5bmNSdWxlc0ZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7PGJyPiAgICBzeW5jUnVsZXNGaWVsZHMgPSB7PGJyPiAgICAgICAgJ2RlYWwnOiB7PGJyPiAgICAgICAgfSw8YnI+ICAgICAgICAnc3luYyc6ICdmYWxzZSc8YnI+ICAgIH07PGJyPjxicj59IGVsc2Ugezxicj4gICAgaWYgKHN5bmNSdWxlc0ZpZWxkcy5kZWFsID09PSB1bmRlZmluZWQgfHwgc3luY1J1bGVzRmllbGRzLmRlYWwgPT09ICcnKSB7PGJyPiAgICAgICAgc3luY1J1bGVzRmllbGRzLmRlYWwgPSB7fTs8YnI+ICAgIH08YnI+fTxicj5zeW5jUnVsZXNGaWVsZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN5bmNSdWxlc0ZpZWxkcykpOzxicj5sZXQgY3VzdG9tZWZpZWxkcyA9IHN0ZXBzLlN5bmNMb2cuY3VzdG9tZWZpZWxkczs8YnI+Zm9yICh2YXIgaSA9IDA7IGkgPHNwYW4+PDwvc3Bhbj4gY3VzdG9tZWZpZWxkcy5sZW5ndGg7IGkrKykgezxicj4gICAgbGV0IGZsZCA9IGN1c3RvbWVmaWVsZHNbaV07PGJyPjxicj4gICAgZm9yICh2YXIgaiA9IDA7IGogPHNwYW4+PDwvc3Bhbj4gZmxkLmZpZWxkcy5sZW5ndGg7IGorKykgezxicj4gICAgICAgIHZhciBlcyA9IGZsZC5maWVsZHNbal07PGJyPiAgICAgICAgdmFyIGRlc2MgPSBmbGQubGFiZWwgKyAnICcgKyBlc1swXS5yZXBsYWNlKC9fL2csICcgJyk7PGJyPiAgICAgICAgdmFyIGlkID0gZmxkLmtleSArICdfJyArIGVzWzBdOzxicj4gICAgICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuZGVhbFtpZF0gIT09IHVuZGVmaW5lZCkgezxicj4gICAgICAgICAgICBzeW5jUnVsZXNGaWVsZHMuZGVhbFtpZF0gPSBlczs8YnI+ICAgICAgICB9PGJyPiAgICB9PGJyPn08YnI+bGV0IGN1c3RvbUtleXMgPSBPYmplY3Qua2V5cyhzeW5jUnVsZXNGaWVsZHMuZGVhbCk7PGJyPmZvciAodmFyIGkgPSAwOyBpIDxzcGFuPjw8L3NwYW4+IGN1c3RvbUtleXMubGVuZ3RoOyBpKyspIHs8YnI+ICAgIHZhciBjS2V5ID0gY3VzdG9tS2V5c1tpXTs8YnI+ICAgIHZhciBjVmFsID0gc3luY1J1bGVzRmllbGRzLmRlYWxbY0tleV07PGJyPiAgICBsZXQgc3ViVmFsOzxicj4gICAgaWYgKGNLZXkuc3RhcnRzV2l0aCgnc3ViY3N0JykpIHs8YnI+ICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICAgICAgICAgc3ViVmFsID0gc3Vic2NyaXB0aW9uW2NWYWxbMF1dOzxicj4gICAgICAgIH08YnI+ICAgIH0gZWxzZSBpZiAoY0tleS5zdGFydHNXaXRoKCdvcmRlcmNzdCcpKSB7PGJyPiAgICAgICAgaWYgKG15T3JkZXIgIT09IHVuZGVmaW5lZCkgezxicj4gICAgICAgICAgICBzdWJWYWwgPSBteU9yZGVyW2NWYWxbMF1dOzxicj4gICAgICAgIH08YnI+PGJyPiAgICB9IGVsc2UgaWYgKGNLZXkuc3RhcnRzV2l0aCgnY3VzdGNzdCcpKSB7PGJyPiAgICAgICAgaWYgKGN1c3RvbWVyICE9PSB1bmRlZmluZWQpIHs8YnI+ICAgICAgICAgICAgc3ViVmFsID0gY3VzdG9tZXJbY1ZhbFswXV07PGJyPiAgICAgICAgfTxicj4gICAgfTxicj4gICAgaWYgKGNWYWxbMV0gPT09ICdudW1iZXInKSB7PGJyPiAgICAgICAgc3ViVmFsID0gZ2V0TnVtYmVyKHN1YlZhbCk7PGJyPiAgICAgICAgaWYgKGNWYWwubGVuZ3RoID09IDQpIHs8YnI+ICAgICAgICAgICAgc3ViVmFsID0gcGFyc2VGbG9hdChwYXJzZUludChzdWJWYWwsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTs8YnI+ICAgICAgICAgICAgbGV0IGNrZXlPYmogPSB7PGJyPiAgICAgICAgICAgICAgICAndmFsdWUnOiBzdWJWYWwsPGJyPiAgICAgICAgICAgICAgICAnbmFtZSc6IGNLZXk8YnI+ICAgICAgICAgICAgICB9Ozxicj4gICAgICAgICAgICAgIGlmKGNia2V5cy5pbmRleE9mKGNrZXlPYmoubmFtZSk8c3Bhbj4+PC9zcGFuPi0xKTxicj4gICAgICAgIGNrZXlPYmoubmFtZSA9IHByZWZpeCtja2V5T2JqLm5hbWU7PGJyPiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTs8YnI+ICAgICAgICB9IGVsc2Ugezxicj4gICAgICAgICAgICBsZXQgY2tleU9iaiA9IHs8YnI+ICAgICAgICAgICAgICAgICd2YWx1ZSc6IHN1YlZhbCw8YnI+ICAgICAgICAgICAgICAgICduYW1lJzogY0tleTxicj4gICAgICAgICAgICAgIH07PGJyPiAgICAgICAgICAgICAgaWYoY2JrZXlzLmluZGV4T2YoY2tleU9iai5uYW1lKTxzcGFuPj48L3NwYW4+LTEpPGJyPiAgICAgICAgY2tleU9iai5uYW1lID0gcHJlZml4K2NrZXlPYmoubmFtZTs8YnI+ICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopOzxicj4gICAgICAgIH08YnI+ICAgIH0gZWxzZSBpZiAoY1ZhbFsxXSA9PT0gJ2RhdGV0aW1lJykgezxicj4gICAgICAgIHN1YlZhbCA9IGdldE51bWJlcihzdWJWYWwpICogMTAwMDsgICAgICAgPGJyPiAgICAgICAgbGV0IGNrZXlPYmogPSB7PGJyPiAgICAgICAgICAgICAgICAndmFsdWUnOiBzdWJWYWwsPGJyPiAgICAgICAgICAgICAgICAnbmFtZSc6IGNLZXk8YnI+ICAgICAgICAgICAgICB9Ozxicj4gICAgICAgICAgICAgIGlmKGNia2V5cy5pbmRleE9mKGNrZXlPYmoubmFtZSk8c3Bhbj4+PC9zcGFuPi0xKTxicj4gICAgICAgIGNrZXlPYmoubmFtZSA9IHByZWZpeCtja2V5T2JqLm5hbWU7PGJyPiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTs8YnI+PGJyPiAgICB9ZWxzZSBpZihzdWJWYWwgIT09IHVuZGVmaW5lZCAmJiBzdWJWYWwhPT0nJyl7PGJyPiAgICAgICBsZXQgY2tleU9iaiA9IHs8YnI+ICAgICAgICAgICAgICAgICd2YWx1ZSc6IHN1YlZhbCw8YnI+ICAgICAgICAgICAgICAgICduYW1lJzogY0tleTxicj4gICAgICAgICAgICAgIH07PGJyPiAgICAgICAgICAgICAgaWYoY2JrZXlzLmluZGV4T2YoY2tleU9iai5uYW1lKTxzcGFuPj48L3NwYW4+LTEpPGJyPiAgICAgICAgY2tleU9iai5uYW1lID0gcHJlZml4K2NrZXlPYmoubmFtZTs8YnI+ICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopOzxicj4gICAgfSA8YnI+fTxicj48YnI+bGV0IHBhcmFtcyA9IHs8YnI+ICB1cmw6IHN0ZXBzLkRlYWxJbmZvLmdldERlYWxCeUlELDxicj4gIGhlYWRlcnM6IHs8YnI+ICAgICdBdXRob3JpemF0aW9uJzonQmVhcmVyICcrIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLmNsb3VkRWxlbWVudHMudGhpcmRQYXJ0eS5hY2Nlc3NUb2tlbjxicj4gIH0sPGJyPiAgYXBpS2V5OiBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXksPGJyPiAgc2l0ZU5hbWU6IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lLDxicj4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sPGJyPiAgdHlwZTogJ2h1YnNwb3QnLDxicj4gIGJvZHk6eyBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIH08YnI+fTs8YnI+Ly9jdXN0b208YnI+ZG9uZShwYXJhbXMpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3VwZGF0ZURlYWxJbkh1YnNwb3QnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnUHJlcGFyZURlYWxVcGRhdGUnLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdmdW5jdGlvbiBnZXROdW1iZXIodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgbnVtID0gTnVtYmVyKHZhbCk7XG4gICAgaWYgKGlzTmFOKG51bSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBudW07XG59XG5sZXQgc3Vic2NyaXB0aW9uID0gc3RlcHMuQ0JJbmZvLnN1YnNjcmlwdGlvbjtcbmxldCBjdXN0b21lciA9IHN0ZXBzLkNCSW5mby5jdXN0b21lcjtcbmxldCBpbnZvaWNlID0gc3RlcHMuQ0JJbmZvLmludm9pY2U7XG5sZXQgY29udGFjdCA9IHN0ZXBzLkRlYWxJbmZvLmNvbnRhY3Q7XG5sZXQgZGVhbCA9IHN0ZXBzLkRlYWxJbmZvLmRlYWw7XG5cbmxldCBwcm9wZXJ0aWVzID0gW107XG5cbmxldCBwcmVmaXggPSBcJ2NiX1wnO1xuaWYoc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24ubm9uZWVkcHJlZml4IT09dW5kZWZpbmVkICYmIHN0ZXBzLmdldENoYXJnZWJlZUNvbmZpZ3VyYXRpb24uZGF0YS50aGlyZF9wYXJ0eV9jb25maWd1cmF0aW9uLmNvbmZpZ19qc29uLm5vbmVlZHByZWZpeD09PXRydWUpXG57XG4gICBwcmVmaXg9XCdcJztcbn1cbmxldCBjYmtleXMgPSBbJ2JpbGxpbmdhZGRyZXNzJywnYmlsbGluZ3N0YXRlJywnYmlsbGluZ2NpdHknLCdiaWxsaW5nY291bnRyeScsJ2JpbGxpbmd6aXAnLCdhdXRvY29sbGVjdGlvbicsJ3ByZWZlcnJlZGN1cnJlbmN5Y29kZScsJ3BheW1lbnRtZXRob2RzdGF0dXMnLCdwYXltZW50bWV0aG9kdHlwZScsJ25ldHRlcm1kYXlzJywndGF4ZXhlbXB0c3RhdHVzJywnc3Vic2NyaXB0aW9uaWQnLCdzdWJzY3JpcHRpb3N0YXR1cycsJ3Byb2R1Y3QnLCdwbGFucXVhbnRpdHknLCdzZXR1cGZlZScsJ2R1ZWludm9pY2VzY291bnQnLCdyZW1haW5pbmdiaWxsaW5nY3ljbGVzJywncG9udW1iZXInLCduZXh0YmlsbGluZ2F0JywndG90YWxkdWVzJywnZHVlc2luY2UnLCdzdWJzY3JpcHRpb25tcnInLCAnc3Vic2NyaXB0aW9uc3RhdHVzJywnbGFzdG9yZGVyZGF0ZScsJ2xhc3RvcmRlcmJhc2Vjb21wb25lbnRza3UnLCdsYXN0b3JkZXJzdGF0dXMnLCdsYXN0b3JkZXInLCduZXh0b3JkZXJkYXRlJywnbmV4dG9yZGVyYmFzZWNvbXBvbmVudHNrdScsJ25leHRvcmRlcnN0YXR1cycsJ25leHRvcmRlcicsJ2ludm9pY2VhbW91bnRwYWlkJywnbmV4dGJpbGxpbmdhbW91bnQnXTtcblxubGV0IGRlYWxzdGFnZSwgY2xvc2VkYXRlO1xuaWYgKGRlYWwucHJvcGVydGllcy5kZWFsc3RhZ2UgIT09IHVuZGVmaW5lZCAmJiBkZWFsLnByb3BlcnRpZXMuZGVhbHN0YWdlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgZGVhbHN0YWdlID0gZGVhbC5wcm9wZXJ0aWVzLmRlYWxzdGFnZS52YWx1ZTtcbn1cbmlmIChkZWFsLnByb3BlcnRpZXMuY2xvc2VkYXRlICE9PSB1bmRlZmluZWQgJiYgZGVhbC5wcm9wZXJ0aWVzLmNsb3NlZGF0ZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gIGNsb3NlZGF0ZSA9IGRlYWwucHJvcGVydGllcy5jbG9zZWRhdGUudmFsdWU7XG59XG5cbmxldCBvbGRzdGF0dXMgPSBzdGVwcy5EZWFsSW5mby5vbGRTdWJzY3JpcHRpb25TdGF0dXM7XG5pZihvbGRzdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICBvbGRzdGF0dXMgPSBcJ1wnO1xufVxuaWYgKGRlYWxzdGFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gIGlmICggc3RlcHMuRGVhbEluZm8udHJhaWxTdGFnZSE9PXVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSBcJ2luX3RyaWFsXCcpIHtcbiAgICBsZXQgZGVhbHN0YWdlID0ge1xuICAgIFwndmFsdWVcJzogc3RlcHMuRGVhbEluZm8udHJhaWxTdGFnZSxcbiAgICBcJ25hbWVcJzogXCdkZWFsc3RhZ2VcJ1xuICB9O1xuICBwcm9wZXJ0aWVzLnB1c2goZGVhbHN0YWdlKTtcbiAgIFxuICB9XG4gIGlmIChzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSE9PXVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSBcJ2FjdGl2ZVwnKSB7XG4gICAgbGV0IGRlYWxzdGFnZSA9IHtcbiAgICBcJ3ZhbHVlXCc6IHN0ZXBzLkRlYWxJbmZvLmFjdGl2ZVN0YWdlLFxuICAgIFwnbmFtZVwnOiBcJ2RlYWxzdGFnZVwnXG4gIH07XG5cbiAgcHJvcGVydGllcy5wdXNoKGRlYWxzdGFnZSk7XG4gICAgXG4gIH1cbn0gZWxzZSB7XG4gIGlmIChzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSE9PXVuZGVmaW5lZCAmJiBzdWJzY3JpcHRpb24uc3RhdHVzID09PSBcJ2FjdGl2ZVwnICYmICBvbGRzdGF0dXMgIT09IFwnYWN0aXZlXCcpIHtcbiAgIGxldCBkZWFsc3RhZ2UgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdGVwcy5EZWFsSW5mby5hY3RpdmVTdGFnZSxcbiAgICBcJ25hbWVcJzogXCdkZWFsc3RhZ2VcJ1xuICB9O1xuICBpZihjYmtleXMuaW5kZXhPZihkZWFsc3RhZ2UubmFtZSk8c3Bhbj4+PC9zcGFuPi0xKVxuICAgICAgICBkZWFsc3RhZ2UubmFtZSA9IHByZWZpeCtkZWFsc3RhZ2UubmFtZTtcbiAgcHJvcGVydGllcy5wdXNoKGRlYWxzdGFnZSk7XG4gIH1cbn1cblxuaWYgKGNsb3NlZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gIFxuICBsZXQgY2xvc2VkYXRlT2JqID0ge1xuICBcJ3ZhbHVlXCc6IE51bWJlcihzdWJzY3JpcHRpb24uY3JlYXRlZF9hdCkgKiAxMDAwLFxuICBcJ25hbWVcJzogXCdjbG9zZWRhdGVcJ1xufTtcbmlmKGNia2V5cy5pbmRleE9mKGNsb3NlZGF0ZU9iai5uYW1lKTxzcGFuPj48L3NwYW4+LTEpXG4gICAgICAgIGNsb3NlZGF0ZU9iai5uYW1lID0gcHJlZml4K2Nsb3NlZGF0ZU9iai5uYW1lO1xuXG5wcm9wZXJ0aWVzLnB1c2goY2xvc2VkYXRlKTtcbiAgXG4gIFxufVxuXG5sZXQgY2JNcnIgPSAwO1xuaWYgKHN1YnNjcmlwdGlvbi5tcnIgIT09IHVuZGVmaW5lZCkge1xuICBjYk1yciA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLm1yciwgMTApIC8gMTAwKS50b0ZpeGVkKDIpO1xufVxuXG5cbmxldCBodWJzcG90Y29udGFjdCA9IHtcbiAgXCd2YWx1ZVwnOiBjb250YWN0LnZpZCxcbiAgXCduYW1lXCc6IFwnaHVic3BvdGNvbnRhY3RcJ1xufTtcbnByb3BlcnRpZXMucHVzaChodWJzcG90Y29udGFjdCk7XG5cblxubGV0IHN1YnNjcmlwdGlvbmlkID0ge1xuICBcJ3ZhbHVlXCc6IHN1YnNjcmlwdGlvbi5pZCxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3N1YnNjcmlwdGlvbmlkXCdcbn07XG5cbnByb3BlcnRpZXMucHVzaChzdWJzY3JpcHRpb25pZCk7XG5cbmxldCBzdWJzY3JpcHRpb25zdGF0dXMgPSB7XG4gIFwndmFsdWVcJzogc3Vic2NyaXB0aW9uLnN0YXR1cyxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3N1YnNjcmlwdGlvbnN0YXR1c1wnXG59O1xuXG5wcm9wZXJ0aWVzLnB1c2goc3Vic2NyaXB0aW9uc3RhdHVzKTtcblxubGV0IHN1YnNjcmlwdGlvbm1yciA9IHtcbiAgXCd2YWx1ZVwnOiBjYk1ycixcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3N1YnNjcmlwdGlvbm1yclwnXG59O1xuXG5wcm9wZXJ0aWVzLnB1c2goc3Vic2NyaXB0aW9ubXJyKTtcblxubGV0IHByb2R1Y3QgPSB7XG4gIFwndmFsdWVcJzogc3Vic2NyaXB0aW9uLnBsYW5faWQsXG4gIFwnbmFtZVwnOiBwcmVmaXgrXCdwcm9kdWN0XCdcbn07XG5cbnByb3BlcnRpZXMucHVzaChwcm9kdWN0KTtcblxuaWYgKHN1YnNjcmlwdGlvbi5wbGFuX3F1YW50aXR5KSB7XG4gIGxldCBwbGFucXVhbnRpdHkgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdWJzY3JpcHRpb24ucGxhbl9xdWFudGl0eSxcbiAgICBcJ25hbWVcJzogcHJlZml4K1wncGxhbnF1YW50aXR5XCdcbiAgfTtcblxuICBwcm9wZXJ0aWVzLnB1c2gocGxhbnF1YW50aXR5KTtcbn1cblxubGV0IHNldHVwZmVlID0gMDtcblxuaWYgKHN1YnNjcmlwdGlvbi5zZXR1cF9mZWUgIT09IHVuZGVmaW5lZCkge1xuICBzZXR1cGZlZSA9IHBhcnNlRmxvYXQocGFyc2VJbnQoc3Vic2NyaXB0aW9uLnNldHVwX2ZlZSwgMTApIC8gMTAwKS50b0ZpeGVkKDIpO1xufVxubGV0IHNldHVwZmVlT2JqICA9IHtcbiAgXCd2YWx1ZVwnOiBzZXR1cGZlZSxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3NldHVwZmVlXCdcbn07XG5cbnByb3BlcnRpZXMucHVzaChzZXR1cGZlZU9iaik7XG5cbmxldCBkdWVpbnZvaWNlc2NvdW50ID0gMDtcbmlmIChzdWJzY3JpcHRpb24uZHVlX2ludm9pY2VzX2NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgZHVlaW52b2ljZXNjb3VudCA9IE51bWJlcihzdWJzY3JpcHRpb24uZHVlX2ludm9pY2VzX2NvdW50KTtcbn1cblxubGV0IGR1ZWludm9pY2VzY291bnRPYmogPSB7XG4gIFwndmFsdWVcJzogZHVlaW52b2ljZXNjb3VudCxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ2R1ZWludm9pY2VzY291bnRcJ1xufTtcblxuXG5wcm9wZXJ0aWVzLnB1c2goZHVlaW52b2ljZXNjb3VudE9iaik7XG5pZiAoc3Vic2NyaXB0aW9uLnJlbWFpbmluZ19iaWxsaW5nX2N5Y2xlcyAhPT0gdW5kZWZpbmVkKSB7XG4gbGV0IHJlbWFpbmluZ2JpbGxpbmdjeWNsZXMgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdWJzY3JpcHRpb24ucmVtYWluaW5nX2JpbGxpbmdfY3ljbGVzLFxuICAgIFwnbmFtZVwnOiBwcmVmaXgrXCdyZW1haW5pbmdiaWxsaW5nY3ljbGVzXCdcbiAgfTtcblxuICBwcm9wZXJ0aWVzLnB1c2gocmVtYWluaW5nYmlsbGluZ2N5Y2xlcyk7XG59XG5cbmlmIChzdWJzY3JpcHRpb24ucG9fbnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiBsZXQgcG9udW1iZXIgPSB7XG4gICAgXCd2YWx1ZVwnOiBzdWJzY3JpcHRpb24ucG9fbnVtYmVyLFxuICAgIFwnbmFtZVwnOiBwcmVmaXgrXCdwb251bWJlclwnXG4gIH07XG5cbiAgcHJvcGVydGllcy5wdXNoKHBvbnVtYmVyKTtcbn1cblxubGV0IHRvdGFsZHVlcyA9IDA7XG5pZiAoc3Vic2NyaXB0aW9uLnRvdGFsX2R1ZXMgIT09IHVuZGVmaW5lZCkge1xuICB0b3RhbGR1ZXMgPSBwYXJzZUZsb2F0KHBhcnNlSW50KHN1YnNjcmlwdGlvbi50b3RhbF9kdWVzLCAxMCkgLyAxMDApLnRvRml4ZWQoMik7XG59XG5sZXQgdG90YWxkdWVzT2JqID0ge1xuICBcJ3ZhbHVlXCc6IHRvdGFsZHVlcyxcbiAgXCduYW1lXCc6IHByZWZpeCtcJ3RvdGFsZHVlc1wnXG59O1xuXG5wcm9wZXJ0aWVzLnB1c2godG90YWxkdWVzT2JqKTtcbmlmIChzdWJzY3JpcHRpb24ubmV4dF9iaWxsaW5nX2F0ICE9PSB1bmRlZmluZWQpIHtcbiAgIGxldCBuZXh0YmlsbGluZ2F0ID0ge1xuICAgIFwndmFsdWVcJzogTnVtYmVyKHN1YnNjcmlwdGlvbi5uZXh0X2JpbGxpbmdfYXQpICogMTAwMCxcbiAgICBcJ25hbWVcJzogcHJlZml4K1wnbmV4dGJpbGxpbmdhdFwnXG4gIH07XG5cbiAgcHJvcGVydGllcy5wdXNoKG5leHRiaWxsaW5nYXQpO1xufVxuaWYgKHN1YnNjcmlwdGlvbi5kdWVfc2luY2UgIT09IHVuZGVmaW5lZCkge1xuICBsZXQgZHVlc2luY2UgPSB7XG4gICAgICBcJ3ZhbHVlXCc6IE51bWJlcihzdWJzY3JpcHRpb24uZHVlX3NpbmNlKSAqIDEwMDAsXG4gICAgICBcJ25hbWVcJzogcHJlZml4K1wnZHVlc2luY2VcJ1xuICB9O1xuXG4gIHByb3BlcnRpZXMucHVzaChkdWVzaW5jZSk7XG59XG5sZXQgbmV4dGJpbGxpbmdhbW91bnQgPSAwO1xuaWYgKGludm9pY2UgIT09IHVuZGVmaW5lZCAmJiBpbnZvaWNlLnRvdGFsICE9PSB1bmRlZmluZWQpIHtcbiAgbmV4dGJpbGxpbmdhbW91bnQgPSBwYXJzZUZsb2F0KHBhcnNlSW50KGludm9pY2UudG90YWwsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTtcbn1cblxubGV0IG5leHRiaWxsaW5nYW1vdW50T2JqID0ge1xuICBcJ3ZhbHVlXCc6IG5leHRiaWxsaW5nYW1vdW50LFxuICBcJ25hbWVcJzogcHJlZml4K1wnbmV4dGJpbGxpbmdhbW91bnRcJ1xufTtcblxuXG5wcm9wZXJ0aWVzLnB1c2gobmV4dGJpbGxpbmdhbW91bnRPYmopO1xuXG4vL2N1c3RvbVxubGV0IG15T3JkZXI7XG5sZXQgc3luY1J1bGVzRmllbGRzID0gc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy5zeW5jUnVsZXNGaWVsZHM7XG5pZiAoc3luY1J1bGVzRmllbGRzID09PSB1bmRlZmluZWQpIHtcbiAgICBzeW5jUnVsZXNGaWVsZHMgPSB7XG4gICAgICAgIFwnZGVhbFwnOiB7XG4gICAgICAgIH0sXG4gICAgICAgIFwnc3luY1wnOiBcJ2ZhbHNlXCdcbiAgICB9O1xuXG59IGVsc2Uge1xuICAgIGlmIChzeW5jUnVsZXNGaWVsZHMuZGVhbCA9PT0gdW5kZWZpbmVkIHx8IHN5bmNSdWxlc0ZpZWxkcy5kZWFsID09PSBcJ1wnKSB7XG4gICAgICAgIHN5bmNSdWxlc0ZpZWxkcy5kZWFsID0ge307XG4gICAgfVxufVxuc3luY1J1bGVzRmllbGRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzeW5jUnVsZXNGaWVsZHMpKTtcbmxldCBjdXN0b21lZmllbGRzID0gc3RlcHMuU3luY0xvZy5jdXN0b21lZmllbGRzO1xuZm9yICh2YXIgaSA9IDA7IGkgPHNwYW4+PDwvc3Bhbj4gY3VzdG9tZWZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBmbGQgPSBjdXN0b21lZmllbGRzW2ldO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPHNwYW4+PDwvc3Bhbj4gZmxkLmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgZXMgPSBmbGQuZmllbGRzW2pdO1xuICAgICAgICB2YXIgZGVzYyA9IGZsZC5sYWJlbCArIFwnIFwnICsgZXNbMF0ucmVwbGFjZSgvXy9nLCBcJyBcJyk7XG4gICAgICAgIHZhciBpZCA9IGZsZC5rZXkgKyBcJ19cJyArIGVzWzBdO1xuICAgICAgICBpZiAoc3luY1J1bGVzRmllbGRzLmRlYWxbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN5bmNSdWxlc0ZpZWxkcy5kZWFsW2lkXSA9IGVzO1xuICAgICAgICB9XG4gICAgfVxufVxubGV0IGN1c3RvbUtleXMgPSBPYmplY3Qua2V5cyhzeW5jUnVsZXNGaWVsZHMuZGVhbCk7XG5mb3IgKHZhciBpID0gMDsgaSA8c3Bhbj48PC9zcGFuPiBjdXN0b21LZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNLZXkgPSBjdXN0b21LZXlzW2ldO1xuICAgIHZhciBjVmFsID0gc3luY1J1bGVzRmllbGRzLmRlYWxbY0tleV07XG4gICAgbGV0IHN1YlZhbDtcbiAgICBpZiAoY0tleS5zdGFydHNXaXRoKFwnc3ViY3N0XCcpKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3ViVmFsID0gc3Vic2NyaXB0aW9uW2NWYWxbMF1dO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChjS2V5LnN0YXJ0c1dpdGgoXCdvcmRlcmNzdFwnKSkge1xuICAgICAgICBpZiAobXlPcmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdWJWYWwgPSBteU9yZGVyW2NWYWxbMF1dO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGNLZXkuc3RhcnRzV2l0aChcJ2N1c3Rjc3RcJykpIHtcbiAgICAgICAgaWYgKGN1c3RvbWVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN1YlZhbCA9IGN1c3RvbWVyW2NWYWxbMF1dO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjVmFsWzFdID09PSBcJ251bWJlclwnKSB7XG4gICAgICAgIHN1YlZhbCA9IGdldE51bWJlcihzdWJWYWwpO1xuICAgICAgICBpZiAoY1ZhbC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgc3ViVmFsID0gcGFyc2VGbG9hdChwYXJzZUludChzdWJWYWwsIDEwKSAvIDEwMCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIGxldCBja2V5T2JqID0ge1xuICAgICAgICAgICAgICAgIFwndmFsdWVcJzogc3ViVmFsLFxuICAgICAgICAgICAgICAgIFwnbmFtZVwnOiBjS2V5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmKGNia2V5cy5pbmRleE9mKGNrZXlPYmoubmFtZSk8c3Bhbj4+PC9zcGFuPi0xKVxuICAgICAgICBja2V5T2JqLm5hbWUgPSBwcmVmaXgrY2tleU9iai5uYW1lO1xuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNrZXlPYmogPSB7XG4gICAgICAgICAgICAgICAgXCd2YWx1ZVwnOiBzdWJWYWwsXG4gICAgICAgICAgICAgICAgXCduYW1lXCc6IGNLZXlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYoY2JrZXlzLmluZGV4T2YoY2tleU9iai5uYW1lKTxzcGFuPj48L3NwYW4+LTEpXG4gICAgICAgIGNrZXlPYmoubmFtZSA9IHByZWZpeCtja2V5T2JqLm5hbWU7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goY2tleU9iaik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNWYWxbMV0gPT09IFwnZGF0ZXRpbWVcJykge1xuICAgICAgICBzdWJWYWwgPSBnZXROdW1iZXIoc3ViVmFsKSAqIDEwMDA7ICAgICAgIFxuICAgICAgICBsZXQgY2tleU9iaiA9IHtcbiAgICAgICAgICAgICAgICBcJ3ZhbHVlXCc6IHN1YlZhbCxcbiAgICAgICAgICAgICAgICBcJ25hbWVcJzogY0tleVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZihjYmtleXMuaW5kZXhPZihja2V5T2JqLm5hbWUpPHNwYW4+Pjwvc3Bhbj4tMSlcbiAgICAgICAgY2tleU9iai5uYW1lID0gcHJlZml4K2NrZXlPYmoubmFtZTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChja2V5T2JqKTtcblxuICAgIH1lbHNlIGlmKHN1YlZhbCAhPT0gdW5kZWZpbmVkICYmIHN1YlZhbCE9PVwnXCcpe1xuICAgICAgIGxldCBja2V5T2JqID0ge1xuICAgICAgICAgICAgICAgIFwndmFsdWVcJzogc3ViVmFsLFxuICAgICAgICAgICAgICAgIFwnbmFtZVwnOiBjS2V5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmKGNia2V5cy5pbmRleE9mKGNrZXlPYmoubmFtZSk8c3Bhbj4+PC9zcGFuPi0xKVxuICAgICAgICBja2V5T2JqLm5hbWUgPSBwcmVmaXgrY2tleU9iai5uYW1lO1xuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNrZXlPYmopO1xuICAgIH0gXG59XG5cbmxldCBwYXJhbXMgPSB7XG4gIHVybDogc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQsXG4gIGhlYWRlcnM6IHtcbiAgICBcJ0F1dGhvcml6YXRpb25cJzpcJ0JlYXJlciBcJysgc3RlcHMuZ2V0Q2hhcmdlYmVlQ29uZmlndXJhdGlvbi5kYXRhLnRoaXJkX3BhcnR5X2NvbmZpZ3VyYXRpb24uY29uZmlnX2pzb24uY2xvdWRFbGVtZW50cy50aGlyZFBhcnR5LmFjY2Vzc1Rva2VuXG4gIH0sXG4gIGFwaUtleTogc3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5LFxuICBzaXRlTmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWUsXG4gIHNpdGVEb21haW46IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW4sXG4gIHR5cGU6IFwnaHVic3BvdFwnLFxuICBib2R5OnsgcHJvcGVydGllczogcHJvcGVydGllcyB9XG59O1xuLy9jdXN0b21cbmRvbmUocGFyYW1zKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>function getNumber(val) {<br>    if (val === undefined) {<br>        return 0;<br>    }<br>    let num = Number(val);<br>    if (isNaN(num)) {<br>        return 0;<br>    }<br>    return num;<br>}<br>let subscription = steps.CBInfo.subscription;<br>let customer = steps.CBInfo.customer;<br>let invoice = steps.CBInfo.invoice;<br>let contact = steps.DealInfo.contact;<br>let deal = steps.DealInfo.deal;<br><br>let properties = [];<br><br>let prefix = 'cb_';<br>if(steps.getChargebeeConfiguration.data.third_party_configuration.config_json.noneedprefix!==undefined && steps.getChargebeeConfiguration.data.third_party_configuration.config_json.noneedprefix===true)<br>{<br>   prefix='';<br>}<br>let cbkeys = ['billingaddress','billingstate','billingcity','billingcountry','billingzip','autocollection','preferredcurrencycode','paymentmethodstatus','paymentmethodtype','nettermdays','taxexemptstatus','subscriptionid','subscriptiostatus','product','planquantity','setupfee','dueinvoicescount','remainingbillingcycles','ponumber','nextbillingat','totaldues','duesince','subscriptionmrr', 'subscriptionstatus','lastorderdate','lastorderbasecomponentsku','lastorderstatus','lastorder','nextorderdate','nextorderbasecomponentsku','nextorderstatus','nextorder','invoiceamountpaid','nextbillingamount'];<br><br>let dealstage, closedate;<br>if (deal.properties.dealstage !== undefined && deal.properties.dealstage.value !== undefined) {<br>  dealstage = deal.properties.dealstage.value;<br>}<br>if (deal.properties.closedate !== undefined && deal.properties.closedate.value !== undefined) {<br>  closedate = deal.properties.closedate.value;<br>}<br><br>let oldstatus = steps.DealInfo.oldSubscriptionStatus;<br>if(oldstatus === undefined) {<br>  oldstatus = '';<br>}<br>if (dealstage === undefined) {<br>  if ( steps.DealInfo.trailStage!==undefined && subscription.status === 'in_trial') {<br>    let dealstage = {<br>    'value': steps.DealInfo.trailStage,<br>    'name': 'dealstage'<br>  };<br>  properties.push(dealstage);<br>   <br>  }<br>  if (steps.DealInfo.activeStage!==undefined && subscription.status === 'active') {<br>    let dealstage = {<br>    'value': steps.DealInfo.activeStage,<br>    'name': 'dealstage'<br>  };<br><br>  properties.push(dealstage);<br>    <br>  }<br>} else {<br>  if (steps.DealInfo.activeStage!==undefined && subscription.status === 'active' &&  oldstatus !== 'active') {<br>   let dealstage = {<br>    'value': steps.DealInfo.activeStage,<br>    'name': 'dealstage'<br>  };<br>  if(cbkeys.indexOf(dealstage.name)<span>></span>-1)<br>        dealstage.name = prefix+dealstage.name;<br>  properties.push(dealstage);<br>  }<br>}<br><br>if (closedate === undefined) {<br>  <br>  let closedateObj = {<br>  'value': Number(subscription.created_at) * 1000,<br>  'name': 'closedate'<br>};<br>if(cbkeys.indexOf(closedateObj.name)<span>></span>-1)<br>        closedateObj.name = prefix+closedateObj.name;<br><br>properties.push(closedate);<br>  <br>  <br>}<br><br>let cbMrr = 0;<br>if (subscription.mrr !== undefined) {<br>  cbMrr = parseFloat(parseInt(subscription.mrr, 10) / 100).toFixed(2);<br>}<br><br><br>let hubspotcontact = {<br>  'value': contact.vid,<br>  'name': 'hubspotcontact'<br>};<br>properties.push(hubspotcontact);<br><br><br>let subscriptionid = {<br>  'value': subscription.id,<br>  'name': prefix+'subscriptionid'<br>};<br><br>properties.push(subscriptionid);<br><br>let subscriptionstatus = {<br>  'value': subscription.status,<br>  'name': prefix+'subscriptionstatus'<br>};<br><br>properties.push(subscriptionstatus);<br><br>let subscriptionmrr = {<br>  'value': cbMrr,<br>  'name': prefix+'subscriptionmrr'<br>};<br><br>properties.push(subscriptionmrr);<br><br>let product = {<br>  'value': subscription.plan_id,<br>  'name': prefix+'product'<br>};<br><br>properties.push(product);<br><br>if (subscription.plan_quantity) {<br>  let planquantity = {<br>    'value': subscription.plan_quantity,<br>    'name': prefix+'planquantity'<br>  };<br><br>  properties.push(planquantity);<br>}<br><br>let setupfee = 0;<br><br>if (subscription.setup_fee !== undefined) {<br>  setupfee = parseFloat(parseInt(subscription.setup_fee, 10) / 100).toFixed(2);<br>}<br>let setupfeeObj  = {<br>  'value': setupfee,<br>  'name': prefix+'setupfee'<br>};<br><br>properties.push(setupfeeObj);<br><br>let dueinvoicescount = 0;<br>if (subscription.due_invoices_count !== undefined) {<br>  dueinvoicescount = Number(subscription.due_invoices_count);<br>}<br><br>let dueinvoicescountObj = {<br>  'value': dueinvoicescount,<br>  'name': prefix+'dueinvoicescount'<br>};<br><br><br>properties.push(dueinvoicescountObj);<br>if (subscription.remaining_billing_cycles !== undefined) {<br> let remainingbillingcycles = {<br>    'value': subscription.remaining_billing_cycles,<br>    'name': prefix+'remainingbillingcycles'<br>  };<br><br>  properties.push(remainingbillingcycles);<br>}<br><br>if (subscription.po_number !== undefined) {<br> let ponumber = {<br>    'value': subscription.po_number,<br>    'name': prefix+'ponumber'<br>  };<br><br>  properties.push(ponumber);<br>}<br><br>let totaldues = 0;<br>if (subscription.total_dues !== undefined) {<br>  totaldues = parseFloat(parseInt(subscription.total_dues, 10) / 100).toFixed(2);<br>}<br>let totalduesObj = {<br>  'value': totaldues,<br>  'name': prefix+'totaldues'<br>};<br><br>properties.push(totalduesObj);<br>if (subscription.next_billing_at !== undefined) {<br>   let nextbillingat = {<br>    'value': Number(subscription.next_billing_at) * 1000,<br>    'name': prefix+'nextbillingat'<br>  };<br><br>  properties.push(nextbillingat);<br>}<br>if (subscription.due_since !== undefined) {<br>  let duesince = {<br>      'value': Number(subscription.due_since) * 1000,<br>      'name': prefix+'duesince'<br>  };<br><br>  properties.push(duesince);<br>}<br>let nextbillingamount = 0;<br>if (invoice !== undefined && invoice.total !== undefined) {<br>  nextbillingamount = parseFloat(parseInt(invoice.total, 10) / 100).toFixed(2);<br>}<br><br>let nextbillingamountObj = {<br>  'value': nextbillingamount,<br>  'name': prefix+'nextbillingamount'<br>};<br><br><br>properties.push(nextbillingamountObj);<br><br>//custom<br>let myOrder;<br>let syncRulesFields = steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.syncRulesFields;<br>if (syncRulesFields === undefined) {<br>    syncRulesFields = {<br>        'deal': {<br>        },<br>        'sync': 'false'<br>    };<br><br>} else {<br>    if (syncRulesFields.deal === undefined || syncRulesFields.deal === '') {<br>        syncRulesFields.deal = {};<br>    }<br>}<br>syncRulesFields = JSON.parse(JSON.stringify(syncRulesFields));<br>let customefields = steps.SyncLog.customefields;<br>for (var i = 0; i <span><</span> customefields.length; i++) {<br>    let fld = customefields[i];<br><br>    for (var j = 0; j <span><</span> fld.fields.length; j++) {<br>        var es = fld.fields[j];<br>        var desc = fld.label + ' ' + es[0].replace(/_/g, ' ');<br>        var id = fld.key + '_' + es[0];<br>        if (syncRulesFields.deal[id] !== undefined) {<br>            syncRulesFields.deal[id] = es;<br>        }<br>    }<br>}<br>let customKeys = Object.keys(syncRulesFields.deal);<br>for (var i = 0; i <span><</span> customKeys.length; i++) {<br>    var cKey = customKeys[i];<br>    var cVal = syncRulesFields.deal[cKey];<br>    let subVal;<br>    if (cKey.startsWith('subcst')) {<br>        if (subscription !== undefined) {<br>            subVal = subscription[cVal[0]];<br>        }<br>    } else if (cKey.startsWith('ordercst')) {<br>        if (myOrder !== undefined) {<br>            subVal = myOrder[cVal[0]];<br>        }<br><br>    } else if (cKey.startsWith('custcst')) {<br>        if (customer !== undefined) {<br>            subVal = customer[cVal[0]];<br>        }<br>    }<br>    if (cVal[1] === 'number') {<br>        subVal = getNumber(subVal);<br>        if (cVal.length == 4) {<br>            subVal = parseFloat(parseInt(subVal, 10) / 100).toFixed(2);<br>            let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>              if(cbkeys.indexOf(ckeyObj.name)<span>></span>-1)<br>        ckeyObj.name = prefix+ckeyObj.name;<br>            properties.push(ckeyObj);<br>        } else {<br>            let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>              if(cbkeys.indexOf(ckeyObj.name)<span>></span>-1)<br>        ckeyObj.name = prefix+ckeyObj.name;<br>            properties.push(ckeyObj);<br>        }<br>    } else if (cVal[1] === 'datetime') {<br>        subVal = getNumber(subVal) * 1000;       <br>        let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>              if(cbkeys.indexOf(ckeyObj.name)<span>></span>-1)<br>        ckeyObj.name = prefix+ckeyObj.name;<br>            properties.push(ckeyObj);<br><br>    }else if(subVal !== undefined && subVal!==''){<br>       let ckeyObj = {<br>                'value': subVal,<br>                'name': cKey<br>              };<br>              if(cbkeys.indexOf(ckeyObj.name)<span>></span>-1)<br>        ckeyObj.name = prefix+ckeyObj.name;<br>            properties.push(ckeyObj);<br>    } <br>}<br><br>let params = {<br>  url: steps.DealInfo.getDealByID,<br>  headers: {<br>    'Authorization':'Bearer '+ steps.getChargebeeConfiguration.data.third_party_configuration.config_json.cloudElements.thirdParty.accessToken<br>  },<br>  apiKey: steps.InputParams.apiKey,<br>  siteName: steps.InputParams.siteName,<br>  siteDomain: steps.InputParams.siteDomain,<br>  type: 'hubspot',<br>  body:{ properties: properties }<br>};<br>//custom<br>done(params);</pre>"
            click step-078 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlVwZGF0ZURlYWxJbmZvPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmlmKHN0ZXBzLmdldERlYWxzQnlDb21wYW55LmRhdGEucmVzdWx0cy5sZW5ndGg8c3Bhbj4+PC9zcGFuPjApIHs8YnI+ICBzdGVwcy5EZWFsSW5mby5kZWFsSWQgPSBzdGVwcy5nZXREZWFsc0J5Q29tcGFueS5kYXRhcmVzdWx0c1swXTs8YnI+ICAgc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgPSAnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9kZWFscy92MS9kZWFsLycrc3RlcHMuZ2V0RGVhbHNCeUNvbXBhbnkuZGF0YS5yZXN1bHRzWzBdOzxicj4gICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gJ3VwZGF0ZSc7PGJyPiAgICA8YnI+fWVsc2Ugezxicj4gIHN0ZXBzLkRlYWxJbmZvLmRlYWxJZCA9IHVuZGVmaW5lZDs8YnI+ICAgc3RlcHMuRGVhbEluZm8uZ2V0RGVhbEJ5SUQgPSB1bmRlZmluZWQ7PGJyPiAgIHN0ZXBzLkRlYWxJbmZvLm9sZFN1YnNjcmlwdGlvblN0YXR1cyA9IHVuZGVmaW5lZDs8YnI+ICAgc3RlcHMuRGVhbEluZm8uZGVhbE9wID0gJ2NyZWF0ZSc7PGJyPn08YnI+ZG9uZSh0cnVlKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdIYXNBRGVhbEZvckxvb2t1cCc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdVcGRhdGVEZWFsSW5mbycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLmdldERlYWxzQnlDb21wYW55LmRhdGEucmVzdWx0cy5sZW5ndGg8c3Bhbj4+PC9zcGFuPjApIHtcbiAgc3RlcHMuRGVhbEluZm8uZGVhbElkID0gc3RlcHMuZ2V0RGVhbHNCeUNvbXBhbnkuZGF0YXJlc3VsdHNbMF07XG4gICBzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCA9IFwnaHR0cHM6Ly9hcGkuaHViYXBpLmNvbS9kZWFscy92MS9kZWFsL1wnK3N0ZXBzLmdldERlYWxzQnlDb21wYW55LmRhdGEucmVzdWx0c1swXTtcbiAgICBzdGVwcy5EZWFsSW5mby5kZWFsT3AgPSBcJ3VwZGF0ZVwnO1xuICAgIFxufWVsc2Uge1xuICBzdGVwcy5EZWFsSW5mby5kZWFsSWQgPSB1bmRlZmluZWQ7XG4gICBzdGVwcy5EZWFsSW5mby5nZXREZWFsQnlJRCA9IHVuZGVmaW5lZDtcbiAgIHN0ZXBzLkRlYWxJbmZvLm9sZFN1YnNjcmlwdGlvblN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgIHN0ZXBzLkRlYWxJbmZvLmRlYWxPcCA9IFwnY3JlYXRlXCc7XG59XG5kb25lKHRydWUpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getDealsByCompany.data.results.length<span>></span>0) {<br>  steps.DealInfo.dealId = steps.getDealsByCompany.dataresults[0];<br>   steps.DealInfo.getDealByID = 'https://api.hubapi.com/deals/v1/deal/'+steps.getDealsByCompany.data.results[0];<br>    steps.DealInfo.dealOp = 'update';<br>    <br>}else {<br>  steps.DealInfo.dealId = undefined;<br>   steps.DealInfo.getDealByID = undefined;<br>   steps.DealInfo.oldSubscriptionStatus = undefined;<br>   steps.DealInfo.dealOp = 'create';<br>}<br>done(true);</pre>"
            click step-079 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldExvb2tVcERlYWxBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5nZXRMb29rVXBEZWFsLmNiX3N0YXR1cz09PSdzdWNjZXNzJykgezxicj4gIGRvbmUodHJ1ZSk7PGJyPn1lbHNlIHs8YnI+ICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gIHN0ZXBzLmdldExvb2tVcERlYWwuY2JfZXJyb3JfY29kZTs8YnI+ICBkb25lKGZhbHNlKTs8YnI+fTwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0dldEludm9pY2VGb3JEZWFsJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldExvb2tVcERlYWxBUElSZXNwb25zZScsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLmdldExvb2tVcERlYWwuY2Jfc3RhdHVzPT09XCdzdWNjZXNzXCcpIHtcbiAgZG9uZSh0cnVlKTtcbn1lbHNlIHtcbiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9ICBzdGVwcy5nZXRMb29rVXBEZWFsLmNiX2Vycm9yX2NvZGU7XG4gIGRvbmUoZmFsc2UpO1xufSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>if(steps.getLookUpDeal.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode =  steps.getLookUpDeal.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-080 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmNyZWF0ZURlYWxJbkh1YnNwb3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMzPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5QcmVwYXJlRGVhbENyZWF0ZX08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXRjcmVhdGVEZWFsSW5IdWJzcG90QVBJUmVzcG9uc2UnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnY3JlYXRlRGVhbEluSHVic3BvdCcsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMzJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuUHJlcGFyZURlYWxDcmVhdGV9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31333<br>       args : ${steps.PrepareDealCreate}</pre>"
            click step-081 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZURlYWxJbkh1YnNwb3Q8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMzPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5QcmVwYXJlRGVhbFVwZGF0ZX08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXR1cGRhdGVEZWFsSW5IdWJzcG90QVBJUmVzcG9uc2UnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAndXBkYXRlRGVhbEluSHVic3BvdCcsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzMxMzMzJyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuUHJlcGFyZURlYWxVcGRhdGV9Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Other (formula):<br><pre>  formulaId : 31333<br>       args : ${steps.PrepareDealUpdate}</pre>"
            click step-082 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldGNyZWF0ZURlYWxJbkh1YnNwb3RBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy5jcmVhdGVEZWFsSW5IdWJzcG90LmNiX3N0YXR1cz09PSdzdWNjZXNzJykgezxicj4gIGRvbmUodHJ1ZSk7PGJyPn1lbHNlIHs8YnI+ICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMuY3JlYXRlRGVhbEluSHVic3BvdC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnRGVhbFRoaXJkcGFydHlDcmVhdGVQYXJhbSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnRGVhbENyZWF0ZUVycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ2V0Y3JlYXRlRGVhbEluSHVic3BvdEFQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMuY3JlYXRlRGVhbEluSHVic3BvdC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMuY3JlYXRlRGVhbEluSHVic3BvdC5jYl9lcnJvcl9jb2RlO1xuICBkb25lKGZhbHNlKTtcbn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>if(steps.createDealInHubspot.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.createDealInHubspot.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-083 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldHVwZGF0ZURlYWxJbkh1YnNwb3RBUElSZXNwb25zZTwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy51cGRhdGVEZWFsSW5IdWJzcG90LmNiX3N0YXR1cz09PSdzdWNjZXNzJykgezxicj4gIGRvbmUodHJ1ZSk7PGJyPn1lbHNlIHs8YnI+ICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMudXBkYXRlRGVhbEluSHVic3BvdC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnRGVhbFRoaXJkUGFydHlDcmVhdGVQYXJhbSc8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbPGJyPiAgICAnRGVhbENyZWF0ZUVycm9yJzxicj4gIF0sPGJyPiAgJ25hbWUnOiAnZ2V0dXBkYXRlRGVhbEluSHVic3BvdEFQSVJlc3BvbnNlJyw8YnI+ICAndHlwZSc6ICdmaWx0ZXInLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnaWYoc3RlcHMudXBkYXRlRGVhbEluSHVic3BvdC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMudXBkYXRlRGVhbEluSHVic3BvdC5jYl9lcnJvcl9jb2RlO1xuICBkb25lKGZhbHNlKTtcbn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>if(steps.updateDealInHubspot.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.updateDealInHubspot.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-084 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRlYWxUaGlyZHBhcnR5Q3JlYXRlUGFyYW08L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHN1YnNjcmlwdGlvbiA9IHN0ZXBzLkNCSW5mby5zdWJzY3JpcHRpb247PGJyPnN0ZXBzLkN1c3RvbWVyc1BhcmFtLnNETGlzdCA9IE51bWJlcihzdGVwcy5DdXN0b21lcnNQYXJhbS5zRExpc3QpICsgMTs8YnI+c3RlcHMuU3luY0xvZy5zeW5jQ291bnQuc0NvdW50ID0gc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuc0NvdW50ICsxOzxicj5zdGVwcy5EZWFsSW5mby51cGRhdGVRdWVyeSA9IHs8YnI+ICAgIGludGVncmF0aW9uX25hbWU6IHN0ZXBzLklucHV0UGFyYW1zLmlucHV0LnR5cGUsPGJyPiAgICBlbnRpdHlfaWQ6IHN1YnNjcmlwdGlvbi5pZCw8YnI+ICAgIGVudGl0eV90eXBlOiAnc3Vic2NyaXB0aW9uJyw8YnI+ICAgIHRoaXJkX3BhcnR5X2VudGl0eV9pZDogc3RlcHMuY3JlYXRlRGVhbEluSHVic3BvdC5kYXRhLmRlYWxJZCw8YnI+ICAgIHN0YXR1czogJ3N5bmNlZCcsPGJyPiAgICBvbGRfcmVzb3VyY2U6IEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbik8YnI+fTs8YnI+ZG9uZSh0cnVlKTs8L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdzZXREZWFsVGhpcmRQYXJ0eUNyZWF0ZVBhcmFtJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0RlYWxUaGlyZHBhcnR5Q3JlYXRlUGFyYW0nLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgc3Vic2NyaXB0aW9uID0gc3RlcHMuQ0JJbmZvLnN1YnNjcmlwdGlvbjtcbnN0ZXBzLkN1c3RvbWVyc1BhcmFtLnNETGlzdCA9IE51bWJlcihzdGVwcy5DdXN0b21lcnNQYXJhbS5zRExpc3QpICsgMTtcbnN0ZXBzLlN5bmNMb2cuc3luY0NvdW50LnNDb3VudCA9IHN0ZXBzLlN5bmNMb2cuc3luY0NvdW50LnNDb3VudCArMTtcbnN0ZXBzLkRlYWxJbmZvLnVwZGF0ZVF1ZXJ5ID0ge1xuICAgIGludGVncmF0aW9uX25hbWU6IHN0ZXBzLklucHV0UGFyYW1zLmlucHV0LnR5cGUsXG4gICAgZW50aXR5X2lkOiBzdWJzY3JpcHRpb24uaWQsXG4gICAgZW50aXR5X3R5cGU6IFwnc3Vic2NyaXB0aW9uXCcsXG4gICAgdGhpcmRfcGFydHlfZW50aXR5X2lkOiBzdGVwcy5jcmVhdGVEZWFsSW5IdWJzcG90LmRhdGEuZGVhbElkLFxuICAgIHN0YXR1czogXCdzeW5jZWRcJyxcbiAgICBvbGRfcmVzb3VyY2U6IEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbilcbn07XG5kb25lKHRydWUpOyc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "JavaScript:<br><pre>let subscription = steps.CBInfo.subscription;<br>steps.CustomersParam.sDList = Number(steps.CustomersParam.sDList) + 1;<br>steps.SyncLog.syncCount.sCount = steps.SyncLog.syncCount.sCount +1;<br>steps.DealInfo.updateQuery = {<br>    integration_name: steps.InputParams.input.type,<br>    entity_id: subscription.id,<br>    entity_type: 'subscription',<br>    third_party_entity_id: steps.createDealInHubspot.data.dealId,<br>    status: 'synced',<br>    old_resource: JSON.stringify(subscription)<br>};<br>done(true);</pre>"
            click step-085 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRlYWxDcmVhdGVFcnJvcjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5sZXQgc3Vic2NyaXB0aW9uID0gc3RlcHMuQ0JJbmZvLnN1YnNjcmlwdGlvbjs8YnI+PGJyPmxldCBhcGlLZXk9c3RlcHMuSW5wdXRQYXJhbXMuYXBpS2V5Ozxicj5sZXQgc2l0ZU5hbWU9c3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7PGJyPmxldCBzaXRlRG9tYWluPXN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW47PGJyPmxldCB0eXBlID0gc3RlcHMuSW5wdXRQYXJhbXMudHlwZTs8YnI+bGV0IHBhc3N3b3JkID0gJyc7PGJyPjxicj5zdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5lQ291bnQgPSBzdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5lQ291bnQgKzE7PGJyPiBsZXQgY2hhcmdlYmVlX2RhdGFfdXJsID0gJ2h0dHBzOi8vJytzaXRlTmFtZSsnLicrc2l0ZURvbWFpbisnL2FkbWluLWNvbnNvbGUvc3Vic2NyaXB0aW9ucy8nK3N1YnNjcmlwdGlvbi5pZDs8YnI+IGxldCBjYl9saW5rID0gJzxzcGFuPjw8L3NwYW4+YSBocmVmPScnK2NoYXJnZWJlZV9kYXRhX3VybCsnJyB0YXJnZXQ9J2JsYW5rJzxzcGFuPj48L3NwYW4+JytzdWJzY3JpcHRpb24uaWQrJzxzcGFuPjw8L3NwYW4+L2E8c3Bhbj4+PC9zcGFuPiBIdWJTcG90IGRlYWwgY3JlYXRlL3VwZGF0ZSBvcGVyYXRpb24gZmFpbGVkXG4nOzxicj4gbGV0IGRhdGEgPSB7PGJyPiAgIHVybDogJ2h0dHBzOi8vJyArIHNpdGVOYW1lICsgJy4nICsgc2l0ZURvbWFpbiArICcvYXBpL3YyL3RoaXJkX3BhcnR5X2VudGl0eV9tYXBwaW5ncy91cGRhdGVfZW50aXR5Jyw8YnI+ICBoZWFkZXJzOns8YnI+ICAgICAgICBBdXRob3JpemF0aW9uOiAnQmFzaWMgJyArIENFLmI2NChhcGlLZXkgKyAnOicgKyBwYXNzd29yZCk8YnI+ICAgICAgfSw8YnI+ICAgICAgcXVlcnk6ezxicj4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGUsPGJyPiAgICAgICAgZW50aXR5X2lkOiBzdWJzY3JpcHRpb24uaWQsPGJyPiAgICAgICAgZW50aXR5X3R5cGU6ICdzdWJzY3JpcHRpb24nLDxicj4gICAgICAgIHN0YXR1czogJ3VwZGF0ZV9mYWlsZWQnLDxicj4gICAgICAgIGVycm9yX21lc3NhZ2U6IGNiX2xpbms8YnI+ICAgICAgfSw8YnI+ICBhcGlLZXk6IGFwaUtleSw8YnI+ICBzaXRlTmFtZTogc2l0ZU5hbWUsPGJyPiAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbiw8YnI+ICB0eXBlOiAnaHVic3BvdCcsPGJyPiAgPGJyPn07PGJyPmRvbmUoZGF0YSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAndXBkYXRlVGhpcmRQYXJ0eUVycm9yNic8YnI+ICBdLDxicj4gICdvbkZhaWx1cmUnOiBbXSw8YnI+ICAnbmFtZSc6ICdEZWFsQ3JlYXRlRXJyb3InLDxicj4gICd0eXBlJzogJ3NjcmlwdCcsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdsZXQgc3Vic2NyaXB0aW9uID0gc3RlcHMuQ0JJbmZvLnN1YnNjcmlwdGlvbjtcblxubGV0IGFwaUtleT1zdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXk7XG5sZXQgc2l0ZU5hbWU9c3RlcHMuSW5wdXRQYXJhbXMuc2l0ZU5hbWU7XG5sZXQgc2l0ZURvbWFpbj1zdGVwcy5JbnB1dFBhcmFtcy5zaXRlRG9tYWluO1xubGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlO1xubGV0IHBhc3N3b3JkID0gXCdcJztcblxuc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ID0gc3RlcHMuU3luY0xvZy5zeW5jQ291bnQuZUNvdW50ICsxO1xuIGxldCBjaGFyZ2ViZWVfZGF0YV91cmwgPSBcJ2h0dHBzOi8vXCcrc2l0ZU5hbWUrXCcuXCcrc2l0ZURvbWFpbitcJy9hZG1pbi1jb25zb2xlL3N1YnNjcmlwdGlvbnMvXCcrc3Vic2NyaXB0aW9uLmlkO1xuIGxldCBjYl9saW5rID0gXCc8c3Bhbj48PC9zcGFuPmEgaHJlZj0nXCcrY2hhcmdlYmVlX2RhdGFfdXJsK1wnJyB0YXJnZXQ9J2JsYW5rJzxzcGFuPj48L3NwYW4+XCcrc3Vic2NyaXB0aW9uLmlkK1wnPHNwYW4+PDwvc3Bhbj4vYTxzcGFuPj48L3NwYW4+IEh1YlNwb3QgZGVhbCBjcmVhdGUvdXBkYXRlIG9wZXJhdGlvbiBmYWlsZWRcXG5cJztcbiBsZXQgZGF0YSA9IHtcbiAgIHVybDogXCdodHRwczovL1wnICsgc2l0ZU5hbWUgKyBcJy5cJyArIHNpdGVEb21haW4gKyBcJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL3VwZGF0ZV9lbnRpdHlcJyxcbiAgaGVhZGVyczp7XG4gICAgICAgIEF1dGhvcml6YXRpb246IFwnQmFzaWMgXCcgKyBDRS5iNjQoYXBpS2V5ICsgXCc6XCcgKyBwYXNzd29yZClcbiAgICAgIH0sXG4gICAgICBxdWVyeTp7XG4gICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGUsXG4gICAgICAgIGVudGl0eV9pZDogc3Vic2NyaXB0aW9uLmlkLFxuICAgICAgICBlbnRpdHlfdHlwZTogXCdzdWJzY3JpcHRpb25cJyxcbiAgICAgICAgc3RhdHVzOiBcJ3VwZGF0ZV9mYWlsZWRcJyxcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogY2JfbGlua1xuICAgICAgfSxcbiAgYXBpS2V5OiBhcGlLZXksXG4gIHNpdGVOYW1lOiBzaXRlTmFtZSxcbiAgc2l0ZURvbWFpbjogc2l0ZURvbWFpbixcbiAgdHlwZTogXCdodWJzcG90XCcsXG4gIFxufTtcbmRvbmUoZGF0YSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let subscription = steps.CBInfo.subscription;<br><br>let apiKey=steps.InputParams.apiKey;<br>let siteName=steps.InputParams.siteName;<br>let siteDomain=steps.InputParams.siteDomain;<br>let type = steps.InputParams.type;<br>let password = '';<br><br>steps.SyncLog.syncCount.eCount = steps.SyncLog.syncCount.eCount +1;<br> let chargebee_data_url = 'https://'+siteName+'.'+siteDomain+'/admin-console/subscriptions/'+subscription.id;<br> let cb_link = '<span><</span>a href=''+chargebee_data_url+'' target='blank'<span>></span>'+subscription.id+'<span><</span>/a<span>></span> HubSpot deal create/update operation failed\n';<br> let data = {<br>   url: 'https://' + siteName + '.' + siteDomain + '/api/v2/third_party_entity_mappings/update_entity',<br>  headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>      query:{<br>        integration_name: type,<br>        entity_id: subscription.id,<br>        entity_type: 'subscription',<br>        status: 'update_failed',<br>        error_message: cb_link<br>      },<br>  apiKey: apiKey,<br>  siteName: siteName,<br>  siteDomain: siteDomain,<br>  type: 'hubspot',<br>  <br>};<br>done(data);</pre>"
            click step-086 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkRlYWxUaGlyZFBhcnR5Q3JlYXRlUGFyYW08L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IHN1YnNjcmlwdGlvbiA9IHN0ZXBzLkNCSW5mby5zdWJzY3JpcHRpb247PGJyPnN0ZXBzLkN1c3RvbWVyc1BhcmFtLnNETGlzdCA9IE51bWJlcihzdGVwcy5DdXN0b21lcnNQYXJhbS5zRExpc3QpICsxOzxicj5zdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5zQ291bnQgPSBzdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5zQ291bnQgKzE7PGJyPnN0ZXBzLkRlYWxJbmZvLnVwZGF0ZVF1ZXJ5ID0gezxicj4gICAgaW50ZWdyYXRpb25fbmFtZTogc3RlcHMuSW5wdXRQYXJhbXMuaW5wdXQudHlwZSw8YnI+ICAgIGVudGl0eV9pZDogc3Vic2NyaXB0aW9uLmlkLDxicj4gICAgZW50aXR5X3R5cGU6ICdzdWJzY3JpcHRpb24nLDxicj4gICAgdGhpcmRfcGFydHlfZW50aXR5X2lkOiBzdGVwcy51cGRhdGVEZWFsSW5IdWJzcG90LmRhdGEuZGVhbElkLDxicj4gICAgc3RhdHVzOiAnc3luY2VkJyw8YnI+ICAgIG9sZF9yZXNvdXJjZTogSlNPTi5zdHJpbmdpZnkoc3Vic2NyaXB0aW9uKTxicj59Ozxicj5kb25lKHRydWUpOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ3NldERlYWxUaGlyZFBhcnR5Q3JlYXRlUGFyYW0nPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnRGVhbFRoaXJkUGFydHlDcmVhdGVQYXJhbScsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBzdWJzY3JpcHRpb24gPSBzdGVwcy5DQkluZm8uc3Vic2NyaXB0aW9uO1xuc3RlcHMuQ3VzdG9tZXJzUGFyYW0uc0RMaXN0ID0gTnVtYmVyKHN0ZXBzLkN1c3RvbWVyc1BhcmFtLnNETGlzdCkgKzE7XG5zdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5zQ291bnQgPSBzdGVwcy5TeW5jTG9nLnN5bmNDb3VudC5zQ291bnQgKzE7XG5zdGVwcy5EZWFsSW5mby51cGRhdGVRdWVyeSA9IHtcbiAgICBpbnRlZ3JhdGlvbl9uYW1lOiBzdGVwcy5JbnB1dFBhcmFtcy5pbnB1dC50eXBlLFxuICAgIGVudGl0eV9pZDogc3Vic2NyaXB0aW9uLmlkLFxuICAgIGVudGl0eV90eXBlOiBcJ3N1YnNjcmlwdGlvblwnLFxuICAgIHRoaXJkX3BhcnR5X2VudGl0eV9pZDogc3RlcHMudXBkYXRlRGVhbEluSHVic3BvdC5kYXRhLmRlYWxJZCxcbiAgICBzdGF0dXM6IFwnc3luY2VkXCcsXG4gICAgb2xkX3Jlc291cmNlOiBKU09OLnN0cmluZ2lmeShzdWJzY3JpcHRpb24pXG59O1xuZG9uZSh0cnVlKTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let subscription = steps.CBInfo.subscription;<br>steps.CustomersParam.sDList = Number(steps.CustomersParam.sDList) +1;<br>steps.SyncLog.syncCount.sCount = steps.SyncLog.syncCount.sCount +1;<br>steps.DealInfo.updateQuery = {<br>    integration_name: steps.InputParams.input.type,<br>    entity_id: subscription.id,<br>    entity_type: 'subscription',<br>    third_party_entity_id: steps.updateDealInHubspot.data.dealId,<br>    status: 'synced',<br>    old_resource: JSON.stringify(subscription)<br>};<br>done(true);</pre>"
            click step-087 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnNldERlYWxUaGlyZFBhcnR5Q3JlYXRlUGFyYW08L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+bGV0IGFwaUtleSA9IHN0ZXBzLklucHV0UGFyYW1zLmFwaUtleTxicj5sZXQgc2l0ZU5hbWUgPSBzdGVwcy5JbnB1dFBhcmFtcy5zaXRlTmFtZTxicj5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW48YnI+bGV0IHR5cGUgPSBzdGVwcy5JbnB1dFBhcmFtcy50eXBlPGJyPmxldCBwYXNzd29yZD0nJzxicj48YnI+PGJyPmxldCBwYXJhbXMgPSB7PGJyPiAgdXJsOiAnaHR0cHM6Ly8nICsgc3RlcHMuSW5wdXRQYXJhbXMuaW5wdXQuc2l0ZU5hbWUgKyAnLicgKyBzdGVwcy5JbnB1dFBhcmFtcy5pbnB1dC5zaXRlRG9tYWluICsgJy9hcGkvdjIvdGhpcmRfcGFydHlfZW50aXR5X21hcHBpbmdzL3VwZGF0ZV9lbnRpdHknLDxicj4gIGhlYWRlcnM6ezxicj4gICAgICAgIEF1dGhvcml6YXRpb246ICdCYXNpYyAnICsgQ0UuYjY0KGFwaUtleSArICc6JyArIHBhc3N3b3JkKTxicj4gICAgICB9LDxicj4gIGFwaUtleTogYXBpS2V5LDxicj4gIHNpdGVOYW1lOiBzaXRlTmFtZSw8YnI+ICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLDxicj4gIHR5cGU6ICdodWJzcG90Jyw8YnI+ICBib2R5OiB7PGJyPiAgICAgICAgICAgIGludGVncmF0aW9uX25hbWU6IHR5cGUsPGJyPiAgICAgICAgICAgIHNpdGVfbmFtZTogc2l0ZU5hbWUsPGJyPiAgICAgICAgICAgIGFwaV9rZXk6IGFwaUtleSw8YnI+ICAgICAgICB9LDxicj4gIHF1ZXJ5OiBzdGVwcy5EZWFsSW5mby51cGRhdGVRdWVyeTxicj4gICAgICAgIDxicj59Ozxicj5kb25lKHBhcmFtcyk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAndXBkYXRlVGhpcmRQYXJ0eURlYWwnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnc2V0RGVhbFRoaXJkUGFydHlDcmVhdGVQYXJhbScsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2xldCBhcGlLZXkgPSBzdGVwcy5JbnB1dFBhcmFtcy5hcGlLZXlcbmxldCBzaXRlTmFtZSA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVOYW1lXG5sZXQgc2l0ZURvbWFpbiA9IHN0ZXBzLklucHV0UGFyYW1zLnNpdGVEb21haW5cbmxldCB0eXBlID0gc3RlcHMuSW5wdXRQYXJhbXMudHlwZVxubGV0IHBhc3N3b3JkPVwnXCdcblxuXG5sZXQgcGFyYW1zID0ge1xuICB1cmw6IFwnaHR0cHM6Ly9cJyArIHN0ZXBzLklucHV0UGFyYW1zLmlucHV0LnNpdGVOYW1lICsgXCcuXCcgKyBzdGVwcy5JbnB1dFBhcmFtcy5pbnB1dC5zaXRlRG9tYWluICsgXCcvYXBpL3YyL3RoaXJkX3BhcnR5X2VudGl0eV9tYXBwaW5ncy91cGRhdGVfZW50aXR5XCcsXG4gIGhlYWRlcnM6e1xuICAgICAgICBBdXRob3JpemF0aW9uOiBcJ0Jhc2ljIFwnICsgQ0UuYjY0KGFwaUtleSArIFwnOlwnICsgcGFzc3dvcmQpXG4gICAgICB9LFxuICBhcGlLZXk6IGFwaUtleSxcbiAgc2l0ZU5hbWU6IHNpdGVOYW1lLFxuICBzaXRlRG9tYWluOiBzaXRlRG9tYWluLFxuICB0eXBlOiBcJ2h1YnNwb3RcJyxcbiAgYm9keToge1xuICAgICAgICAgICAgaW50ZWdyYXRpb25fbmFtZTogdHlwZSxcbiAgICAgICAgICAgIHNpdGVfbmFtZTogc2l0ZU5hbWUsXG4gICAgICAgICAgICBhcGlfa2V5OiBhcGlLZXksXG4gICAgICAgIH0sXG4gIHF1ZXJ5OiBzdGVwcy5EZWFsSW5mby51cGRhdGVRdWVyeVxuICAgICAgICBcbn07XG5kb25lKHBhcmFtcyk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>let apiKey = steps.InputParams.apiKey<br>let siteName = steps.InputParams.siteName<br>let siteDomain = steps.InputParams.siteDomain<br>let type = steps.InputParams.type<br>let password=''<br><br><br>let params = {<br>  url: 'https://' + steps.InputParams.input.siteName + '.' + steps.InputParams.input.siteDomain + '/api/v2/third_party_entity_mappings/update_entity',<br>  headers:{<br>        Authorization: 'Basic ' + CE.b64(apiKey + ':' + password)<br>      },<br>  apiKey: apiKey,<br>  siteName: siteName,<br>  siteDomain: siteDomain,<br>  type: 'hubspot',<br>  body: {<br>            integration_name: type,<br>            site_name: siteName,<br>            api_key: apiKey,<br>        },<br>  query: steps.DealInfo.updateQuery<br>        <br>};<br>done(params);</pre>"
            click step-088 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZVRoaXJkUGFydHlFcnJvcjY8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5PdGhlciAoZm9ybXVsYSk6PC9iPjxicj48YnI+PHByZT4gIGZvcm11bGFJZCA6IDMxMzMxPGJyPiAgICAgICBhcmdzIDogJHtzdGVwcy5EZWFsQ3JlYXRlRXJyb3J9PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAndXBkYXRlVGhpcmRQYXJ0eUVycm9yQVBJUmVzcG9uc2U2Jzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3VwZGF0ZVRoaXJkUGFydHlFcnJvcjYnLDxicj4gICd0eXBlJzogJ2Zvcm11bGEnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2Zvcm11bGFJZCc6ICczMTMzMScsPGJyPiAgICAnYXJncyc6ICcke3N0ZXBzLkRlYWxDcmVhdGVFcnJvcn0nPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "Other (formula):<br><pre>  formulaId : 31331<br>       args : ${steps.DealCreateError}</pre>"
            click step-089 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZVRoaXJkUGFydHlEZWFsPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+T3RoZXIgKGZvcm11bGEpOjwvYj48YnI+PGJyPjxwcmU+ICBmb3JtdWxhSWQgOiAzMTMzMTxicj4gICAgICAgYXJncyA6ICR7c3RlcHMuc2V0RGVhbFRoaXJkUGFydHlDcmVhdGVQYXJhbX08L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdnZXR1cGRhdGVUaGlyZFBhcnR5RGVhbEFQSVJlc3BvbnNlJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ3VwZGF0ZVRoaXJkUGFydHlEZWFsJyw8YnI+ICAndHlwZSc6ICdmb3JtdWxhJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdmb3JtdWxhSWQnOiAnMzEzMzEnLDxicj4gICAgJ2FyZ3MnOiAnJHtzdGVwcy5zZXREZWFsVGhpcmRQYXJ0eUNyZWF0ZVBhcmFtfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 31331<br>       args : ${steps.setDealThirdPartyCreateParam}</pre>"
            click step-090 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnVwZGF0ZVRoaXJkUGFydHlFcnJvckFQSVJlc3BvbnNlNjwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPkphdmFTY3JpcHQ6PC9iPjxicj48YnI+PHByZT5pZihzdGVwcy51cGRhdGVUaGlyZFBhcnR5RXJyb3I2LmNiX3N0YXR1cz09PSdzdWNjZXNzJykgezxicj4gIGRvbmUodHJ1ZSk7PGJyPn1lbHNlIHs8YnI+ICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMudXBkYXRlVGhpcmRQYXJ0eUVycm9yNi5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnTG9vcE92ZXJTdWJzY3JpcHRpb25zJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ3VwZGF0ZVRoaXJkUGFydHlFcnJvckFQSVJlc3BvbnNlNicsPGJyPiAgJ3R5cGUnOiAnZmlsdGVyJyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ2lmKHN0ZXBzLnVwZGF0ZVRoaXJkUGFydHlFcnJvcjYuY2Jfc3RhdHVzPT09XCdzdWNjZXNzXCcpIHtcbiAgZG9uZSh0cnVlKTtcbn1lbHNlIHtcbiAgIHN0ZXBzLklucHV0UGFyYW1zLmVycm9yQ29kZSA9IHN0ZXBzLnVwZGF0ZVRoaXJkUGFydHlFcnJvcjYuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.updateThirdPartyError6.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.updateThirdPartyError6.cb_error_code;<br>  done(false);<br>}</pre>"
            click step-091 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldHVwZGF0ZVRoaXJkUGFydHlEZWFsQVBJUmVzcG9uc2U8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+aWYoc3RlcHMudXBkYXRlVGhpcmRQYXJ0eURlYWwuY2Jfc3RhdHVzPT09J3N1Y2Nlc3MnKSB7PGJyPiAgZG9uZSh0cnVlKTs8YnI+fWVsc2Ugezxicj4gICBzdGVwcy5JbnB1dFBhcmFtcy5lcnJvckNvZGUgPSBzdGVwcy51cGRhdGVUaGlyZFBhcnR5RGVhbC5jYl9lcnJvcl9jb2RlOzxicj4gIGRvbmUoZmFsc2UpOzxicj59PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnTG9vcE92ZXJTdWJzY3JpcHRpb25zJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFs8YnI+ICAgICdzZXRTeW5jRGV0YWlscyc8YnI+ICBdLDxicj4gICduYW1lJzogJ2dldHVwZGF0ZVRoaXJkUGFydHlEZWFsQVBJUmVzcG9uc2UnLDxicj4gICd0eXBlJzogJ2ZpbHRlcicsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnYm9keSc6ICdpZihzdGVwcy51cGRhdGVUaGlyZFBhcnR5RGVhbC5jYl9zdGF0dXM9PT1cJ3N1Y2Nlc3NcJykge1xuICBkb25lKHRydWUpO1xufWVsc2Uge1xuICAgc3RlcHMuSW5wdXRQYXJhbXMuZXJyb3JDb2RlID0gc3RlcHMudXBkYXRlVGhpcmRQYXJ0eURlYWwuY2JfZXJyb3JfY29kZTtcbiAgZG9uZShmYWxzZSk7XG59Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre>if(steps.updateThirdPartyDeal.cb_status==='success') {<br>  done(true);<br>}else {<br>   steps.InputParams.errorCode = steps.updateThirdPartyDeal.cb_error_code;<br>  done(false);<br>}</pre>"

        </div>
    </div>
    <h2>
        Formula Configuration
    </h2>
    <div class="container">
        <h3>Basic</h3><table><tr><th>key</th><th>value</th></tr><tr><td>Name</td><td>HubSpotFullSyncDeals</td></tr><tr><td>Single Threaded?</td><td>false</td></tr><tr><td>Active?</td><td>true</td></tr><tr><td>Number of Steps</td><td>117</td></tr><tr><td>Number of Triggers</td><td>1</td></tr></table>
    <br/><h3>Elements</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table>
    <br/><h3>Values</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table><br/>
    </div>
    <div class="key">
        <h2>
            Key
        </h2>
        <table>
            <tr>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
            </tr>

            <tr>
                <td>Filter Steps</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A{Step Name}
                    </div>
                </td>
                <td>Trigger/End</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        B((Actual))
                        C((Generated))
                        style C stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Request Step</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A>GET]
                        style A stroke:#0f6ab4;
                    </div>
                    <div class="mermaid">
                        graph TD
                        B>POST]
                        style B stroke:#10a54a;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PATCH]
                        style C stroke:#D38042;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PUT]
                        style C stroke:#C5862B;
                    </div>
                    <div class="mermaid">
                        graph TD
                        D>DELETE]
                        style D stroke:#a41e22;
                    </div>
                </td>
            </tr>
            <tr>
                <td>Script</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(Step Name)
                    </div>
                </td>
                <td>Loop</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(-Step Name-)
                    </div>
                </td>
                <td>Other(TYPE)</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D[Step Name]
                    </div>
                </td>
            </tr>
            <tr>
                <td>Pass/Fail Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL-->BL
                    </div>
                </td>
                <td>Generated Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL((B))
                        AL-.->BL
                        style BL stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Continue Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL==>BL
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>
</body>
</html>