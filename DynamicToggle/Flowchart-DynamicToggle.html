<!DOCTYPE html>
<html lang="en">
<head>
    <title>DynamicToggle</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.css" rel="stylesheet" type="text/css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/6.0.0/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>
        var callback = function(){}
    </script>
    <style>
        div.mermaidTooltip {
                    margin-left: 50px;
                    text-align: left;
                    max-width: none;
                }
        .node rect,
        .node circle,
        .node ellipse,
        .node polygon {
                    fill: #ffffff;
                    stroke: rgb(200,200,200);
                    stroke-width: 2px;
                }
        .mermaid .label {
                  max-width: 50px;
                }
        table, th, td {
                    border: 1px solid black;
                }
        table {
                    border-spacing: 5px;
                    border-radius: 5px;
                    margin: auto;
                }
        th, td {
                    padding-left: 15px;
                    padding-right: 15px;
                    border-radius: 5px;
                }
        th {
                    color: blue;
                }
        td {
                    width: 180px;
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                }
        h2 {
                    text-align: center;
                    border: 1px solid black;
                    border-radius: 5px;
                    padding: 1em;
                }
        .container {
                    text-align: center;
                    background-color: rgb(237, 241, 242);
                    font-size: 11px;
                    font-weight: 900;
                }
        body {
                    font-family: 'Arial';
                }
        .edgeLabel {
                    font-size: 9px;
                }
    </style>
</head>
<body>
    <h2>
        DynamicToggle
    </h2>
    <div class="container">
        <div class="mermaid">
            graph TD

                step-000((Trigger))
            step-001(InputParams)
            step-002(EnvProps)
            step-003[getLifeCycleStages]
            step-004(Success)
            step-005((END))

                step-000== continue ==>step-001
            step-001-- success -->step-002
            step-002-- success -->step-003
            step-003-- success -->step-004
            step-004-. done .->step-005

                style step-005 stroke-width:3px,stroke-dasharray: 5, 5;

                click step-000 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPnRyaWdnZXI8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5UcmlnZ2VyIEVsZW1lbnQ6PC9iPjxicj48YnI+PHByZT4gICB0eXBlIDogbWFudWFsPGJyPiAgYXN5bmMgOiB0cnVlPC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnSW5wdXRQYXJhbXMnPGJyPiAgXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ3R5cGUnOiAnbWFudWFsJyw8YnI+ICAnYXN5bmMnOiB0cnVlLDxicj4gICduYW1lJzogJ3RyaWdnZXInLDxicj4gICdwcm9wZXJ0aWVzJzoge308YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "Trigger Element:<br><pre>   type : manual<br>  async : true</pre>"
            click step-001 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPklucHV0UGFyYW1zPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPjxicj5sZXQgZ2V0UmVxdWV0QXJncyA9IChhcmcpPTxzcGFuPj48L3NwYW4+ezxicj4gICAgbGV0IHRyaWdnZXJBcmd1bWVudCA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5W2FyZ107PGJyPiAgICAgICAgaWYodHJpZ2dlckFyZ3VtZW50ICE9PSB1bmRlZmluZWQpIDxicj4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlckFyZ3VtZW50Ozxicj4gICAgICAgIGVsc2V7PGJyPiAgICAgICAgICAgIHJldHVybiAnc2VsZWN0Jzs8YnI+ICAgICAgICB9PGJyPiAgICB9PGJyPjxicj5sZXQgTm9TdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdOb1N1YnNjcmlwdGlvbicpOzxicj5sZXQgVHJpYWxTdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdUcmlhbFN1YnNjcmlwdGlvbicpOzxicj5sZXQgQWN0aXZlU3Vic2NyaXB0aW9uID0gZ2V0UmVxdWV0QXJncygnQWN0aXZlU3Vic2NyaXB0aW9uJyk7PGJyPmxldCBDYW5jZWxlZFN1YnNjcmlwdGlvbiA9IGdldFJlcXVldEFyZ3MoJ0NhbmNlbGVkU3Vic2NyaXB0aW9uJyk7PGJyPjxicj5sZXQgcGFyYW1zID0gezxicj4gICAgTm9TdWJzY3JpcHRpb24gOiBOb1N1YnNjcmlwdGlvbiw8YnI+ICAgIFRyaWFsU3Vic2NyaXB0aW9uIDogVHJpYWxTdWJzY3JpcHRpb24sPGJyPiAgICBBY3RpdmVTdWJzY3JpcHRpb24gOiBBY3RpdmVTdWJzY3JpcHRpb24sPGJyPiAgICBDYW5jZWxlZFN1YnNjcmlwdGlvbiA6IENhbmNlbGVkU3Vic2NyaXB0aW9uPGJyPn07PGJyPmRvbmUoe3BhcmFtcyA6IHBhcmFtc30pOzwvcHJlPjxicj48Yj5SQVcgSlNPTjo8L2I+PGJyPjxicj48cHJlPns8YnI+ICAnb25TdWNjZXNzJzogWzxicj4gICAgJ0VudlByb3BzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0lucHV0UGFyYW1zJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnXG5sZXQgZ2V0UmVxdWV0QXJncyA9IChhcmcpPTxzcGFuPj48L3NwYW4+e1xuICAgIGxldCB0cmlnZ2VyQXJndW1lbnQgPSB0cmlnZ2VyLmFyZ3MucmVxdWVzdC5xdWVyeVthcmddO1xuICAgICAgICBpZih0cmlnZ2VyQXJndW1lbnQgIT09IHVuZGVmaW5lZCkgXG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlckFyZ3VtZW50O1xuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmV0dXJuIFwnc2VsZWN0XCc7XG4gICAgICAgIH1cbiAgICB9XG5cbmxldCBOb1N1YnNjcmlwdGlvbiA9IGdldFJlcXVldEFyZ3MoJ05vU3Vic2NyaXB0aW9uJyk7XG5sZXQgVHJpYWxTdWJzY3JpcHRpb24gPSBnZXRSZXF1ZXRBcmdzKCdUcmlhbFN1YnNjcmlwdGlvbicpO1xubGV0IEFjdGl2ZVN1YnNjcmlwdGlvbiA9IGdldFJlcXVldEFyZ3MoJ0FjdGl2ZVN1YnNjcmlwdGlvbicpO1xubGV0IENhbmNlbGVkU3Vic2NyaXB0aW9uID0gZ2V0UmVxdWV0QXJncygnQ2FuY2VsZWRTdWJzY3JpcHRpb24nKTtcblxubGV0IHBhcmFtcyA9IHtcbiAgICBOb1N1YnNjcmlwdGlvbiA6IE5vU3Vic2NyaXB0aW9uLFxuICAgIFRyaWFsU3Vic2NyaXB0aW9uIDogVHJpYWxTdWJzY3JpcHRpb24sXG4gICAgQWN0aXZlU3Vic2NyaXB0aW9uIDogQWN0aXZlU3Vic2NyaXB0aW9uLFxuICAgIENhbmNlbGVkU3Vic2NyaXB0aW9uIDogQ2FuY2VsZWRTdWJzY3JpcHRpb25cbn07XG5kb25lKHtwYXJhbXMgOiBwYXJhbXN9KTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre><br>let getRequetArgs = (arg)=<span>></span>{<br>    let triggerArgument = trigger.args.request.query[arg];<br>        if(triggerArgument !== undefined) <br>            return triggerArgument;<br>        else{<br>            return 'select';<br>        }<br>    }<br><br>let NoSubscription = getRequetArgs('NoSubscription');<br>let TrialSubscription = getRequetArgs('TrialSubscription');<br>let ActiveSubscription = getRequetArgs('ActiveSubscription');<br>let CanceledSubscription = getRequetArgs('CanceledSubscription');<br><br>let params = {<br>    NoSubscription : NoSubscription,<br>    TrialSubscription : TrialSubscription,<br>    ActiveSubscription : ActiveSubscription,<br>    CanceledSubscription : CanceledSubscription<br>};<br>done({params : params});</pre>"
            click step-002 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPkVudlByb3BzPC90aXRsZT48L2hlYWQ+PGJvZHk+PGI+SmF2YVNjcmlwdDo8L2I+PGJyPjxicj48cHJlPmxldCBjbG91ZEVsZW1lbnRzVXJsID0gJ2h0dHBzOi8vc3RhZ2luZy5jbG91ZC1lbGVtZW50cy5jb20vZWxlbWVudHMvYXBpLXYyJzs8YnI+PGJyPmRvbmUoezxicj4gIGNsb3VkRWxlbWVudHNVcmw6IGNsb3VkRWxlbWVudHNVcmw8YnI+fSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbPGJyPiAgICAnZ2V0TGlmZUN5Y2xlU3RhZ2VzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ0VudlByb3BzJyw8YnI+ICAndHlwZSc6ICdzY3JpcHQnLDxicj4gICdwcm9wZXJ0aWVzJzogezxicj4gICAgJ2JvZHknOiAnbGV0IGNsb3VkRWxlbWVudHNVcmwgPSBcJ2h0dHBzOi8vc3RhZ2luZy5jbG91ZC1lbGVtZW50cy5jb20vZWxlbWVudHMvYXBpLXYyXCc7XG5cbmRvbmUoe1xuICBjbG91ZEVsZW1lbnRzVXJsOiBjbG91ZEVsZW1lbnRzVXJsXG59KTsnPGJyPiAgfTxicj59PC9wcmU+PC9ib2R5PjwvaHRtbD4='));document.close();" "JavaScript:<br><pre>let cloudElementsUrl = 'https://staging.cloud-elements.com/elements/api-v2';<br><br>done({<br>  cloudElementsUrl: cloudElementsUrl<br>});</pre>"
            click step-003 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPmdldExpZmVDeWNsZVN0YWdlczwvdGl0bGU+PC9oZWFkPjxib2R5PjxiPk90aGVyIChmb3JtdWxhKTo8L2I+PGJyPjxicj48cHJlPiAgZm9ybXVsYUlkIDogMzQ3NTg8YnI+ICAgICAgIGFyZ3MgOiAke3N0ZXBzLklucHV0UGFyYW1zLnBhcmFtc308L3ByZT48YnI+PGI+UkFXIEpTT046PC9iPjxicj48YnI+PHByZT57PGJyPiAgJ29uU3VjY2Vzcyc6IFs8YnI+ICAgICdTdWNjZXNzJzxicj4gIF0sPGJyPiAgJ29uRmFpbHVyZSc6IFtdLDxicj4gICduYW1lJzogJ2dldExpZmVDeWNsZVN0YWdlcycsPGJyPiAgJ3R5cGUnOiAnZm9ybXVsYScsPGJyPiAgJ3Byb3BlcnRpZXMnOiB7PGJyPiAgICAnZm9ybXVsYUlkJzogJzM0NzU4Jyw8YnI+ICAgICdhcmdzJzogJyR7c3RlcHMuSW5wdXRQYXJhbXMucGFyYW1zfSc8YnI+ICB9PGJyPn08L3ByZT48L2JvZHk+PC9odG1sPg=='));document.close();" "Other (formula):<br><pre>  formulaId : 34758<br>       args : ${steps.InputParams.params}</pre>"
            click step-004 "javascript:document.open();document.write(window.atob('PGh0bWw+PGhlYWQ+PHRpdGxlPlN1Y2Nlc3M8L3RpdGxlPjwvaGVhZD48Ym9keT48Yj5KYXZhU2NyaXB0OjwvYj48YnI+PGJyPjxwcmU+PGJyPmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTs8YnI+PGJyPmxldCBxdWVyeSA9IHRyaWdnZXIuYXJncy5yZXF1ZXN0LnF1ZXJ5Ozxicj5sZXQgZ2V0RGVmYXVsdCA9IChwYXJhbSxkZWZhdWx0VmFsdWUpPTxzcGFuPj48L3NwYW4+eyA8YnI+ICBpZihxdWVyeVtwYXJhbV0gIT09IHVuZGVmaW5lZCkgeyA8YnI+ICAgIHJldHVybiBxdWVyeVtwYXJhbV07fTxicj4gIHJldHVybiBkZWZhdWx0VmFsdWU7PGJyPn08YnI+bGV0IEh1YnNwb3RTdGFnZVRvZ2dsZSA9IGdldERlZmF1bHQoJ0h1YnNwb3RTdGFnZVRvZ2dsZScsICdmYWxzZScpOzxicj5sZXQgQ3VzdG9tZXJzVG9TeW5jID0gZ2V0RGVmYXVsdCgnQ3VzdG9tZXJzVG9TeW5jJywgJ0FsbF9DdXN0b21lcnMnKTs8YnI+bGV0IEh1YlNwb3RDb250YWN0Tm9NYXRjaCA9IGdldERlZmF1bHQoJ0h1YlNwb3RDb250YWN0Tm9NYXRjaCcsICdDcmVhdGVfY29udGFjdCcpOzxicj5sZXQgSHViU3BvdENvbnRhY3RNYXRjaCA9IGdldERlZmF1bHQoJ0h1YlNwb3RDb250YWN0TWF0Y2gnLCAnVXBkYXRlX2VtcHR5X0h1YnNwb3RfZmllbGRzJyk7PGJyPjxicj5sZXQgY2xvdWRFbGVtZW50c1VybCA9IHN0ZXBzLkVudlByb3BzLmNsb3VkRWxlbWVudHNVcmw7PGJyPmxldCBjYXJkOzxicj48YnI+bGV0IGluc3RhbmNlSWQgPSBpbmZvLmZvcm11bGFJbnN0YW5jZUlkOzxicj48YnI+bGV0IGR5bmFtaWNSZXF1ZXN0ID0gIHs8YnI+ICB0eXBlOiAnT05fQ0hBTkdFX0ZFVENIX0lOUFVUJyw8YnI+ICBhcGlFbmRQb2ludDogezxicj4gICAgYXBpVXJsOiBjbG91ZEVsZW1lbnRzVXJsKycvaHVic3BvdC9zdGFnZXN0b2dnbGUnLDxicj4gICAgdHlwZTogJ0dFVCcsPGJyPiAgICBoZWFkZXJzOiB7PGJyPiAgICAgICdFbGVtZW50cy1Gb3JtdWxhLUluc3RhbmNlLUlkJzogaW5zdGFuY2VJZCw8YnI+ICAgIH08YnI+ICB9LDxicj59Ozxicj48YnI+bGV0IHN0YWdlcyA9IHN0ZXBzLmdldExpZmVDeWNsZVN0YWdlcy5zdGFnZXM7PGJyPjxicj4gICAgY2FyZCA9IHs8YnI+ICAgICAgICAnY2FyZHMnOiBbPGJyPiAgICAgICAgICAgIHs8YnI+ICAgICAgICAgICAgICAgICdjYXJkJzogezxicj4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ0RZTkFNSUNfSU5QVVQnLDxicj4gICAgICAgICAgICAgICAgICAgICdwYXJhbXMnOiBbPGJyPiAgICAgICAgICAgICAgICAgICAgICAgIHs8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwTmFtZSc6ICdDaG9vc2UgY3VzdG9tZXJzIHlvdSdkIGxpa2UgdG8gc3luYycsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVxJzogJ3RydWUnLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnRFJPUERPV04nLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ0N1c3RvbWVyc1RvU3luYycsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWxsb3dlZFZhbHVlcyc6IHs8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWxsX0N1c3RvbWVycyc6ICdBbGwgQ3VzdG9tZXJzJyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJzX3dpdGhfQWN0aXZlX3N1YnNjcmlwdGlvbnMnOiAnQ3VzdG9tZXJzIHdpdGggQWN0aXZlIHN1YnNjcmlwdGlvbnMnPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHRWYWwnOiBDdXN0b21lcnNUb1N5bmM8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgezxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BOYW1lJzogJ0Nob29zZSB3aGF0IGhhcHBlbnMgd2hlbiBhIGN1c3RvbWVyIGluIENoYXJnZWJlZSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcgY29udGFjdCBpbiBIdWJTcG90Jyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXEnOiAndHJ1ZScsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdEUk9QRE9XTicsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnSHViU3BvdENvbnRhY3ROb01hdGNoJyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZXNjJzogJ0NoYXJnZWJlZSB3aWxsIG1hdGNoIGN1c3RvbWVycyB3aXRoIGNvbnRhY3RzIGluIEh1YlNwb3QgdXNpbmcgdGhlIEVtYWlsIElEIGZpZWxkLiBXaGVuIG5vIG1hdGNoaW5nIGNvbnRhY3RzIGFyZSBmb3VuZCwgeW91IGNhbiBjaG9vc2UgdG8gY3JlYXRlIGEgY29udGFjdCBpbiBIdWJTcG90IG9yIGRvIG5vdGhpbmcnLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FsbG93ZWRWYWx1ZXMnOiB7PGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZV9jb250YWN0JzogJ0NyZWF0ZSBjb250YWN0Jyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRG9fbm90aGluZyc6ICdEbyBub3RoaW5nJzxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkZWZhdWx0VmFsJzogSHViU3BvdENvbnRhY3ROb01hdGNoPGJyPiAgICAgICAgICAgICAgICAgICAgICAgIH0sPGJyPiAgICAgICAgICAgICAgICAgICAgICAgIHs8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwTmFtZSc6ICdDaG9vc2Ugd2hhdCBoYXBwZW5zIHdoZW4gYSBjdXN0b21lciBpbiBDaGFyZ2ViZWUgaGFzIGEgbWF0Y2hpbmcgY29udGFjdCBpbiBIdWJTcG90LjxzcGFuPjw8L3NwYW4+YSBocmVmPSdodHRwczovL3d3dy5jaGFyZ2ViZWUuY29tL2RvY3MvaHVic3BvdC5odG1sJyB0YXJnZXQ9J2JsYW5rJzxzcGFuPj48L3NwYW4+TGVhcm4gbW9yZTxzcGFuPjw8L3NwYW4+L2E8c3Bhbj4+PC9zcGFuPicsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVxJzogJ3RydWUnLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnRFJPUERPV04nLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ0h1YlNwb3RDb250YWN0TWF0Y2gnLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rlc2MnOiAnWW91IGNhbiBjaG9vc2UgdG8gdXBkYXRlIGVtcHR5IGZpZWxkcyBvciBvdmVycmlkZSBleGlzdGluZyBmaWVsZHMgaW4gSHViU3BvdCB3aXRoIGN1c3RvbWVyIGRldGFpbHMgZnJvbSBDaGFyZ2ViZWUuICcsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWxsb3dlZFZhbHVlcyc6IHs8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBkYXRlX2VtcHR5X0h1YnNwb3RfZmllbGRzJzogJ1VwZGF0ZSBlbXB0eSBIdWJTcG90IGZpZWxkcycsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ092ZXJyaWRlX3RoZV9maWVsZHMnOiAnT3ZlcnJpZGUgdGhlIGZpZWxkcyc8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdFZhbCc6IEh1YlNwb3RDb250YWN0TWF0Y2g8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgfSw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgeyAgICAgICA8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwTmFtZSc6J1N5bmMgYW5kIFVwZGF0ZSBMaWZlY3ljbGUgc3RhZ2VzIGluIEh1YnNwb3QnLDxicj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVzYyc6J1lvdSBjYW4gbWFwIHN1YnNjcmlwdGlvbiBzdGF0dXMgb2YgeW91ciBDaGFyZ2ViZWUgY3VzdG9tZXJzIHRvIHRoZSBkaWZmZXJlbnQgbGlmZWN5Y2xlIHN0YWdlcyBvZiBhIGNvbnRhY3QgaW4gSHVic3BvdCcsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzonVE9HR0xFJyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzonSHVic3BvdFN0YWdlVG9nZ2xlJyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHRWYWwnOiBIdWJzcG90U3RhZ2VUb2dnbGUsPGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpc0R5bmFtaWMnOid0cnVlJyw8YnI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcXVlc3QnOiBkeW5hbWljUmVxdWVzdDxicj4gICAgICAgICAgICAgICAgICAgICAgICB9PGJyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj4gICAgICAgICAgICAgICAgICAgIF08YnI+ICAgICAgICAgICAgICAgIH0sPGJyPiAgICAgICAgICAgICAgICAnaWQnOiAnY2hlY2sxJyw8YnI+ICAgICAgICAgICAgICAgICdpc0NhcmREb25lJzogdHJ1ZTxicj4gICAgICAgICAgICB9PGJyPiAgICAgICAgXTxicj4gICAgfTs8YnI+PGJyPmlmKEh1YnNwb3RTdGFnZVRvZ2dsZSA9PT0gJ3RydWUnKTxicj57PGJyPiAgICBsZXQgbmV3UGFyYW1zID0gXy5jb25jYXQoY2FyZC5jYXJkc1swXS5jYXJkLnBhcmFtcywgc3RhZ2VzKTs8YnI+ICAgIGNhcmQuY2FyZHNbMF0uY2FyZC5wYXJhbXMgPSBuZXdQYXJhbXM7PGJyPn08YnI+PGJyPmRvbmUoezxicj4gICAgcmVzdWx0OiBjYXJkPGJyPiAgfSk7PC9wcmU+PGJyPjxiPlJBVyBKU09OOjwvYj48YnI+PGJyPjxwcmU+ezxicj4gICdvblN1Y2Nlc3MnOiBbXSw8YnI+ICAnb25GYWlsdXJlJzogW10sPGJyPiAgJ25hbWUnOiAnU3VjY2VzcycsPGJyPiAgJ3R5cGUnOiAnc2NyaXB0Jyw8YnI+ICAncHJvcGVydGllcyc6IHs8YnI+ICAgICdib2R5JzogJ1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5sZXQgcXVlcnkgPSB0cmlnZ2VyLmFyZ3MucmVxdWVzdC5xdWVyeTtcbmxldCBnZXREZWZhdWx0ID0gKHBhcmFtLGRlZmF1bHRWYWx1ZSk9PHNwYW4+Pjwvc3Bhbj57IFxuICBpZihxdWVyeVtwYXJhbV0gIT09IHVuZGVmaW5lZCkgeyBcbiAgICByZXR1cm4gcXVlcnlbcGFyYW1dO31cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbmxldCBIdWJzcG90U3RhZ2VUb2dnbGUgPSBnZXREZWZhdWx0KFwnSHVic3BvdFN0YWdlVG9nZ2xlXCcsIFwnZmFsc2VcJyk7XG5sZXQgQ3VzdG9tZXJzVG9TeW5jID0gZ2V0RGVmYXVsdChcJ0N1c3RvbWVyc1RvU3luY1wnLCBcJ0FsbF9DdXN0b21lcnNcJyk7XG5sZXQgSHViU3BvdENvbnRhY3ROb01hdGNoID0gZ2V0RGVmYXVsdChcJ0h1YlNwb3RDb250YWN0Tm9NYXRjaFwnLCBcJ0NyZWF0ZV9jb250YWN0XCcpO1xubGV0IEh1YlNwb3RDb250YWN0TWF0Y2ggPSBnZXREZWZhdWx0KFwnSHViU3BvdENvbnRhY3RNYXRjaFwnLCBcJ1VwZGF0ZV9lbXB0eV9IdWJzcG90X2ZpZWxkc1wnKTtcblxubGV0IGNsb3VkRWxlbWVudHNVcmwgPSBzdGVwcy5FbnZQcm9wcy5jbG91ZEVsZW1lbnRzVXJsO1xubGV0IGNhcmQ7XG5cbmxldCBpbnN0YW5jZUlkID0gaW5mby5mb3JtdWxhSW5zdGFuY2VJZDtcblxubGV0IGR5bmFtaWNSZXF1ZXN0ID0gIHtcbiAgdHlwZTogXCdPTl9DSEFOR0VfRkVUQ0hfSU5QVVRcJyxcbiAgYXBpRW5kUG9pbnQ6IHtcbiAgICBhcGlVcmw6IGNsb3VkRWxlbWVudHNVcmwrXCcvaHVic3BvdC9zdGFnZXN0b2dnbGVcJyxcbiAgICB0eXBlOiBcJ0dFVFwnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwnRWxlbWVudHMtRm9ybXVsYS1JbnN0YW5jZS1JZFwnOiBpbnN0YW5jZUlkLFxuICAgIH1cbiAgfSxcbn07XG5cbmxldCBzdGFnZXMgPSBzdGVwcy5nZXRMaWZlQ3ljbGVTdGFnZXMuc3RhZ2VzO1xuXG4gICAgY2FyZCA9IHtcbiAgICAgICAgXCdjYXJkc1wnOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCdjYXJkXCc6IHtcbiAgICAgICAgICAgICAgICAgICAgXCd0eXBlXCc6IFwnRFlOQU1JQ19JTlBVVFwnLFxuICAgICAgICAgICAgICAgICAgICBcJ3BhcmFtc1wnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdkaXNwTmFtZVwnOiBcJ0Nob29zZSBjdXN0b21lcnMgeW91J2QgbGlrZSB0byBzeW5jXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdyZXFcJzogXCd0cnVlXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCd0eXBlXCc6IFwnRFJPUERPV05cJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ2lkXCc6IFwnQ3VzdG9tZXJzVG9TeW5jXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdhbGxvd2VkVmFsdWVzXCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdBbGxfQ3VzdG9tZXJzXCc6IFwnQWxsIEN1c3RvbWVyc1wnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ0N1c3RvbWVyc193aXRoX0FjdGl2ZV9zdWJzY3JpcHRpb25zXCc6IFwnQ3VzdG9tZXJzIHdpdGggQWN0aXZlIHN1YnNjcmlwdGlvbnNcJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdkZWZhdWx0VmFsXCc6IEN1c3RvbWVyc1RvU3luY1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ2Rpc3BOYW1lXCc6IFwnQ2hvb3NlIHdoYXQgaGFwcGVucyB3aGVuIGEgY3VzdG9tZXIgaW4gQ2hhcmdlYmVlIGRvZXMgbm90IGhhdmUgYSBtYXRjaGluZyBjb250YWN0IGluIEh1YlNwb3RcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ3JlcVwnOiBcJ3RydWVcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdEUk9QRE9XTlwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnaWRcJzogXCdIdWJTcG90Q29udGFjdE5vTWF0Y2hcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ2Rlc2NcJzogXCdDaGFyZ2ViZWUgd2lsbCBtYXRjaCBjdXN0b21lcnMgd2l0aCBjb250YWN0cyBpbiBIdWJTcG90IHVzaW5nIHRoZSBFbWFpbCBJRCBmaWVsZC4gV2hlbiBubyBtYXRjaGluZyBjb250YWN0cyBhcmUgZm91bmQsIHlvdSBjYW4gY2hvb3NlIHRvIGNyZWF0ZSBhIGNvbnRhY3QgaW4gSHViU3BvdCBvciBkbyBub3RoaW5nXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdhbGxvd2VkVmFsdWVzXCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdDcmVhdGVfY29udGFjdFwnOiBcJ0NyZWF0ZSBjb250YWN0XCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnRG9fbm90aGluZ1wnOiBcJ0RvIG5vdGhpbmdcJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdkZWZhdWx0VmFsXCc6IEh1YlNwb3RDb250YWN0Tm9NYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ2Rpc3BOYW1lXCc6IFwnQ2hvb3NlIHdoYXQgaGFwcGVucyB3aGVuIGEgY3VzdG9tZXIgaW4gQ2hhcmdlYmVlIGhhcyBhIG1hdGNoaW5nIGNvbnRhY3QgaW4gSHViU3BvdC48c3Bhbj48PC9zcGFuPmEgaHJlZj0naHR0cHM6Ly93d3cuY2hhcmdlYmVlLmNvbS9kb2NzL2h1YnNwb3QuaHRtbCcgdGFyZ2V0PSdibGFuayc8c3Bhbj4+PC9zcGFuPkxlYXJuIG1vcmU8c3Bhbj48PC9zcGFuPi9hPHNwYW4+Pjwvc3Bhbj5cJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ3JlcVwnOiBcJ3RydWVcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ3R5cGVcJzogXCdEUk9QRE9XTlwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnaWRcJzogXCdIdWJTcG90Q29udGFjdE1hdGNoXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdkZXNjXCc6IFwnWW91IGNhbiBjaG9vc2UgdG8gdXBkYXRlIGVtcHR5IGZpZWxkcyBvciBvdmVycmlkZSBleGlzdGluZyBmaWVsZHMgaW4gSHViU3BvdCB3aXRoIGN1c3RvbWVyIGRldGFpbHMgZnJvbSBDaGFyZ2ViZWUuIFwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnYWxsb3dlZFZhbHVlc1wnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnVXBkYXRlX2VtcHR5X0h1YnNwb3RfZmllbGRzXCc6IFwnVXBkYXRlIGVtcHR5IEh1YlNwb3QgZmllbGRzXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnT3ZlcnJpZGVfdGhlX2ZpZWxkc1wnOiBcJ092ZXJyaWRlIHRoZSBmaWVsZHNcJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdkZWZhdWx0VmFsXCc6IEh1YlNwb3RDb250YWN0TWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnZGlzcE5hbWVcJzpcJ1N5bmMgYW5kIFVwZGF0ZSBMaWZlY3ljbGUgc3RhZ2VzIGluIEh1YnNwb3RcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwnZGVzY1wnOlwnWW91IGNhbiBtYXAgc3Vic2NyaXB0aW9uIHN0YXR1cyBvZiB5b3VyIENoYXJnZWJlZSBjdXN0b21lcnMgdG8gdGhlIGRpZmZlcmVudCBsaWZlY3ljbGUgc3RhZ2VzIG9mIGEgY29udGFjdCBpbiBIdWJzcG90XCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ3R5cGVcJzpcJ1RPR0dMRVwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdpZFwnOlwnSHVic3BvdFN0YWdlVG9nZ2xlXCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcJ2RlZmF1bHRWYWxcJzogSHVic3BvdFN0YWdlVG9nZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCdpc0R5bmFtaWNcJzpcJ3RydWVcJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwncmVxdWVzdFwnOiBkeW5hbWljUmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwnaWRcJzogXCdjaGVjazFcJyxcbiAgICAgICAgICAgICAgICBcJ2lzQ2FyZERvbmVcJzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcblxuaWYoSHVic3BvdFN0YWdlVG9nZ2xlID09PSBcJ3RydWVcJylcbntcbiAgICBsZXQgbmV3UGFyYW1zID0gXy5jb25jYXQoY2FyZC5jYXJkc1swXS5jYXJkLnBhcmFtcywgc3RhZ2VzKTtcbiAgICBjYXJkLmNhcmRzWzBdLmNhcmQucGFyYW1zID0gbmV3UGFyYW1zO1xufVxuXG5kb25lKHtcbiAgICByZXN1bHQ6IGNhcmRcbiAgfSk7Jzxicj4gIH08YnI+fTwvcHJlPjwvYm9keT48L2h0bWw+'));document.close();" "JavaScript:<br><pre><br>const _ = require('lodash');<br><br>let query = trigger.args.request.query;<br>let getDefault = (param,defaultValue)=<span>></span>{ <br>  if(query[param] !== undefined) { <br>    return query[param];}<br>  return defaultValue;<br>}<br>let HubspotStageToggle = getDefault('HubspotStageToggle', 'false');<br>let CustomersToSync = getDefault('CustomersToSync', 'All_Customers');<br>let HubSpotContactNoMatch = getDefault('HubSpotContactNoMatch', 'Create_contact');<br>let HubSpotContactMatch = getDefault('HubSpotContactMatch', 'Update_empty_Hubspot_fields');<br><br>let cloudElementsUrl = steps.EnvProps.cloudElementsUrl;<br>let card;<br><br>let instanceId = info.formulaInstanceId;<br><br>let dynamicRequest =  {<br>  type: 'ON_CHANGE_FETCH_INPUT',<br>  apiEndPoint: {<br>    apiUrl: cloudElementsUrl+'/hubspot/stagestoggle',<br>    type: 'GET',<br>    headers: {<br>      'Elements-Formula-Instance-Id': instanceId,<br>    }<br>  },<br>};<br><br>let stages = steps.getLifeCycleStages.stages;<br><br>    card = {<br>        'cards': [<br>            {<br>                'card': {<br>                    'type': 'DYNAMIC_INPUT',<br>                    'params': [<br>                        {<br>                            'dispName': 'Choose customers you'd like to sync',<br>                            'req': 'true',<br>                            'type': 'DROPDOWN',<br>                            'id': 'CustomersToSync',<br>                            'allowedValues': {<br>                                'All_Customers': 'All Customers',<br>                                'Customers_with_Active_subscriptions': 'Customers with Active subscriptions'<br>                            },<br>                            'defaultVal': CustomersToSync<br>                        },<br>                        {<br>                            'dispName': 'Choose what happens when a customer in Chargebee does not have a matching contact in HubSpot',<br>                            'req': 'true',<br>                            'type': 'DROPDOWN',<br>                            'id': 'HubSpotContactNoMatch',<br>                            'desc': 'Chargebee will match customers with contacts in HubSpot using the Email ID field. When no matching contacts are found, you can choose to create a contact in HubSpot or do nothing',<br>                            'allowedValues': {<br>                                'Create_contact': 'Create contact',<br>                                'Do_nothing': 'Do nothing'<br>                            },<br>                            'defaultVal': HubSpotContactNoMatch<br>                        },<br>                        {<br>                            'dispName': 'Choose what happens when a customer in Chargebee has a matching contact in HubSpot.<span><</span>a href='https://www.chargebee.com/docs/hubspot.html' target='blank'<span>></span>Learn more<span><</span>/a<span>></span>',<br>                            'req': 'true',<br>                            'type': 'DROPDOWN',<br>                            'id': 'HubSpotContactMatch',<br>                            'desc': 'You can choose to update empty fields or override existing fields in HubSpot with customer details from Chargebee. ',<br>                            'allowedValues': {<br>                                'Update_empty_Hubspot_fields': 'Update empty HubSpot fields',<br>                                'Override_the_fields': 'Override the fields'<br>                            },<br>                            'defaultVal': HubSpotContactMatch<br>                        },<br>                        {       <br>                            'dispName':'Sync and Update Lifecycle stages in Hubspot',<br>                              'desc':'You can map subscription status of your Chargebee customers to the different lifecycle stages of a contact in Hubspot',<br>                              'type':'TOGGLE',<br>                              'id':'HubspotStageToggle',<br>                              'defaultVal': HubspotStageToggle,<br>                              'isDynamic':'true',<br>                              'request': dynamicRequest<br>                        }<br>                              <br>                    ]<br>                },<br>                'id': 'check1',<br>                'isCardDone': true<br>            }<br>        ]<br>    };<br><br>if(HubspotStageToggle === 'true')<br>{<br>    let newParams = _.concat(card.cards[0].card.params, stages);<br>    card.cards[0].card.params = newParams;<br>}<br><br>done({<br>    result: card<br>  });</pre>"

        </div>
    </div>
    <h2>
        Formula Configuration
    </h2>
    <div class="container">
        <h3>Basic</h3><table><tr><th>key</th><th>value</th></tr><tr><td>Name</td><td>DynamicToggle</td></tr><tr><td>Single Threaded?</td><td>false</td></tr><tr><td>Active?</td><td>true</td></tr><tr><td>Number of Steps</td><td>4</td></tr><tr><td>Number of Triggers</td><td>1</td></tr></table>
    <br/><h3>Elements</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table>
    <br/><h3>Values</h3><table><tr><th>key</th><th>name</th><th>required</th></tr></table><br/>
    </div>
    <div class="key">
        <h2>
            Key
        </h2>
        <table>
            <tr>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
                <th>Description</th>
                <th>Symbol</th>
            </tr>

            <tr>
                <td>Filter Steps</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A{Step Name}
                    </div>
                </td>
                <td>Trigger/End</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        B((Actual))
                        C((Generated))
                        style C stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Request Step</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        A>GET]
                        style A stroke:#0f6ab4;
                    </div>
                    <div class="mermaid">
                        graph TD
                        B>POST]
                        style B stroke:#10a54a;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PATCH]
                        style C stroke:#D38042;
                    </div>
                    <div class="mermaid">
                        graph TD
                        C>PUT]
                        style C stroke:#C5862B;
                    </div>
                    <div class="mermaid">
                        graph TD
                        D>DELETE]
                        style D stroke:#a41e22;
                    </div>
                </td>
            </tr>
            <tr>
                <td>Script</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(Step Name)
                    </div>
                </td>
                <td>Loop</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D(-Step Name-)
                    </div>
                </td>
                <td>Other(TYPE)</td>
                <td>
                    <div class="mermaid">
                        graph TD
                        D[Step Name]
                    </div>
                </td>
            </tr>
            <tr>
                <td>Pass/Fail Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL-->BL
                    </div>
                </td>
                <td>Generated Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL((B))
                        AL-.->BL
                        style BL stroke-width:2px,stroke-dasharray: 5, 5;
                    </div>
                </td>
                <td>Continue Connection</td>
                <td>
                    <div class="mermaid">
                        graph LR
                        AL(A)
                        BL(B)
                        AL==>BL
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    </div>
</body>
</html>